var dl=Object.defineProperty;var vl=(e,t,r)=>t in e?dl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var sr=(e,t,r)=>(vl(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function ki(e,t){const r=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return t?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const Pe={},vr=[],ut=()=>{},pl=()=>!1,gl=/^on[^a-z]/,Mn=e=>gl.test(e),Ri=e=>e.startsWith("onUpdate:"),Ne=Object.assign,Fi=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},ml=Object.prototype.hasOwnProperty,_e=(e,t)=>ml.call(e,t),ie=Array.isArray,pr=e=>An(e)==="[object Map]",ba=e=>An(e)==="[object Set]",ue=e=>typeof e=="function",Fe=e=>typeof e=="string",Oi=e=>typeof e=="symbol",Ie=e=>e!==null&&typeof e=="object",Sa=e=>Ie(e)&&ue(e.then)&&ue(e.catch),wa=Object.prototype.toString,An=e=>wa.call(e),_l=e=>An(e).slice(8,-1),Ca=e=>An(e)==="[object Object]",Bi=e=>Fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,vn=ki(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Dn=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},yl=/-(\w)/g,wt=Dn(e=>e.replace(yl,(t,r)=>r?r.toUpperCase():"")),xl=/\B([A-Z])/g,Er=Dn(e=>e.replace(xl,"-$1").toLowerCase()),kn=Dn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Un=Dn(e=>e?`on${kn(e)}`:""),Yr=(e,t)=>!Object.is(e,t),$n=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},yn=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},bl=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let po;const ci=()=>po||(po=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Li(e){if(ie(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=Fe(n)?El(n):Li(n);if(i)for(const o in i)t[o]=i[o]}return t}else{if(Fe(e))return e;if(Ie(e))return e}}const Sl=/;(?![^(]*\))/g,wl=/:([^]+)/,Cl=/\/\*[^]*?\*\//g;function El(e){const t={};return e.replace(Cl,"").split(Sl).forEach(r=>{if(r){const n=r.split(wl);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Ni(e){let t="";if(Fe(e))t=e;else if(ie(e))for(let r=0;r<e.length;r++){const n=Ni(e[r]);n&&(t+=n+" ")}else if(Ie(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Il="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Pl=ki(Il);function Ea(e){return!!e||e===""}const Tr=e=>Fe(e)?e:e==null?"":ie(e)||Ie(e)&&(e.toString===wa||!ue(e.toString))?JSON.stringify(e,Ia,2):String(e),Ia=(e,t)=>t&&t.__v_isRef?Ia(e,t.value):pr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i])=>(r[`${n} =>`]=i,r),{})}:ba(t)?{[`Set(${t.size})`]:[...t.values()]}:Ie(t)&&!ie(t)&&!Ca(t)?String(t):t;let Ge;class Pa{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ge,!t&&Ge&&(this.index=(Ge.scopes||(Ge.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=Ge;try{return Ge=this,t()}finally{Ge=r}}}on(){Ge=this}off(){Ge=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Ta(e){return new Pa(e)}function Tl(e,t=Ge){t&&t.active&&t.effects.push(e)}function Vi(){return Ge}function Ma(e){Ge&&Ge.cleanups.push(e)}const Wi=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Aa=e=>(e.w&Ht)>0,Da=e=>(e.n&Ht)>0,Ml=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ht},Al=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const i=t[n];Aa(i)&&!Da(i)?i.delete(e):t[r++]=i,i.w&=~Ht,i.n&=~Ht}t.length=r}},xn=new WeakMap;let Rr=0,Ht=1;const fi=30;let at;const er=Symbol(""),hi=Symbol("");class zi{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,Tl(this,n)}run(){if(!this.active)return this.fn();let t=at,r=zt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=at,at=this,zt=!0,Ht=1<<++Rr,Rr<=fi?Ml(this):go(this),this.fn()}finally{Rr<=fi&&Al(this),Ht=1<<--Rr,at=this.parent,zt=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){at===this?this.deferStop=!0:this.active&&(go(this),this.onStop&&this.onStop(),this.active=!1)}}function go(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let zt=!0;const ka=[];function Ir(){ka.push(zt),zt=!1}function Pr(){const e=ka.pop();zt=e===void 0?!0:e}function Ke(e,t,r){if(zt&&at){let n=xn.get(e);n||xn.set(e,n=new Map);let i=n.get(r);i||n.set(r,i=Wi()),Ra(i)}}function Ra(e,t){let r=!1;Rr<=fi?Da(e)||(e.n|=Ht,r=!Aa(e)):r=!e.has(at),r&&(e.add(at),at.deps.push(e))}function Dt(e,t,r,n,i,o){const a=xn.get(e);if(!a)return;let s=[];if(t==="clear")s=[...a.values()];else if(r==="length"&&ie(e)){const l=Number(n);a.forEach((u,c)=>{(c==="length"||c>=l)&&s.push(u)})}else switch(r!==void 0&&s.push(a.get(r)),t){case"add":ie(e)?Bi(r)&&s.push(a.get("length")):(s.push(a.get(er)),pr(e)&&s.push(a.get(hi)));break;case"delete":ie(e)||(s.push(a.get(er)),pr(e)&&s.push(a.get(hi)));break;case"set":pr(e)&&s.push(a.get(er));break}if(s.length===1)s[0]&&di(s[0]);else{const l=[];for(const u of s)u&&l.push(...u);di(Wi(l))}}function di(e,t){const r=ie(e)?e:[...e];for(const n of r)n.computed&&mo(n);for(const n of r)n.computed||mo(n)}function mo(e,t){(e!==at||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Dl(e,t){var r;return(r=xn.get(e))==null?void 0:r.get(t)}const kl=ki("__proto__,__v_isRef,__isVue"),Fa=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Oi)),Rl=Xi(),Fl=Xi(!1,!0),Ol=Xi(!0),_o=Bl();function Bl(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=me(this);for(let o=0,a=this.length;o<a;o++)Ke(n,"get",o+"");const i=n[t](...r);return i===-1||i===!1?n[t](...r.map(me)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Ir();const n=me(this)[t].apply(this,r);return Pr(),n}}),e}function Ll(e){const t=me(this);return Ke(t,"has",e),t.hasOwnProperty(e)}function Xi(e=!1,t=!1){return function(n,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?Jl:Va:t?Na:La).get(n))return n;const a=ie(n);if(!e){if(a&&_e(_o,i))return Reflect.get(_o,i,o);if(i==="hasOwnProperty")return Ll}const s=Reflect.get(n,i,o);return(Oi(i)?Fa.has(i):kl(i))||(e||Ke(n,"get",i),t)?s:Ee(s)?a&&Bi(i)?s:s.value:Ie(s)?e?Fn(s):rn(s):s}}const Nl=Oa(),Vl=Oa(!0);function Oa(e=!1){return function(r,n,i,o){let a=r[n];if(_r(a)&&Ee(a)&&!Ee(i))return!1;if(!e&&(!bn(i)&&!_r(i)&&(a=me(a),i=me(i)),!ie(r)&&Ee(a)&&!Ee(i)))return a.value=i,!0;const s=ie(r)&&Bi(n)?Number(n)<r.length:_e(r,n),l=Reflect.set(r,n,i,o);return r===me(o)&&(s?Yr(i,a)&&Dt(r,"set",n,i):Dt(r,"add",n,i)),l}}function Wl(e,t){const r=_e(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&Dt(e,"delete",t,void 0),n}function zl(e,t){const r=Reflect.has(e,t);return(!Oi(t)||!Fa.has(t))&&Ke(e,"has",t),r}function Xl(e){return Ke(e,"iterate",ie(e)?"length":er),Reflect.ownKeys(e)}const Ba={get:Rl,set:Nl,deleteProperty:Wl,has:zl,ownKeys:Xl},jl={get:Ol,set(e,t){return!0},deleteProperty(e,t){return!0}},Hl=Ne({},Ba,{get:Fl,set:Vl}),ji=e=>e,Rn=e=>Reflect.getPrototypeOf(e);function an(e,t,r=!1,n=!1){e=e.__v_raw;const i=me(e),o=me(t);r||(t!==o&&Ke(i,"get",t),Ke(i,"get",o));const{has:a}=Rn(i),s=n?ji:r?Ui:Ur;if(a.call(i,t))return s(e.get(t));if(a.call(i,o))return s(e.get(o));e!==i&&e.get(t)}function sn(e,t=!1){const r=this.__v_raw,n=me(r),i=me(e);return t||(e!==i&&Ke(n,"has",e),Ke(n,"has",i)),e===i?r.has(e):r.has(e)||r.has(i)}function ln(e,t=!1){return e=e.__v_raw,!t&&Ke(me(e),"iterate",er),Reflect.get(e,"size",e)}function yo(e){e=me(e);const t=me(this);return Rn(t).has.call(t,e)||(t.add(e),Dt(t,"add",e,e)),this}function xo(e,t){t=me(t);const r=me(this),{has:n,get:i}=Rn(r);let o=n.call(r,e);o||(e=me(e),o=n.call(r,e));const a=i.call(r,e);return r.set(e,t),o?Yr(t,a)&&Dt(r,"set",e,t):Dt(r,"add",e,t),this}function bo(e){const t=me(this),{has:r,get:n}=Rn(t);let i=r.call(t,e);i||(e=me(e),i=r.call(t,e)),n&&n.call(t,e);const o=t.delete(e);return i&&Dt(t,"delete",e,void 0),o}function So(){const e=me(this),t=e.size!==0,r=e.clear();return t&&Dt(e,"clear",void 0,void 0),r}function un(e,t){return function(n,i){const o=this,a=o.__v_raw,s=me(a),l=t?ji:e?Ui:Ur;return!e&&Ke(s,"iterate",er),a.forEach((u,c)=>n.call(i,l(u),l(c),o))}}function cn(e,t,r){return function(...n){const i=this.__v_raw,o=me(i),a=pr(o),s=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,u=i[e](...n),c=r?ji:t?Ui:Ur;return!t&&Ke(o,"iterate",l?hi:er),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:s?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function Ft(e){return function(...t){return e==="delete"?!1:this}}function Yl(){const e={get(o){return an(this,o)},get size(){return ln(this)},has:sn,add:yo,set:xo,delete:bo,clear:So,forEach:un(!1,!1)},t={get(o){return an(this,o,!1,!0)},get size(){return ln(this)},has:sn,add:yo,set:xo,delete:bo,clear:So,forEach:un(!1,!0)},r={get(o){return an(this,o,!0)},get size(){return ln(this,!0)},has(o){return sn.call(this,o,!0)},add:Ft("add"),set:Ft("set"),delete:Ft("delete"),clear:Ft("clear"),forEach:un(!0,!1)},n={get(o){return an(this,o,!0,!0)},get size(){return ln(this,!0)},has(o){return sn.call(this,o,!0)},add:Ft("add"),set:Ft("set"),delete:Ft("delete"),clear:Ft("clear"),forEach:un(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=cn(o,!1,!1),r[o]=cn(o,!0,!1),t[o]=cn(o,!1,!0),n[o]=cn(o,!0,!0)}),[e,r,t,n]}const[Ul,$l,Kl,Gl]=Yl();function Hi(e,t){const r=t?e?Gl:Kl:e?$l:Ul;return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(_e(r,i)&&i in n?r:n,i,o)}const ql={get:Hi(!1,!1)},Zl={get:Hi(!1,!0)},Ql={get:Hi(!0,!1)},La=new WeakMap,Na=new WeakMap,Va=new WeakMap,Jl=new WeakMap;function eu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tu(e){return e.__v_skip||!Object.isExtensible(e)?0:eu(_l(e))}function rn(e){return _r(e)?e:Yi(e,!1,Ba,ql,La)}function Wa(e){return Yi(e,!1,Hl,Zl,Na)}function Fn(e){return Yi(e,!0,jl,Ql,Va)}function Yi(e,t,r,n,i){if(!Ie(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const a=tu(e);if(a===0)return e;const s=new Proxy(e,a===2?n:r);return i.set(e,s),s}function Mt(e){return _r(e)?Mt(e.__v_raw):!!(e&&e.__v_isReactive)}function _r(e){return!!(e&&e.__v_isReadonly)}function bn(e){return!!(e&&e.__v_isShallow)}function za(e){return Mt(e)||_r(e)}function me(e){const t=e&&e.__v_raw;return t?me(t):e}function On(e){return yn(e,"__v_skip",!0),e}const Ur=e=>Ie(e)?rn(e):e,Ui=e=>Ie(e)?Fn(e):e;function $i(e){zt&&at&&(e=me(e),Ra(e.dep||(e.dep=Wi())))}function Ki(e,t){e=me(e);const r=e.dep;r&&di(r)}function Ee(e){return!!(e&&e.__v_isRef===!0)}function $e(e){return Xa(e,!1)}function pn(e){return Xa(e,!0)}function Xa(e,t){return Ee(e)?e:new ru(e,t)}class ru{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:me(t),this._value=r?t:Ur(t)}get value(){return $i(this),this._value}set value(t){const r=this.__v_isShallow||bn(t)||_r(t);t=r?t:me(t),Yr(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:Ur(t),Ki(this))}}function At(e){return Ee(e)?e.value:e}const nu={get:(e,t,r)=>At(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return Ee(i)&&!Ee(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function ja(e){return Mt(e)?e:new Proxy(e,nu)}class iu{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:n}=t(()=>$i(this),()=>Ki(this));this._get=r,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function ou(e){return new iu(e)}function au(e){const t=ie(e)?new Array(e.length):{};for(const r in e)t[r]=Ya(e,r);return t}class su{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Dl(me(this._object),this._key)}}class lu{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ha(e,t,r){return Ee(e)?e:ue(e)?new lu(e):Ie(e)&&arguments.length>1?Ya(e,t,r):$e(e)}function Ya(e,t,r){const n=e[t];return Ee(n)?n:new su(e,t,r)}class uu{constructor(t,r,n,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new zi(t,()=>{this._dirty||(this._dirty=!0,Ki(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=me(this);return $i(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function cu(e,t,r=!1){let n,i;const o=ue(e);return o?(n=e,i=ut):(n=e.get,i=e.set),new uu(n,i,o||!i,r)}function Xt(e,t,r,n){let i;try{i=n?e(...n):e()}catch(o){Bn(o,t,r)}return i}function ct(e,t,r,n){if(ue(e)){const o=Xt(e,t,r,n);return o&&Sa(o)&&o.catch(a=>{Bn(a,t,r)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(ct(e[o],t,r,n));return i}function Bn(e,t,r,n=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const a=t.proxy,s=r;for(;o;){const u=o.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,a,s)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){Xt(l,null,10,[e,a,s]);return}}fu(e,r,i,n)}function fu(e,t,r,n=!0){console.error(e)}let $r=!1,vi=!1;const je=[];let _t=0;const gr=[];let Tt=null,qt=0;const Ua=Promise.resolve();let Gi=null;function qi(e){const t=Gi||Ua;return e?t.then(this?e.bind(this):e):t}function hu(e){let t=_t+1,r=je.length;for(;t<r;){const n=t+r>>>1;Kr(je[n])<e?t=n+1:r=n}return t}function Zi(e){(!je.length||!je.includes(e,$r&&e.allowRecurse?_t+1:_t))&&(e.id==null?je.push(e):je.splice(hu(e.id),0,e),$a())}function $a(){!$r&&!vi&&(vi=!0,Gi=Ua.then(Ga))}function du(e){const t=je.indexOf(e);t>_t&&je.splice(t,1)}function vu(e){ie(e)?gr.push(...e):(!Tt||!Tt.includes(e,e.allowRecurse?qt+1:qt))&&gr.push(e),$a()}function wo(e,t=$r?_t+1:0){for(;t<je.length;t++){const r=je[t];r&&r.pre&&(je.splice(t,1),t--,r())}}function Ka(e){if(gr.length){const t=[...new Set(gr)];if(gr.length=0,Tt){Tt.push(...t);return}for(Tt=t,Tt.sort((r,n)=>Kr(r)-Kr(n)),qt=0;qt<Tt.length;qt++)Tt[qt]();Tt=null,qt=0}}const Kr=e=>e.id==null?1/0:e.id,pu=(e,t)=>{const r=Kr(e)-Kr(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function Ga(e){vi=!1,$r=!0,je.sort(pu);const t=ut;try{for(_t=0;_t<je.length;_t++){const r=je[_t];r&&r.active!==!1&&Xt(r,null,14)}}finally{_t=0,je.length=0,Ka(),$r=!1,Gi=null,(je.length||gr.length)&&Ga()}}function gu(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Pe;let i=r;const o=t.startsWith("update:"),a=o&&t.slice(7);if(a&&a in n){const c=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:h}=n[c]||Pe;h&&(i=r.map(d=>Fe(d)?d.trim():d)),f&&(i=r.map(bl))}let s,l=n[s=Un(t)]||n[s=Un(wt(t))];!l&&o&&(l=n[s=Un(Er(t))]),l&&ct(l,e,6,i);const u=n[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,ct(u,e,6,i)}}function qa(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let a={},s=!1;if(!ue(e)){const l=u=>{const c=qa(u,t,!0);c&&(s=!0,Ne(a,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!s?(Ie(e)&&n.set(e,null),null):(ie(o)?o.forEach(l=>a[l]=null):Ne(a,o),Ie(e)&&n.set(e,a),a)}function Ln(e,t){return!e||!Mn(t)?!1:(t=t.slice(2).replace(/Once$/,""),_e(e,t[0].toLowerCase()+t.slice(1))||_e(e,Er(t))||_e(e,t))}let rt=null,Nn=null;function Sn(e){const t=rt;return rt=e,Nn=e&&e.type.__scopeId||null,t}function mu(e){Nn=e}function _u(){Nn=null}function yu(e,t=rt,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&Oo(-1);const o=Sn(t);let a;try{a=e(...i)}finally{Sn(o),n._d&&Oo(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function Kn(e){const{type:t,vnode:r,proxy:n,withProxy:i,props:o,propsOptions:[a],slots:s,attrs:l,emit:u,render:c,renderCache:f,data:h,setupState:d,ctx:v,inheritAttrs:g}=e;let p,m;const y=Sn(e);try{if(r.shapeFlag&4){const b=i||n;p=gt(c.call(b,b,f,o,d,h,v)),m=l}else{const b=t;p=gt(b.length>1?b(o,{attrs:l,slots:s,emit:u}):b(o,null)),m=t.props?l:xu(l)}}catch(b){Lr.length=0,Bn(b,e,1),p=ke(qr)}let x=p;if(m&&g!==!1){const b=Object.keys(m),{shapeFlag:C}=x;b.length&&C&7&&(a&&b.some(Ri)&&(m=bu(m,a)),x=yr(x,m))}return r.dirs&&(x=yr(x),x.dirs=x.dirs?x.dirs.concat(r.dirs):r.dirs),r.transition&&(x.transition=r.transition),p=x,Sn(y),p}const xu=e=>{let t;for(const r in e)(r==="class"||r==="style"||Mn(r))&&((t||(t={}))[r]=e[r]);return t},bu=(e,t)=>{const r={};for(const n in e)(!Ri(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function Su(e,t,r){const{props:n,children:i,component:o}=e,{props:a,children:s,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?Co(n,a,u):!!a;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(a[h]!==n[h]&&!Ln(u,h))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===a?!1:n?a?Co(n,a,u):!0:!!a;return!1}function Co(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!Ln(r,o))return!0}return!1}function wu({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const Cu=e=>e.__isSuspense;function Eu(e,t){t&&t.pendingBranch?ie(e)?t.effects.push(...e):t.effects.push(e):vu(e)}const fn={};function bt(e,t,r){return Za(e,t,r)}function Za(e,t,{immediate:r,deep:n,flush:i,onTrack:o,onTrigger:a}=Pe){var s;const l=Vi()===((s=Le)==null?void 0:s.scope)?Le:null;let u,c=!1,f=!1;if(Ee(e)?(u=()=>e.value,c=bn(e)):Mt(e)?(u=()=>e,n=!0):ie(e)?(f=!0,c=e.some(b=>Mt(b)||bn(b)),u=()=>e.map(b=>{if(Ee(b))return b.value;if(Mt(b))return dr(b);if(ue(b))return Xt(b,l,2)})):ue(e)?t?u=()=>Xt(e,l,2):u=()=>{if(!(l&&l.isUnmounted))return h&&h(),ct(e,l,3,[d])}:u=ut,t&&n){const b=u;u=()=>dr(b())}let h,d=b=>{h=y.onStop=()=>{Xt(b,l,4)}},v;if(Qr)if(d=ut,t?r&&ct(t,l,3,[u(),f?[]:void 0,d]):u(),i==="sync"){const b=bc();v=b.__watcherHandles||(b.__watcherHandles=[])}else return ut;let g=f?new Array(e.length).fill(fn):fn;const p=()=>{if(y.active)if(t){const b=y.run();(n||c||(f?b.some((C,E)=>Yr(C,g[E])):Yr(b,g)))&&(h&&h(),ct(t,l,3,[b,g===fn?void 0:f&&g[0]===fn?[]:g,d]),g=b)}else y.run()};p.allowRecurse=!!t;let m;i==="sync"?m=p:i==="post"?m=()=>Ue(p,l&&l.suspense):(p.pre=!0,l&&(p.id=l.uid),m=()=>Zi(p));const y=new zi(u,m);t?r?p():g=y.run():i==="post"?Ue(y.run.bind(y),l&&l.suspense):y.run();const x=()=>{y.stop(),l&&l.scope&&Fi(l.scope.effects,y)};return v&&v.push(x),x}function Iu(e,t,r){const n=this.proxy,i=Fe(e)?e.includes(".")?Qa(n,e):()=>n[e]:e.bind(n,n);let o;ue(t)?o=t:(o=t.handler,r=t);const a=Le;xr(this);const s=Za(i,o.bind(n),r);return a?xr(a):tr(),s}function Qa(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function dr(e,t){if(!Ie(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ee(e))dr(e.value,t);else if(ie(e))for(let r=0;r<e.length;r++)dr(e[r],t);else if(ba(e)||pr(e))e.forEach(r=>{dr(r,t)});else if(Ca(e))for(const r in e)dr(e[r],t);return e}function $t(e,t,r,n){const i=e.dirs,o=t&&t.dirs;for(let a=0;a<i.length;a++){const s=i[a];o&&(s.oldValue=o[a].value);let l=s.dir[n];l&&(Ir(),ct(l,r,8,[e.el,s,e,t]),Pr())}}function Ja(e,t){return ue(e)?(()=>Ne({name:e.name},t,{setup:e}))():e}const gn=e=>!!e.type.__asyncLoader,es=e=>e.type.__isKeepAlive;function Pu(e,t){ts(e,"a",t)}function Tu(e,t){ts(e,"da",t)}function ts(e,t,r=Le){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Vn(t,n,r),r){let i=r.parent;for(;i&&i.parent;)es(i.parent.vnode)&&Mu(n,t,r,i),i=i.parent}}function Mu(e,t,r,n){const i=Vn(t,e,n,!0);Ji(()=>{Fi(n[t],i)},r)}function Vn(e,t,r=Le,n=!1){if(r){const i=r[e]||(r[e]=[]),o=t.__weh||(t.__weh=(...a)=>{if(r.isUnmounted)return;Ir(),xr(r);const s=ct(t,r,e,a);return tr(),Pr(),s});return n?i.unshift(o):i.push(o),o}}const Rt=e=>(t,r=Le)=>(!Qr||e==="sp")&&Vn(e,(...n)=>t(...n),r),Au=Rt("bm"),Qi=Rt("m"),Du=Rt("bu"),ku=Rt("u"),Ru=Rt("bum"),Ji=Rt("um"),Fu=Rt("sp"),Ou=Rt("rtg"),Bu=Rt("rtc");function Lu(e,t=Le){Vn("ec",e,t)}const rs="components";function Nu(e,t){return Wu(rs,e,!0,t)||e}const Vu=Symbol.for("v-ndc");function Wu(e,t,r=!0,n=!1){const i=rt||Le;if(i){const o=i.type;if(e===rs){const s=_c(o,!1);if(s&&(s===t||s===wt(t)||s===kn(wt(t))))return o}const a=Eo(i[e]||o[e],t)||Eo(i.appContext[e],t);return!a&&n?o:a}}function Eo(e,t){return e&&(e[t]||e[wt(t)]||e[kn(wt(t))])}function Io(e,t,r,n){let i;const o=r&&r[n];if(ie(e)||Fe(e)){i=new Array(e.length);for(let a=0,s=e.length;a<s;a++)i[a]=t(e[a],a,void 0,o&&o[a])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,o&&o[a])}else if(Ie(e))if(e[Symbol.iterator])i=Array.from(e,(a,s)=>t(a,s,void 0,o&&o[s]));else{const a=Object.keys(e);i=new Array(a.length);for(let s=0,l=a.length;s<l;s++){const u=a[s];i[s]=t(e[u],u,s,o&&o[s])}}else i=[];return r&&(r[n]=i),i}const pi=e=>e?ds(e)?io(e)||e.proxy:pi(e.parent):null,Br=Ne(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>pi(e.parent),$root:e=>pi(e.root),$emit:e=>e.emit,$options:e=>eo(e),$forceUpdate:e=>e.f||(e.f=()=>Zi(e.update)),$nextTick:e=>e.n||(e.n=qi.bind(e.proxy)),$watch:e=>Iu.bind(e)}),Gn=(e,t)=>e!==Pe&&!e.__isScriptSetup&&_e(e,t),zu={get({_:e},t){const{ctx:r,setupState:n,data:i,props:o,accessCache:a,type:s,appContext:l}=e;let u;if(t[0]!=="$"){const d=a[t];if(d!==void 0)switch(d){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return o[t]}else{if(Gn(n,t))return a[t]=1,n[t];if(i!==Pe&&_e(i,t))return a[t]=2,i[t];if((u=e.propsOptions[0])&&_e(u,t))return a[t]=3,o[t];if(r!==Pe&&_e(r,t))return a[t]=4,r[t];gi&&(a[t]=0)}}const c=Br[t];let f,h;if(c)return t==="$attrs"&&Ke(e,"get",t),c(e);if((f=s.__cssModules)&&(f=f[t]))return f;if(r!==Pe&&_e(r,t))return a[t]=4,r[t];if(h=l.config.globalProperties,_e(h,t))return h[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:o}=e;return Gn(i,t)?(i[t]=r,!0):n!==Pe&&_e(n,t)?(n[t]=r,!0):_e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:o}},a){let s;return!!r[a]||e!==Pe&&_e(e,a)||Gn(t,a)||(s=o[0])&&_e(s,a)||_e(n,a)||_e(Br,a)||_e(i.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:_e(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Po(e){return ie(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let gi=!0;function Xu(e){const t=eo(e),r=e.proxy,n=e.ctx;gi=!1,t.beforeCreate&&To(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:a,watch:s,provide:l,inject:u,created:c,beforeMount:f,mounted:h,beforeUpdate:d,updated:v,activated:g,deactivated:p,beforeDestroy:m,beforeUnmount:y,destroyed:x,unmounted:b,render:C,renderTracked:E,renderTriggered:I,errorCaptured:P,serverPrefetch:A,expose:O,inheritAttrs:R,components:j,directives:V,filters:$}=t;if(u&&ju(u,n,null),a)for(const te in a){const K=a[te];ue(K)&&(n[te]=K.bind(r))}if(i){const te=i.call(r,r);Ie(te)&&(e.data=rn(te))}if(gi=!0,o)for(const te in o){const K=o[te],de=ue(K)?K.bind(r,r):ue(K.get)?K.get.bind(r,r):ut,ve=!ue(K)&&ue(K.set)?K.set.bind(r):ut,ee=Ye({get:de,set:ve});Object.defineProperty(n,te,{enumerable:!0,configurable:!0,get:()=>ee.value,set:le=>ee.value=le})}if(s)for(const te in s)ns(s[te],n,r,te);if(l){const te=ue(l)?l.call(r):l;Reflect.ownKeys(te).forEach(K=>{mn(K,te[K])})}c&&To(c,e,"c");function N(te,K){ie(K)?K.forEach(de=>te(de.bind(r))):K&&te(K.bind(r))}if(N(Au,f),N(Qi,h),N(Du,d),N(ku,v),N(Pu,g),N(Tu,p),N(Lu,P),N(Bu,E),N(Ou,I),N(Ru,y),N(Ji,b),N(Fu,A),ie(O))if(O.length){const te=e.exposed||(e.exposed={});O.forEach(K=>{Object.defineProperty(te,K,{get:()=>r[K],set:de=>r[K]=de})})}else e.exposed||(e.exposed={});C&&e.render===ut&&(e.render=C),R!=null&&(e.inheritAttrs=R),j&&(e.components=j),V&&(e.directives=V)}function ju(e,t,r=ut){ie(e)&&(e=mi(e));for(const n in e){const i=e[n];let o;Ie(i)?"default"in i?o=St(i.from||n,i.default,!0):o=St(i.from||n):o=St(i),Ee(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[n]=o}}function To(e,t,r){ct(ie(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function ns(e,t,r,n){const i=n.includes(".")?Qa(r,n):()=>r[n];if(Fe(e)){const o=t[e];ue(o)&&bt(i,o)}else if(ue(e))bt(i,e.bind(r));else if(Ie(e))if(ie(e))e.forEach(o=>ns(o,t,r,n));else{const o=ue(e.handler)?e.handler.bind(r):t[e.handler];ue(o)&&bt(i,o,e)}}function eo(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,s=o.get(t);let l;return s?l=s:!i.length&&!r&&!n?l=t:(l={},i.length&&i.forEach(u=>wn(l,u,a,!0)),wn(l,t,a)),Ie(t)&&o.set(t,l),l}function wn(e,t,r,n=!1){const{mixins:i,extends:o}=t;o&&wn(e,o,r,!0),i&&i.forEach(a=>wn(e,a,r,!0));for(const a in t)if(!(n&&a==="expose")){const s=Hu[a]||r&&r[a];e[a]=s?s(e[a],t[a]):t[a]}return e}const Hu={data:Mo,props:Ao,emits:Ao,methods:Fr,computed:Fr,beforeCreate:He,created:He,beforeMount:He,mounted:He,beforeUpdate:He,updated:He,beforeDestroy:He,beforeUnmount:He,destroyed:He,unmounted:He,activated:He,deactivated:He,errorCaptured:He,serverPrefetch:He,components:Fr,directives:Fr,watch:Uu,provide:Mo,inject:Yu};function Mo(e,t){return t?e?function(){return Ne(ue(e)?e.call(this,this):e,ue(t)?t.call(this,this):t)}:t:e}function Yu(e,t){return Fr(mi(e),mi(t))}function mi(e){if(ie(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function He(e,t){return e?[...new Set([].concat(e,t))]:t}function Fr(e,t){return e?Ne(Object.create(null),e,t):t}function Ao(e,t){return e?ie(e)&&ie(t)?[...new Set([...e,...t])]:Ne(Object.create(null),Po(e),Po(t??{})):t}function Uu(e,t){if(!e)return t;if(!t)return e;const r=Ne(Object.create(null),e);for(const n in t)r[n]=He(e[n],t[n]);return r}function is(){return{app:null,config:{isNativeTag:pl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $u=0;function Ku(e,t){return function(n,i=null){ue(n)||(n=Ne({},n)),i!=null&&!Ie(i)&&(i=null);const o=is(),a=new Set;let s=!1;const l=o.app={_uid:$u++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:Sc,get config(){return o.config},set config(u){},use(u,...c){return a.has(u)||(u&&ue(u.install)?(a.add(u),u.install(l,...c)):ue(u)&&(a.add(u),u(l,...c))),l},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),l},component(u,c){return c?(o.components[u]=c,l):o.components[u]},directive(u,c){return c?(o.directives[u]=c,l):o.directives[u]},mount(u,c,f){if(!s){const h=ke(n,i);return h.appContext=o,c&&t?t(h,u):e(h,u,f),s=!0,l._container=u,u.__vue_app__=l,io(h.component)||h.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return o.provides[u]=c,l},runWithContext(u){Gr=l;try{return u()}finally{Gr=null}}};return l}}let Gr=null;function mn(e,t){if(Le){let r=Le.provides;const n=Le.parent&&Le.parent.provides;n===r&&(r=Le.provides=Object.create(n)),r[e]=t}}function St(e,t,r=!1){const n=Le||rt;if(n||Gr){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Gr._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&ue(t)?t.call(n&&n.proxy):t}}function Gu(){return!!(Le||rt||Gr)}function qu(e,t,r,n=!1){const i={},o={};yn(o,zn,1),e.propsDefaults=Object.create(null),os(e,t,i,o);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);r?e.props=n?i:Wa(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function Zu(e,t,r,n){const{props:i,attrs:o,vnode:{patchFlag:a}}=e,s=me(i),[l]=e.propsOptions;let u=!1;if((n||a>0)&&!(a&16)){if(a&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(Ln(e.emitsOptions,h))continue;const d=t[h];if(l)if(_e(o,h))d!==o[h]&&(o[h]=d,u=!0);else{const v=wt(h);i[v]=_i(l,s,v,d,e,!1)}else d!==o[h]&&(o[h]=d,u=!0)}}}else{os(e,t,i,o)&&(u=!0);let c;for(const f in s)(!t||!_e(t,f)&&((c=Er(f))===f||!_e(t,c)))&&(l?r&&(r[f]!==void 0||r[c]!==void 0)&&(i[f]=_i(l,s,f,void 0,e,!0)):delete i[f]);if(o!==s)for(const f in o)(!t||!_e(t,f))&&(delete o[f],u=!0)}u&&Dt(e,"set","$attrs")}function os(e,t,r,n){const[i,o]=e.propsOptions;let a=!1,s;if(t)for(let l in t){if(vn(l))continue;const u=t[l];let c;i&&_e(i,c=wt(l))?!o||!o.includes(c)?r[c]=u:(s||(s={}))[c]=u:Ln(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,a=!0)}if(o){const l=me(r),u=s||Pe;for(let c=0;c<o.length;c++){const f=o[c];r[f]=_i(i,l,f,u[f],e,!_e(u,f))}}return a}function _i(e,t,r,n,i,o){const a=e[r];if(a!=null){const s=_e(a,"default");if(s&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&ue(l)){const{propsDefaults:u}=i;r in u?n=u[r]:(xr(i),n=u[r]=l.call(null,t),tr())}else n=l}a[0]&&(o&&!s?n=!1:a[1]&&(n===""||n===Er(r))&&(n=!0))}return n}function as(e,t,r=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const o=e.props,a={},s=[];let l=!1;if(!ue(e)){const c=f=>{l=!0;const[h,d]=as(f,t,!0);Ne(a,h),d&&s.push(...d)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!o&&!l)return Ie(e)&&n.set(e,vr),vr;if(ie(o))for(let c=0;c<o.length;c++){const f=wt(o[c]);Do(f)&&(a[f]=Pe)}else if(o)for(const c in o){const f=wt(c);if(Do(f)){const h=o[c],d=a[f]=ie(h)||ue(h)?{type:h}:Ne({},h);if(d){const v=Fo(Boolean,d.type),g=Fo(String,d.type);d[0]=v>-1,d[1]=g<0||v<g,(v>-1||_e(d,"default"))&&s.push(f)}}}const u=[a,s];return Ie(e)&&n.set(e,u),u}function Do(e){return e[0]!=="$"}function ko(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Ro(e,t){return ko(e)===ko(t)}function Fo(e,t){return ie(t)?t.findIndex(r=>Ro(r,e)):ue(t)&&Ro(t,e)?0:-1}const ss=e=>e[0]==="_"||e==="$stable",to=e=>ie(e)?e.map(gt):[gt(e)],Qu=(e,t,r)=>{if(t._n)return t;const n=yu((...i)=>to(t(...i)),r);return n._c=!1,n},ls=(e,t,r)=>{const n=e._ctx;for(const i in e){if(ss(i))continue;const o=e[i];if(ue(o))t[i]=Qu(i,o,n);else if(o!=null){const a=to(o);t[i]=()=>a}}},us=(e,t)=>{const r=to(t);e.slots.default=()=>r},Ju=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=me(t),yn(t,"_",r)):ls(t,e.slots={})}else e.slots={},t&&us(e,t);yn(e.slots,zn,1)},ec=(e,t,r)=>{const{vnode:n,slots:i}=e;let o=!0,a=Pe;if(n.shapeFlag&32){const s=t._;s?r&&s===1?o=!1:(Ne(i,t),!r&&s===1&&delete i._):(o=!t.$stable,ls(t,i)),a=t}else t&&(us(e,t),a={default:1});if(o)for(const s in i)!ss(s)&&!(s in a)&&delete i[s]};function yi(e,t,r,n,i=!1){if(ie(e)){e.forEach((h,d)=>yi(h,t&&(ie(t)?t[d]:t),r,n,i));return}if(gn(n)&&!i)return;const o=n.shapeFlag&4?io(n.component)||n.component.proxy:n.el,a=i?null:o,{i:s,r:l}=e,u=t&&t.r,c=s.refs===Pe?s.refs={}:s.refs,f=s.setupState;if(u!=null&&u!==l&&(Fe(u)?(c[u]=null,_e(f,u)&&(f[u]=null)):Ee(u)&&(u.value=null)),ue(l))Xt(l,s,12,[a,c]);else{const h=Fe(l),d=Ee(l);if(h||d){const v=()=>{if(e.f){const g=h?_e(f,l)?f[l]:c[l]:l.value;i?ie(g)&&Fi(g,o):ie(g)?g.includes(o)||g.push(o):h?(c[l]=[o],_e(f,l)&&(f[l]=c[l])):(l.value=[o],e.k&&(c[e.k]=l.value))}else h?(c[l]=a,_e(f,l)&&(f[l]=a)):d&&(l.value=a,e.k&&(c[e.k]=a))};a?(v.id=-1,Ue(v,r)):v()}}}const Ue=Eu;function tc(e){return rc(e)}function rc(e,t){const r=ci();r.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:a,createText:s,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:h,setScopeId:d=ut,insertStaticContent:v}=e,g=(_,S,w,M=null,D=null,k=null,H=!1,L=null,z=!!S.dynamicChildren)=>{if(_===S)return;_&&!Mr(_,S)&&(M=T(_),le(_,D,k,!0),_=null),S.patchFlag===-2&&(z=!1,S.dynamicChildren=null);const{type:F,ref:Z,shapeFlag:U}=S;switch(F){case Wn:p(_,S,w,M);break;case qr:m(_,S,w,M);break;case qn:_==null&&y(S,w,M,H);break;case ot:j(_,S,w,M,D,k,H,L,z);break;default:U&1?C(_,S,w,M,D,k,H,L,z):U&6?V(_,S,w,M,D,k,H,L,z):(U&64||U&128)&&F.process(_,S,w,M,D,k,H,L,z,B)}Z!=null&&D&&yi(Z,_&&_.ref,k,S||_,!S)},p=(_,S,w,M)=>{if(_==null)n(S.el=s(S.children),w,M);else{const D=S.el=_.el;S.children!==_.children&&u(D,S.children)}},m=(_,S,w,M)=>{_==null?n(S.el=l(S.children||""),w,M):S.el=_.el},y=(_,S,w,M)=>{[_.el,_.anchor]=v(_.children,S,w,M,_.el,_.anchor)},x=({el:_,anchor:S},w,M)=>{let D;for(;_&&_!==S;)D=h(_),n(_,w,M),_=D;n(S,w,M)},b=({el:_,anchor:S})=>{let w;for(;_&&_!==S;)w=h(_),i(_),_=w;i(S)},C=(_,S,w,M,D,k,H,L,z)=>{H=H||S.type==="svg",_==null?E(S,w,M,D,k,H,L,z):A(_,S,D,k,H,L,z)},E=(_,S,w,M,D,k,H,L)=>{let z,F;const{type:Z,props:U,shapeFlag:G,transition:ne,dirs:fe}=_;if(z=_.el=a(_.type,k,U&&U.is,U),G&8?c(z,_.children):G&16&&P(_.children,z,null,M,D,k&&Z!=="foreignObject",H,L),fe&&$t(_,null,M,"created"),I(z,_,_.scopeId,H,M),U){for(const xe in U)xe!=="value"&&!vn(xe)&&o(z,xe,null,U[xe],k,_.children,M,D,ge);"value"in U&&o(z,"value",null,U.value),(F=U.onVnodeBeforeMount)&&vt(F,M,_)}fe&&$t(_,null,M,"beforeMount");const Ce=(!D||D&&!D.pendingBranch)&&ne&&!ne.persisted;Ce&&ne.beforeEnter(z),n(z,S,w),((F=U&&U.onVnodeMounted)||Ce||fe)&&Ue(()=>{F&&vt(F,M,_),Ce&&ne.enter(z),fe&&$t(_,null,M,"mounted")},D)},I=(_,S,w,M,D)=>{if(w&&d(_,w),M)for(let k=0;k<M.length;k++)d(_,M[k]);if(D){let k=D.subTree;if(S===k){const H=D.vnode;I(_,H,H.scopeId,H.slotScopeIds,D.parent)}}},P=(_,S,w,M,D,k,H,L,z=0)=>{for(let F=z;F<_.length;F++){const Z=_[F]=L?Lt(_[F]):gt(_[F]);g(null,Z,S,w,M,D,k,H,L)}},A=(_,S,w,M,D,k,H)=>{const L=S.el=_.el;let{patchFlag:z,dynamicChildren:F,dirs:Z}=S;z|=_.patchFlag&16;const U=_.props||Pe,G=S.props||Pe;let ne;w&&Kt(w,!1),(ne=G.onVnodeBeforeUpdate)&&vt(ne,w,S,_),Z&&$t(S,_,w,"beforeUpdate"),w&&Kt(w,!0);const fe=D&&S.type!=="foreignObject";if(F?O(_.dynamicChildren,F,L,w,M,fe,k):H||K(_,S,L,null,w,M,fe,k,!1),z>0){if(z&16)R(L,S,U,G,w,M,D);else if(z&2&&U.class!==G.class&&o(L,"class",null,G.class,D),z&4&&o(L,"style",U.style,G.style,D),z&8){const Ce=S.dynamicProps;for(let xe=0;xe<Ce.length;xe++){const Te=Ce[xe],Me=U[Te],Et=G[Te];(Et!==Me||Te==="value")&&o(L,Te,Me,Et,D,_.children,w,M,ge)}}z&1&&_.children!==S.children&&c(L,S.children)}else!H&&F==null&&R(L,S,U,G,w,M,D);((ne=G.onVnodeUpdated)||Z)&&Ue(()=>{ne&&vt(ne,w,S,_),Z&&$t(S,_,w,"updated")},M)},O=(_,S,w,M,D,k,H)=>{for(let L=0;L<S.length;L++){const z=_[L],F=S[L],Z=z.el&&(z.type===ot||!Mr(z,F)||z.shapeFlag&70)?f(z.el):w;g(z,F,Z,null,M,D,k,H,!0)}},R=(_,S,w,M,D,k,H)=>{if(w!==M){if(w!==Pe)for(const L in w)!vn(L)&&!(L in M)&&o(_,L,w[L],null,H,S.children,D,k,ge);for(const L in M){if(vn(L))continue;const z=M[L],F=w[L];z!==F&&L!=="value"&&o(_,L,F,z,H,S.children,D,k,ge)}"value"in M&&o(_,"value",w.value,M.value)}},j=(_,S,w,M,D,k,H,L,z)=>{const F=S.el=_?_.el:s(""),Z=S.anchor=_?_.anchor:s("");let{patchFlag:U,dynamicChildren:G,slotScopeIds:ne}=S;ne&&(L=L?L.concat(ne):ne),_==null?(n(F,w,M),n(Z,w,M),P(S.children,w,Z,D,k,H,L,z)):U>0&&U&64&&G&&_.dynamicChildren?(O(_.dynamicChildren,G,w,D,k,H,L),(S.key!=null||D&&S===D.subTree)&&cs(_,S,!0)):K(_,S,w,Z,D,k,H,L,z)},V=(_,S,w,M,D,k,H,L,z)=>{S.slotScopeIds=L,_==null?S.shapeFlag&512?D.ctx.activate(S,w,M,H,z):$(S,w,M,D,k,H,z):Q(_,S,z)},$=(_,S,w,M,D,k,H)=>{const L=_.component=dc(_,M,D);if(es(_)&&(L.ctx.renderer=B),vc(L),L.asyncDep){if(D&&D.registerDep(L,N),!_.el){const z=L.subTree=ke(qr);m(null,z,S,w)}return}N(L,_,S,w,D,k,H)},Q=(_,S,w)=>{const M=S.component=_.component;if(Su(_,S,w))if(M.asyncDep&&!M.asyncResolved){te(M,S,w);return}else M.next=S,du(M.update),M.update();else S.el=_.el,M.vnode=S},N=(_,S,w,M,D,k,H)=>{const L=()=>{if(_.isMounted){let{next:Z,bu:U,u:G,parent:ne,vnode:fe}=_,Ce=Z,xe;Kt(_,!1),Z?(Z.el=fe.el,te(_,Z,H)):Z=fe,U&&$n(U),(xe=Z.props&&Z.props.onVnodeBeforeUpdate)&&vt(xe,ne,Z,fe),Kt(_,!0);const Te=Kn(_),Me=_.subTree;_.subTree=Te,g(Me,Te,f(Me.el),T(Me),_,D,k),Z.el=Te.el,Ce===null&&wu(_,Te.el),G&&Ue(G,D),(xe=Z.props&&Z.props.onVnodeUpdated)&&Ue(()=>vt(xe,ne,Z,fe),D)}else{let Z;const{el:U,props:G}=S,{bm:ne,m:fe,parent:Ce}=_,xe=gn(S);if(Kt(_,!1),ne&&$n(ne),!xe&&(Z=G&&G.onVnodeBeforeMount)&&vt(Z,Ce,S),Kt(_,!0),U&&re){const Te=()=>{_.subTree=Kn(_),re(U,_.subTree,_,D,null)};xe?S.type.__asyncLoader().then(()=>!_.isUnmounted&&Te()):Te()}else{const Te=_.subTree=Kn(_);g(null,Te,w,M,_,D,k),S.el=Te.el}if(fe&&Ue(fe,D),!xe&&(Z=G&&G.onVnodeMounted)){const Te=S;Ue(()=>vt(Z,Ce,Te),D)}(S.shapeFlag&256||Ce&&gn(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&_.a&&Ue(_.a,D),_.isMounted=!0,S=w=M=null}},z=_.effect=new zi(L,()=>Zi(F),_.scope),F=_.update=()=>z.run();F.id=_.uid,Kt(_,!0),F()},te=(_,S,w)=>{S.component=_;const M=_.vnode.props;_.vnode=S,_.next=null,Zu(_,S.props,M,w),ec(_,S.children,w),Ir(),wo(),Pr()},K=(_,S,w,M,D,k,H,L,z=!1)=>{const F=_&&_.children,Z=_?_.shapeFlag:0,U=S.children,{patchFlag:G,shapeFlag:ne}=S;if(G>0){if(G&128){ve(F,U,w,M,D,k,H,L,z);return}else if(G&256){de(F,U,w,M,D,k,H,L,z);return}}ne&8?(Z&16&&ge(F,D,k),U!==F&&c(w,U)):Z&16?ne&16?ve(F,U,w,M,D,k,H,L,z):ge(F,D,k,!0):(Z&8&&c(w,""),ne&16&&P(U,w,M,D,k,H,L,z))},de=(_,S,w,M,D,k,H,L,z)=>{_=_||vr,S=S||vr;const F=_.length,Z=S.length,U=Math.min(F,Z);let G;for(G=0;G<U;G++){const ne=S[G]=z?Lt(S[G]):gt(S[G]);g(_[G],ne,w,null,D,k,H,L,z)}F>Z?ge(_,D,k,!0,!1,U):P(S,w,M,D,k,H,L,z,U)},ve=(_,S,w,M,D,k,H,L,z)=>{let F=0;const Z=S.length;let U=_.length-1,G=Z-1;for(;F<=U&&F<=G;){const ne=_[F],fe=S[F]=z?Lt(S[F]):gt(S[F]);if(Mr(ne,fe))g(ne,fe,w,null,D,k,H,L,z);else break;F++}for(;F<=U&&F<=G;){const ne=_[U],fe=S[G]=z?Lt(S[G]):gt(S[G]);if(Mr(ne,fe))g(ne,fe,w,null,D,k,H,L,z);else break;U--,G--}if(F>U){if(F<=G){const ne=G+1,fe=ne<Z?S[ne].el:M;for(;F<=G;)g(null,S[F]=z?Lt(S[F]):gt(S[F]),w,fe,D,k,H,L,z),F++}}else if(F>G)for(;F<=U;)le(_[F],D,k,!0),F++;else{const ne=F,fe=F,Ce=new Map;for(F=fe;F<=G;F++){const Ae=S[F]=z?Lt(S[F]):gt(S[F]);Ae.key!=null&&Ce.set(Ae.key,F)}let xe,Te=0;const Me=G-fe+1;let Et=!1,dt=0;const Ut=new Array(Me);for(F=0;F<Me;F++)Ut[F]=0;for(F=ne;F<=U;F++){const Ae=_[F];if(Te>=Me){le(Ae,D,k,!0);continue}let Ze;if(Ae.key!=null)Ze=Ce.get(Ae.key);else for(xe=fe;xe<=G;xe++)if(Ut[xe-fe]===0&&Mr(Ae,S[xe])){Ze=xe;break}Ze===void 0?le(Ae,D,k,!0):(Ut[Ze-fe]=F+1,Ze>=dt?dt=Ze:Et=!0,g(Ae,S[Ze],w,null,D,k,H,L,z),Te++)}const nn=Et?nc(Ut):vr;for(xe=nn.length-1,F=Me-1;F>=0;F--){const Ae=fe+F,Ze=S[Ae],Qe=Ae+1<Z?S[Ae+1].el:M;Ut[F]===0?g(null,Ze,w,Qe,D,k,H,L,z):Et&&(xe<0||F!==nn[xe]?ee(Ze,w,Qe,2):xe--)}}},ee=(_,S,w,M,D=null)=>{const{el:k,type:H,transition:L,children:z,shapeFlag:F}=_;if(F&6){ee(_.component.subTree,S,w,M);return}if(F&128){_.suspense.move(S,w,M);return}if(F&64){H.move(_,S,w,B);return}if(H===ot){n(k,S,w);for(let U=0;U<z.length;U++)ee(z[U],S,w,M);n(_.anchor,S,w);return}if(H===qn){x(_,S,w);return}if(M!==2&&F&1&&L)if(M===0)L.beforeEnter(k),n(k,S,w),Ue(()=>L.enter(k),D);else{const{leave:U,delayLeave:G,afterLeave:ne}=L,fe=()=>n(k,S,w),Ce=()=>{U(k,()=>{fe(),ne&&ne()})};G?G(k,fe,Ce):Ce()}else n(k,S,w)},le=(_,S,w,M=!1,D=!1)=>{const{type:k,props:H,ref:L,children:z,dynamicChildren:F,shapeFlag:Z,patchFlag:U,dirs:G}=_;if(L!=null&&yi(L,null,w,_,!0),Z&256){S.ctx.deactivate(_);return}const ne=Z&1&&G,fe=!gn(_);let Ce;if(fe&&(Ce=H&&H.onVnodeBeforeUnmount)&&vt(Ce,S,_),Z&6)pe(_.component,w,M);else{if(Z&128){_.suspense.unmount(w,M);return}ne&&$t(_,null,S,"beforeUnmount"),Z&64?_.type.remove(_,S,w,D,B,M):F&&(k!==ot||U>0&&U&64)?ge(F,S,w,!1,!0):(k===ot&&U&384||!D&&Z&16)&&ge(z,S,w),M&&oe(_)}(fe&&(Ce=H&&H.onVnodeUnmounted)||ne)&&Ue(()=>{Ce&&vt(Ce,S,_),ne&&$t(_,null,S,"unmounted")},w)},oe=_=>{const{type:S,el:w,anchor:M,transition:D}=_;if(S===ot){ae(w,M);return}if(S===qn){b(_);return}const k=()=>{i(w),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(_.shapeFlag&1&&D&&!D.persisted){const{leave:H,delayLeave:L}=D,z=()=>H(w,k);L?L(_.el,k,z):z()}else k()},ae=(_,S)=>{let w;for(;_!==S;)w=h(_),i(_),_=w;i(S)},pe=(_,S,w)=>{const{bum:M,scope:D,update:k,subTree:H,um:L}=_;M&&$n(M),D.stop(),k&&(k.active=!1,le(H,_,S,w)),L&&Ue(L,S),Ue(()=>{_.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},ge=(_,S,w,M=!1,D=!1,k=0)=>{for(let H=k;H<_.length;H++)le(_[H],S,w,M,D)},T=_=>_.shapeFlag&6?T(_.component.subTree):_.shapeFlag&128?_.suspense.next():h(_.anchor||_.el),W=(_,S,w)=>{_==null?S._vnode&&le(S._vnode,null,null,!0):g(S._vnode||null,_,S,null,null,null,w),wo(),Ka(),S._vnode=_},B={p:g,um:le,m:ee,r:oe,mt:$,mc:P,pc:K,pbc:O,n:T,o:e};let Y,re;return t&&([Y,re]=t(B)),{render:W,hydrate:Y,createApp:Ku(W,Y)}}function Kt({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function cs(e,t,r=!1){const n=e.children,i=t.children;if(ie(n)&&ie(i))for(let o=0;o<n.length;o++){const a=n[o];let s=i[o];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[o]=Lt(i[o]),s.el=a.el),r||cs(a,s)),s.type===Wn&&(s.el=a.el)}}function nc(e){const t=e.slice(),r=[0];let n,i,o,a,s;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(o=0,a=r.length-1;o<a;)s=o+a>>1,e[r[s]]<u?o=s+1:a=s;u<e[r[o]]&&(o>0&&(t[n]=r[o-1]),r[o]=n)}}for(o=r.length,a=r[o-1];o-- >0;)r[o]=a,a=t[a];return r}const ic=e=>e.__isTeleport,ot=Symbol.for("v-fgt"),Wn=Symbol.for("v-txt"),qr=Symbol.for("v-cmt"),qn=Symbol.for("v-stc"),Lr=[];let lt=null;function Vt(e=!1){Lr.push(lt=e?null:[])}function oc(){Lr.pop(),lt=Lr[Lr.length-1]||null}let Zr=1;function Oo(e){Zr+=e}function fs(e){return e.dynamicChildren=Zr>0?lt||vr:null,oc(),Zr>0&&lt&&lt.push(e),e}function Zt(e,t,r,n,i,o){return fs(Oe(e,t,r,n,i,o,!0))}function ac(e,t,r,n,i){return fs(ke(e,t,r,n,i,!0))}function xi(e){return e?e.__v_isVNode===!0:!1}function Mr(e,t){return e.type===t.type&&e.key===t.key}const zn="__vInternal",hs=({key:e})=>e??null,_n=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Fe(e)||Ee(e)||ue(e)?{i:rt,r:e,k:t,f:!!r}:e:null);function Oe(e,t=null,r=null,n=0,i=null,o=e===ot?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&hs(t),ref:t&&_n(t),scopeId:Nn,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:rt};return s?(ro(l,r),o&128&&e.normalize(l)):r&&(l.shapeFlag|=Fe(r)?8:16),Zr>0&&!a&&lt&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&lt.push(l),l}const ke=sc;function sc(e,t=null,r=null,n=0,i=null,o=!1){if((!e||e===Vu)&&(e=qr),xi(e)){const s=yr(e,t,!0);return r&&ro(s,r),Zr>0&&!o&&lt&&(s.shapeFlag&6?lt[lt.indexOf(e)]=s:lt.push(s)),s.patchFlag|=-2,s}if(yc(e)&&(e=e.__vccOpts),t){t=lc(t);let{class:s,style:l}=t;s&&!Fe(s)&&(t.class=Ni(s)),Ie(l)&&(za(l)&&!ie(l)&&(l=Ne({},l)),t.style=Li(l))}const a=Fe(e)?1:Cu(e)?128:ic(e)?64:Ie(e)?4:ue(e)?2:0;return Oe(e,t,r,n,i,a,o,!0)}function lc(e){return e?za(e)||zn in e?Ne({},e):e:null}function yr(e,t,r=!1){const{props:n,ref:i,patchFlag:o,children:a}=e,s=t?cc(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&hs(s),ref:t&&t.ref?r&&i?ie(i)?i.concat(_n(t)):[i,_n(t)]:_n(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ot?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&yr(e.ssContent),ssFallback:e.ssFallback&&yr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function uc(e=" ",t=0){return ke(Wn,null,e,t)}function gt(e){return e==null||typeof e=="boolean"?ke(qr):ie(e)?ke(ot,null,e.slice()):typeof e=="object"?Lt(e):ke(Wn,null,String(e))}function Lt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:yr(e)}function ro(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(ie(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),ro(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!(zn in t)?t._ctx=rt:i===3&&rt&&(rt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ue(t)?(t={default:t,_ctx:rt},r=32):(t=String(t),n&64?(r=16,t=[uc(t)]):r=8);e.children=t,e.shapeFlag|=r}function cc(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Ni([t.class,n.class]));else if(i==="style")t.style=Li([t.style,n.style]);else if(Mn(i)){const o=t[i],a=n[i];a&&o!==a&&!(ie(o)&&o.includes(a))&&(t[i]=o?[].concat(o,a):a)}else i!==""&&(t[i]=n[i])}return t}function vt(e,t,r,n=null){ct(e,t,7,[r,n])}const fc=is();let hc=0;function dc(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||fc,o={uid:hc++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Pa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:as(n,i),emitsOptions:qa(n,i),emit:null,emitted:null,propsDefaults:Pe,inheritAttrs:n.inheritAttrs,ctx:Pe,data:Pe,props:Pe,attrs:Pe,slots:Pe,refs:Pe,setupState:Pe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=gu.bind(null,o),e.ce&&e.ce(o),o}let Le=null,no,lr,Bo="__VUE_INSTANCE_SETTERS__";(lr=ci()[Bo])||(lr=ci()[Bo]=[]),lr.push(e=>Le=e),no=e=>{lr.length>1?lr.forEach(t=>t(e)):lr[0](e)};const xr=e=>{no(e),e.scope.on()},tr=()=>{Le&&Le.scope.off(),no(null)};function ds(e){return e.vnode.shapeFlag&4}let Qr=!1;function vc(e,t=!1){Qr=t;const{props:r,children:n}=e.vnode,i=ds(e);qu(e,r,i,t),Ju(e,n);const o=i?pc(e,t):void 0;return Qr=!1,o}function pc(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=On(new Proxy(e.ctx,zu));const{setup:n}=r;if(n){const i=e.setupContext=n.length>1?mc(e):null;xr(e),Ir();const o=Xt(n,e,0,[e.props,i]);if(Pr(),tr(),Sa(o)){if(o.then(tr,tr),t)return o.then(a=>{Lo(e,a,t)}).catch(a=>{Bn(a,e,0)});e.asyncDep=o}else Lo(e,o,t)}else vs(e,t)}function Lo(e,t,r){ue(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ie(t)&&(e.setupState=ja(t)),vs(e,r)}let No;function vs(e,t,r){const n=e.type;if(!e.render){if(!t&&No&&!n.render){const i=n.template||eo(e).template;if(i){const{isCustomElement:o,compilerOptions:a}=e.appContext.config,{delimiters:s,compilerOptions:l}=n,u=Ne(Ne({isCustomElement:o,delimiters:s},a),l);n.render=No(i,u)}}e.render=n.render||ut}xr(e),Ir(),Xu(e),Pr(),tr()}function gc(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return Ke(e,"get","$attrs"),t[r]}}))}function mc(e){const t=r=>{e.exposed=r||{}};return{get attrs(){return gc(e)},slots:e.slots,emit:e.emit,expose:t}}function io(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ja(On(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Br)return Br[r](e)},has(t,r){return r in t||r in Br}}))}function _c(e,t=!0){return ue(e)?e.displayName||e.name:e.name||t&&e.__name}function yc(e){return ue(e)&&"__vccOpts"in e}const Ye=(e,t)=>cu(e,t,Qr);function ps(e,t,r){const n=arguments.length;return n===2?Ie(t)&&!ie(t)?xi(t)?ke(e,null,[t]):ke(e,t):ke(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&xi(r)&&(r=[r]),ke(e,t,r))}const xc=Symbol.for("v-scx"),bc=()=>St(xc),Sc="3.3.4",wc="http://www.w3.org/2000/svg",Qt=typeof document<"u"?document:null,Vo=Qt&&Qt.createElement("template"),Cc={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t?Qt.createElementNS(wc,e):Qt.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>Qt.createTextNode(e),createComment:e=>Qt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Qt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,o){const a=r?r.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===o||!(i=i.nextSibling)););else{Vo.innerHTML=n?`<svg>${e}</svg>`:e;const s=Vo.content;if(n){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function Ec(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function Ic(e,t,r){const n=e.style,i=Fe(r);if(r&&!i){if(t&&!Fe(t))for(const o in t)r[o]==null&&bi(n,o,"");for(const o in r)bi(n,o,r[o])}else{const o=n.display;i?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=o)}}const Wo=/\s*!important$/;function bi(e,t,r){if(ie(r))r.forEach(n=>bi(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=Pc(e,t);Wo.test(r)?e.setProperty(Er(n),r.replace(Wo,""),"important"):e[n]=r}}const zo=["Webkit","Moz","ms"],Zn={};function Pc(e,t){const r=Zn[t];if(r)return r;let n=wt(t);if(n!=="filter"&&n in e)return Zn[t]=n;n=kn(n);for(let i=0;i<zo.length;i++){const o=zo[i]+n;if(o in e)return Zn[t]=o}return t}const Xo="http://www.w3.org/1999/xlink";function Tc(e,t,r,n,i){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(Xo,t.slice(6,t.length)):e.setAttributeNS(Xo,t,r);else{const o=Pl(t);r==null||o&&!Ea(r)?e.removeAttribute(t):e.setAttribute(t,o?"":r)}}function Mc(e,t,r,n,i,o,a){if(t==="innerHTML"||t==="textContent"){n&&a(n,i,o),e[t]=r??"";return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){e._value=r;const u=s==="OPTION"?e.getAttribute("value"):e.value,c=r??"";u!==c&&(e.value=c),r==null&&e.removeAttribute(t);return}let l=!1;if(r===""||r==null){const u=typeof e[t];u==="boolean"?r=Ea(r):r==null&&u==="string"?(r="",l=!0):u==="number"&&(r=0,l=!0)}try{e[t]=r}catch{}l&&e.removeAttribute(t)}function Ac(e,t,r,n){e.addEventListener(t,r,n)}function Dc(e,t,r,n){e.removeEventListener(t,r,n)}function kc(e,t,r,n,i=null){const o=e._vei||(e._vei={}),a=o[t];if(n&&a)a.value=n;else{const[s,l]=Rc(t);if(n){const u=o[t]=Bc(n,i);Ac(e,s,u,l)}else a&&(Dc(e,s,a,l),o[t]=void 0)}}const jo=/(?:Once|Passive|Capture)$/;function Rc(e){let t;if(jo.test(e)){t={};let n;for(;n=e.match(jo);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Er(e.slice(2)),t]}let Qn=0;const Fc=Promise.resolve(),Oc=()=>Qn||(Fc.then(()=>Qn=0),Qn=Date.now());function Bc(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;ct(Lc(n,r.value),t,5,[n])};return r.value=e,r.attached=Oc(),r}function Lc(e,t){if(ie(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const Ho=/^on[a-z]/,Nc=(e,t,r,n,i=!1,o,a,s,l)=>{t==="class"?Ec(e,n,i):t==="style"?Ic(e,r,n):Mn(t)?Ri(t)||kc(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Vc(e,t,n,i))?Mc(e,t,n,o,a,s,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Tc(e,t,n,i))};function Vc(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&Ho.test(t)&&ue(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Ho.test(t)&&Fe(r)?!1:t in e}const Wc=Ne({patchProp:Nc},Cc);let Yo;function zc(){return Yo||(Yo=tc(Wc))}const Xc=(...e)=>{const t=zc().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=jc(n);if(!i)return;const o=t._component;!ue(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const a=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function jc(e){return Fe(e)?document.querySelector(e):e}var Hc=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let gs;const Xn=e=>gs=e,ms=Symbol();function Si(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Nr;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Nr||(Nr={}));function Yc(){const e=Ta(!0),t=e.run(()=>$e({}));let r=[],n=[];const i=On({install(o){Xn(i),i._a=o,o.provide(ms,i),o.config.globalProperties.$pinia=i,n.forEach(a=>r.push(a)),n=[]},use(o){return!this._a&&!Hc?n.push(o):r.push(o),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return i}const _s=()=>{};function Uo(e,t,r,n=_s){e.push(t);const i=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),n())};return!r&&Vi()&&Ma(i),i}function ur(e,...t){e.slice().forEach(r=>{r(...t)})}const Uc=e=>e();function wi(e,t){e instanceof Map&&t instanceof Map&&t.forEach((r,n)=>e.set(n,r)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const n=t[r],i=e[r];Si(i)&&Si(n)&&e.hasOwnProperty(r)&&!Ee(n)&&!Mt(n)?e[r]=wi(i,n):e[r]=n}return e}const $c=Symbol();function Kc(e){return!Si(e)||!e.hasOwnProperty($c)}const{assign:Bt}=Object;function Gc(e){return!!(Ee(e)&&e.effect)}function qc(e,t,r,n){const{state:i,actions:o,getters:a}=t,s=r.state.value[e];let l;function u(){s||(r.state.value[e]=i?i():{});const c=au(r.state.value[e]);return Bt(c,o,Object.keys(a||{}).reduce((f,h)=>(f[h]=On(Ye(()=>{Xn(r);const d=r._s.get(e);return a[h].call(d,d)})),f),{}))}return l=ys(e,u,t,r,n,!0),l}function ys(e,t,r={},n,i,o){let a;const s=Bt({actions:{}},r),l={deep:!0};let u,c,f=[],h=[],d;const v=n.state.value[e];!o&&!v&&(n.state.value[e]={}),$e({});let g;function p(P){let A;u=c=!1,typeof P=="function"?(P(n.state.value[e]),A={type:Nr.patchFunction,storeId:e,events:d}):(wi(n.state.value[e],P),A={type:Nr.patchObject,payload:P,storeId:e,events:d});const O=g=Symbol();qi().then(()=>{g===O&&(u=!0)}),c=!0,ur(f,A,n.state.value[e])}const m=o?function(){const{state:A}=r,O=A?A():{};this.$patch(R=>{Bt(R,O)})}:_s;function y(){a.stop(),f=[],h=[],n._s.delete(e)}function x(P,A){return function(){Xn(n);const O=Array.from(arguments),R=[],j=[];function V(N){R.push(N)}function $(N){j.push(N)}ur(h,{args:O,name:P,store:C,after:V,onError:$});let Q;try{Q=A.apply(this&&this.$id===e?this:C,O)}catch(N){throw ur(j,N),N}return Q instanceof Promise?Q.then(N=>(ur(R,N),N)).catch(N=>(ur(j,N),Promise.reject(N))):(ur(R,Q),Q)}}const b={_p:n,$id:e,$onAction:Uo.bind(null,h),$patch:p,$reset:m,$subscribe(P,A={}){const O=Uo(f,P,A.detached,()=>R()),R=a.run(()=>bt(()=>n.state.value[e],j=>{(A.flush==="sync"?c:u)&&P({storeId:e,type:Nr.direct,events:d},j)},Bt({},l,A)));return O},$dispose:y},C=rn(b);n._s.set(e,C);const E=n._a&&n._a.runWithContext||Uc,I=n._e.run(()=>(a=Ta(),E(()=>a.run(t))));for(const P in I){const A=I[P];if(Ee(A)&&!Gc(A)||Mt(A))o||(v&&Kc(A)&&(Ee(A)?A.value=v[P]:wi(A,v[P])),n.state.value[e][P]=A);else if(typeof A=="function"){const O=x(P,A);I[P]=O,s.actions[P]=A}}return Bt(C,I),Bt(me(C),I),Object.defineProperty(C,"$state",{get:()=>n.state.value[e],set:P=>{p(A=>{Bt(A,P)})}}),n._p.forEach(P=>{Bt(C,a.run(()=>P({store:C,app:n._a,pinia:n,options:s})))}),v&&o&&r.hydrate&&r.hydrate(C.$state,v),u=!0,c=!0,C}function xs(e,t,r){let n,i;const o=typeof t=="function";typeof e=="string"?(n=e,i=o?r:t):(i=e,n=e.id);function a(s,l){const u=Gu();return s=s||(u?St(ms,null):null),s&&Xn(s),s=gs,s._s.has(n)||(o?ys(n,t,i,s):qc(n,i,s)),s._s.get(n)}return a.$id=n,a}function bs(e){{e=me(e);const t={};for(const r in e){const n=e[r];(Ee(n)||Mt(n))&&(t[r]=Ha(e,r))}return t}}const jn=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},Zc={};function Qc(e,t){const r=Nu("RouterView");return Vt(),ac(r)}const Jc=jn(Zc,[["render",Qc]]);/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const hr=typeof window<"u";function ef(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Se=Object.assign;function Jn(e,t){const r={};for(const n in t){const i=t[n];r[n]=ht(i)?i.map(e):e(i)}return r}const Vr=()=>{},ht=Array.isArray,tf=/\/$/,rf=e=>e.replace(tf,"");function ei(e,t,r="/"){let n,i={},o="",a="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(n=t.slice(0,l),o=t.slice(l+1,s>-1?s:t.length),i=e(o)),s>-1&&(n=n||t.slice(0,s),a=t.slice(s,t.length)),n=sf(n??t,r),{fullPath:n+(o&&"?")+o+a,path:n,query:i,hash:a}}function nf(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function $o(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function of(e,t,r){const n=t.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&br(t.matched[n],r.matched[i])&&Ss(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function br(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ss(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!af(e[r],t[r]))return!1;return!0}function af(e,t){return ht(e)?Ko(e,t):ht(t)?Ko(t,e):e===t}function Ko(e,t){return ht(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function sf(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let o=r.length-1,a,s;for(a=0;a<n.length;a++)if(s=n[a],s!==".")if(s==="..")o>1&&o--;else break;return r.slice(0,o).join("/")+"/"+n.slice(a-(a===n.length?1:0)).join("/")}var Jr;(function(e){e.pop="pop",e.push="push"})(Jr||(Jr={}));var Wr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Wr||(Wr={}));function lf(e){if(!e)if(hr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),rf(e)}const uf=/^[^#]+#/;function cf(e,t){return e.replace(uf,"#")+t}function ff(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const Hn=()=>({left:window.pageXOffset,top:window.pageYOffset});function hf(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;t=ff(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Go(e,t){return(history.state?history.state.position-t:-1)+e}const Ci=new Map;function df(e,t){Ci.set(e,t)}function vf(e){const t=Ci.get(e);return Ci.delete(e),t}let pf=()=>location.protocol+"//"+location.host;function ws(e,t){const{pathname:r,search:n,hash:i}=t,o=e.indexOf("#");if(o>-1){let s=i.includes(e.slice(o))?e.slice(o).length:1,l=i.slice(s);return l[0]!=="/"&&(l="/"+l),$o(l,"")}return $o(r,e)+n+i}function gf(e,t,r,n){let i=[],o=[],a=null;const s=({state:h})=>{const d=ws(e,location),v=r.value,g=t.value;let p=0;if(h){if(r.value=d,t.value=h,a&&a===v){a=null;return}p=g?h.position-g.position:0}else n(d);i.forEach(m=>{m(r.value,v,{delta:p,type:Jr.pop,direction:p?p>0?Wr.forward:Wr.back:Wr.unknown})})};function l(){a=r.value}function u(h){i.push(h);const d=()=>{const v=i.indexOf(h);v>-1&&i.splice(v,1)};return o.push(d),d}function c(){const{history:h}=window;h.state&&h.replaceState(Se({},h.state,{scroll:Hn()}),"")}function f(){for(const h of o)h();o=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function qo(e,t,r,n=!1,i=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:i?Hn():null}}function mf(e){const{history:t,location:r}=window,n={value:ws(e,r)},i={value:t.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,u,c){const f=e.indexOf("#"),h=f>-1?(r.host&&document.querySelector("base")?e:e.slice(f))+l:pf()+e+l;try{t[c?"replaceState":"pushState"](u,"",h),i.value=u}catch(d){console.error(d),r[c?"replace":"assign"](h)}}function a(l,u){const c=Se({},t.state,qo(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});o(l,c,!0),n.value=l}function s(l,u){const c=Se({},i.value,t.state,{forward:l,scroll:Hn()});o(c.current,c,!0);const f=Se({},qo(n.value,l,null),{position:c.position+1},u);o(l,f,!1),n.value=l}return{location:n,state:i,push:s,replace:a}}function _f(e){e=lf(e);const t=mf(e),r=gf(e,t.state,t.location,t.replace);function n(o,a=!0){a||r.pauseListeners(),history.go(o)}const i=Se({location:"",base:e,go:n,createHref:cf.bind(null,e)},t,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function yf(e){return typeof e=="string"||e&&typeof e=="object"}function Cs(e){return typeof e=="string"||typeof e=="symbol"}const Ot={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Es=Symbol("");var Zo;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Zo||(Zo={}));function Sr(e,t){return Se(new Error,{type:e,[Es]:!0},t)}function Pt(e,t){return e instanceof Error&&Es in e&&(t==null||!!(e.type&t))}const Qo="[^/]+?",xf={sensitive:!1,strict:!1,start:!0,end:!0},bf=/[.+*?^${}()[\]/\\]/g;function Sf(e,t){const r=Se({},xf,t),n=[];let i=r.start?"^":"";const o=[];for(const u of e){const c=u.length?[]:[90];r.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const h=u[f];let d=40+(r.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(bf,"\\$&"),d+=40;else if(h.type===1){const{value:v,repeatable:g,optional:p,regexp:m}=h;o.push({name:v,repeatable:g,optional:p});const y=m||Qo;if(y!==Qo){d+=10;try{new RegExp(`(${y})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${v}" (${y}): `+b.message)}}let x=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(x=p&&u.length<2?`(?:/${x})`:"/"+x),p&&(x+="?"),i+=x,d+=20,p&&(d+=-8),g&&(d+=-20),y===".*"&&(d+=-50)}c.push(d)}n.push(c)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const a=new RegExp(i,r.sensitive?"":"i");function s(u){const c=u.match(a),f={};if(!c)return null;for(let h=1;h<c.length;h++){const d=c[h]||"",v=o[h-1];f[v.name]=d&&v.repeatable?d.split("/"):d}return f}function l(u){let c="",f=!1;for(const h of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const d of h)if(d.type===0)c+=d.value;else if(d.type===1){const{value:v,repeatable:g,optional:p}=d,m=v in u?u[v]:"";if(ht(m)&&!g)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const y=ht(m)?m.join("/"):m;if(!y)if(p)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);c+=y}}return c||"/"}return{re:a,score:n,keys:o,parse:s,stringify:l}}function wf(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Cf(e,t){let r=0;const n=e.score,i=t.score;for(;r<n.length&&r<i.length;){const o=wf(n[r],i[r]);if(o)return o;r++}if(Math.abs(i.length-n.length)===1){if(Jo(n))return 1;if(Jo(i))return-1}return i.length-n.length}function Jo(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Ef={type:0,value:""},If=/[a-zA-Z0-9_]/;function Pf(e){if(!e)return[[]];if(e==="/")return[[Ef]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${r})/"${u}": ${d}`)}let r=0,n=r;const i=[];let o;function a(){o&&i.push(o),o=[]}let s=0,l,u="",c="";function f(){u&&(r===0?o.push({type:0,value:u}):r===1||r===2||r===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(u&&f(),a()):l===":"?(f(),r=1):h();break;case 4:h(),r=n;break;case 1:l==="("?r=2:If.test(l)?h():(f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,c="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),a(),i}function Tf(e,t,r){const n=Sf(Pf(e.path),r),i=Se(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Mf(e,t){const r=[],n=new Map;t=ra({strict:!1,end:!0,sensitive:!1},t);function i(c){return n.get(c)}function o(c,f,h){const d=!h,v=Af(c);v.aliasOf=h&&h.record;const g=ra(t,c),p=[v];if("alias"in c){const x=typeof c.alias=="string"?[c.alias]:c.alias;for(const b of x)p.push(Se({},v,{components:h?h.record.components:v.components,path:b,aliasOf:h?h.record:v}))}let m,y;for(const x of p){const{path:b}=x;if(f&&b[0]!=="/"){const C=f.record.path,E=C[C.length-1]==="/"?"":"/";x.path=f.record.path+(b&&E+b)}if(m=Tf(x,f,g),h?h.alias.push(m):(y=y||m,y!==m&&y.alias.push(m),d&&c.name&&!ta(m)&&a(c.name)),v.children){const C=v.children;for(let E=0;E<C.length;E++)o(C[E],m,h&&h.children[E])}h=h||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&l(m)}return y?()=>{a(y)}:Vr}function a(c){if(Cs(c)){const f=n.get(c);f&&(n.delete(c),r.splice(r.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=r.indexOf(c);f>-1&&(r.splice(f,1),c.record.name&&n.delete(c.record.name),c.children.forEach(a),c.alias.forEach(a))}}function s(){return r}function l(c){let f=0;for(;f<r.length&&Cf(c,r[f])>=0&&(c.record.path!==r[f].record.path||!Is(c,r[f]));)f++;r.splice(f,0,c),c.record.name&&!ta(c)&&n.set(c.record.name,c)}function u(c,f){let h,d={},v,g;if("name"in c&&c.name){if(h=n.get(c.name),!h)throw Sr(1,{location:c});g=h.record.name,d=Se(ea(f.params,h.keys.filter(y=>!y.optional).map(y=>y.name)),c.params&&ea(c.params,h.keys.map(y=>y.name))),v=h.stringify(d)}else if("path"in c)v=c.path,h=r.find(y=>y.re.test(v)),h&&(d=h.parse(v),g=h.record.name);else{if(h=f.name?n.get(f.name):r.find(y=>y.re.test(f.path)),!h)throw Sr(1,{location:c,currentLocation:f});g=h.record.name,d=Se({},f.params,c.params),v=h.stringify(d)}const p=[];let m=h;for(;m;)p.unshift(m.record),m=m.parent;return{name:g,path:v,params:d,matched:p,meta:kf(p)}}return e.forEach(c=>o(c)),{addRoute:o,resolve:u,removeRoute:a,getRoutes:s,getRecordMatcher:i}}function ea(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function Af(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Df(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Df(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="object"?r[n]:r;return t}function ta(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function kf(e){return e.reduce((t,r)=>Se(t,r.meta),{})}function ra(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function Is(e,t){return t.children.some(r=>r===e||Is(e,r))}const Ps=/#/g,Rf=/&/g,Ff=/\//g,Of=/=/g,Bf=/\?/g,Ts=/\+/g,Lf=/%5B/g,Nf=/%5D/g,Ms=/%5E/g,Vf=/%60/g,As=/%7B/g,Wf=/%7C/g,Ds=/%7D/g,zf=/%20/g;function oo(e){return encodeURI(""+e).replace(Wf,"|").replace(Lf,"[").replace(Nf,"]")}function Xf(e){return oo(e).replace(As,"{").replace(Ds,"}").replace(Ms,"^")}function Ei(e){return oo(e).replace(Ts,"%2B").replace(zf,"+").replace(Ps,"%23").replace(Rf,"%26").replace(Vf,"`").replace(As,"{").replace(Ds,"}").replace(Ms,"^")}function jf(e){return Ei(e).replace(Of,"%3D")}function Hf(e){return oo(e).replace(Ps,"%23").replace(Bf,"%3F")}function Yf(e){return e==null?"":Hf(e).replace(Ff,"%2F")}function Cn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Uf(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(Ts," "),a=o.indexOf("="),s=Cn(a<0?o:o.slice(0,a)),l=a<0?null:Cn(o.slice(a+1));if(s in t){let u=t[s];ht(u)||(u=t[s]=[u]),u.push(l)}else t[s]=l}return t}function na(e){let t="";for(let r in e){const n=e[r];if(r=jf(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(ht(n)?n.map(o=>o&&Ei(o)):[n&&Ei(n)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+r,o!=null&&(t+="="+o))})}return t}function $f(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=ht(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const Kf=Symbol(""),ia=Symbol(""),ao=Symbol(""),ks=Symbol(""),Ii=Symbol("");function Ar(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function Nt(e,t,r,n,i){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,s)=>{const l=f=>{f===!1?s(Sr(4,{from:r,to:t})):f instanceof Error?s(f):yf(f)?s(Sr(2,{from:t,to:f})):(o&&n.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},u=e.call(n&&n.instances[i],t,r,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch(f=>s(f))})}function ti(e,t,r,n){const i=[];for(const o of e)for(const a in o.components){let s=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Gf(s)){const u=(s.__vccOpts||s)[t];u&&i.push(Nt(u,r,n,o,a))}else{let l=s();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const c=ef(u)?u.default:u;o.components[a]=c;const h=(c.__vccOpts||c)[t];return h&&Nt(h,r,n,o,a)()}))}}return i}function Gf(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function oa(e){const t=St(ao),r=St(ks),n=Ye(()=>t.resolve(At(e.to))),i=Ye(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],f=r.matched;if(!c||!f.length)return-1;const h=f.findIndex(br.bind(null,c));if(h>-1)return h;const d=aa(l[u-2]);return u>1&&aa(c)===d&&f[f.length-1].path!==d?f.findIndex(br.bind(null,l[u-2])):h}),o=Ye(()=>i.value>-1&&Jf(r.params,n.value.params)),a=Ye(()=>i.value>-1&&i.value===r.matched.length-1&&Ss(r.params,n.value.params));function s(l={}){return Qf(l)?t[At(e.replace)?"replace":"push"](At(e.to)).catch(Vr):Promise.resolve()}return{route:n,href:Ye(()=>n.value.href),isActive:o,isExactActive:a,navigate:s}}const qf=Ja({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:oa,setup(e,{slots:t}){const r=rn(oa(e)),{options:n}=St(ao),i=Ye(()=>({[sa(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[sa(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=t.default&&t.default(r);return e.custom?o:ps("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},o)}}}),Zf=qf;function Qf(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Jf(e,t){for(const r in t){const n=t[r],i=e[r];if(typeof n=="string"){if(n!==i)return!1}else if(!ht(i)||i.length!==n.length||n.some((o,a)=>o!==i[a]))return!1}return!0}function aa(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const sa=(e,t,r)=>e??t??r,eh=Ja({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=St(Ii),i=Ye(()=>e.route||n.value),o=St(ia,0),a=Ye(()=>{let u=At(o);const{matched:c}=i.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),s=Ye(()=>i.value.matched[a.value]);mn(ia,Ye(()=>a.value+1)),mn(Kf,s),mn(Ii,i);const l=$e();return bt(()=>[l.value,s.value,e.name],([u,c,f],[h,d,v])=>{c&&(c.instances[f]=u,d&&d!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),u&&c&&(!d||!br(c,d)||!h)&&(c.enterCallbacks[f]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=i.value,c=e.name,f=s.value,h=f&&f.components[c];if(!h)return la(r.default,{Component:h,route:u});const d=f.props[c],v=d?d===!0?u.params:typeof d=="function"?d(u):d:null,p=ps(h,Se({},v,t,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return la(r.default,{Component:p,route:u})||p}}});function la(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const th=eh;function rh(e){const t=Mf(e.routes,e),r=e.parseQuery||Uf,n=e.stringifyQuery||na,i=e.history,o=Ar(),a=Ar(),s=Ar(),l=pn(Ot);let u=Ot;hr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Jn.bind(null,T=>""+T),f=Jn.bind(null,Yf),h=Jn.bind(null,Cn);function d(T,W){let B,Y;return Cs(T)?(B=t.getRecordMatcher(T),Y=W):Y=T,t.addRoute(Y,B)}function v(T){const W=t.getRecordMatcher(T);W&&t.removeRoute(W)}function g(){return t.getRoutes().map(T=>T.record)}function p(T){return!!t.getRecordMatcher(T)}function m(T,W){if(W=Se({},W||l.value),typeof T=="string"){const w=ei(r,T,W.path),M=t.resolve({path:w.path},W),D=i.createHref(w.fullPath);return Se(w,M,{params:h(M.params),hash:Cn(w.hash),redirectedFrom:void 0,href:D})}let B;if("path"in T)B=Se({},T,{path:ei(r,T.path,W.path).path});else{const w=Se({},T.params);for(const M in w)w[M]==null&&delete w[M];B=Se({},T,{params:f(w)}),W.params=f(W.params)}const Y=t.resolve(B,W),re=T.hash||"";Y.params=c(h(Y.params));const _=nf(n,Se({},T,{hash:Xf(re),path:Y.path})),S=i.createHref(_);return Se({fullPath:_,hash:re,query:n===na?$f(T.query):T.query||{}},Y,{redirectedFrom:void 0,href:S})}function y(T){return typeof T=="string"?ei(r,T,l.value.path):Se({},T)}function x(T,W){if(u!==T)return Sr(8,{from:W,to:T})}function b(T){return I(T)}function C(T){return b(Se(y(T),{replace:!0}))}function E(T){const W=T.matched[T.matched.length-1];if(W&&W.redirect){const{redirect:B}=W;let Y=typeof B=="function"?B(T):B;return typeof Y=="string"&&(Y=Y.includes("?")||Y.includes("#")?Y=y(Y):{path:Y},Y.params={}),Se({query:T.query,hash:T.hash,params:"path"in Y?{}:T.params},Y)}}function I(T,W){const B=u=m(T),Y=l.value,re=T.state,_=T.force,S=T.replace===!0,w=E(B);if(w)return I(Se(y(w),{state:typeof w=="object"?Se({},re,w.state):re,force:_,replace:S}),W||B);const M=B;M.redirectedFrom=W;let D;return!_&&of(n,Y,B)&&(D=Sr(16,{to:M,from:Y}),ee(Y,Y,!0,!1)),(D?Promise.resolve(D):O(M,Y)).catch(k=>Pt(k)?Pt(k,2)?k:ve(k):K(k,M,Y)).then(k=>{if(k){if(Pt(k,2))return I(Se({replace:S},y(k.to),{state:typeof k.to=="object"?Se({},re,k.to.state):re,force:_}),W||M)}else k=j(M,Y,!0,S,re);return R(M,Y,k),k})}function P(T,W){const B=x(T,W);return B?Promise.reject(B):Promise.resolve()}function A(T){const W=ae.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(T):T()}function O(T,W){let B;const[Y,re,_]=nh(T,W);B=ti(Y.reverse(),"beforeRouteLeave",T,W);for(const w of Y)w.leaveGuards.forEach(M=>{B.push(Nt(M,T,W))});const S=P.bind(null,T,W);return B.push(S),ge(B).then(()=>{B=[];for(const w of o.list())B.push(Nt(w,T,W));return B.push(S),ge(B)}).then(()=>{B=ti(re,"beforeRouteUpdate",T,W);for(const w of re)w.updateGuards.forEach(M=>{B.push(Nt(M,T,W))});return B.push(S),ge(B)}).then(()=>{B=[];for(const w of _)if(w.beforeEnter)if(ht(w.beforeEnter))for(const M of w.beforeEnter)B.push(Nt(M,T,W));else B.push(Nt(w.beforeEnter,T,W));return B.push(S),ge(B)}).then(()=>(T.matched.forEach(w=>w.enterCallbacks={}),B=ti(_,"beforeRouteEnter",T,W),B.push(S),ge(B))).then(()=>{B=[];for(const w of a.list())B.push(Nt(w,T,W));return B.push(S),ge(B)}).catch(w=>Pt(w,8)?w:Promise.reject(w))}function R(T,W,B){s.list().forEach(Y=>A(()=>Y(T,W,B)))}function j(T,W,B,Y,re){const _=x(T,W);if(_)return _;const S=W===Ot,w=hr?history.state:{};B&&(Y||S?i.replace(T.fullPath,Se({scroll:S&&w&&w.scroll},re)):i.push(T.fullPath,re)),l.value=T,ee(T,W,B,S),ve()}let V;function $(){V||(V=i.listen((T,W,B)=>{if(!pe.listening)return;const Y=m(T),re=E(Y);if(re){I(Se(re,{replace:!0}),Y).catch(Vr);return}u=Y;const _=l.value;hr&&df(Go(_.fullPath,B.delta),Hn()),O(Y,_).catch(S=>Pt(S,12)?S:Pt(S,2)?(I(S.to,Y).then(w=>{Pt(w,20)&&!B.delta&&B.type===Jr.pop&&i.go(-1,!1)}).catch(Vr),Promise.reject()):(B.delta&&i.go(-B.delta,!1),K(S,Y,_))).then(S=>{S=S||j(Y,_,!1),S&&(B.delta&&!Pt(S,8)?i.go(-B.delta,!1):B.type===Jr.pop&&Pt(S,20)&&i.go(-1,!1)),R(Y,_,S)}).catch(Vr)}))}let Q=Ar(),N=Ar(),te;function K(T,W,B){ve(T);const Y=N.list();return Y.length?Y.forEach(re=>re(T,W,B)):console.error(T),Promise.reject(T)}function de(){return te&&l.value!==Ot?Promise.resolve():new Promise((T,W)=>{Q.add([T,W])})}function ve(T){return te||(te=!T,$(),Q.list().forEach(([W,B])=>T?B(T):W()),Q.reset()),T}function ee(T,W,B,Y){const{scrollBehavior:re}=e;if(!hr||!re)return Promise.resolve();const _=!B&&vf(Go(T.fullPath,0))||(Y||!B)&&history.state&&history.state.scroll||null;return qi().then(()=>re(T,W,_)).then(S=>S&&hf(S)).catch(S=>K(S,T,W))}const le=T=>i.go(T);let oe;const ae=new Set,pe={currentRoute:l,listening:!0,addRoute:d,removeRoute:v,hasRoute:p,getRoutes:g,resolve:m,options:e,push:b,replace:C,go:le,back:()=>le(-1),forward:()=>le(1),beforeEach:o.add,beforeResolve:a.add,afterEach:s.add,onError:N.add,isReady:de,install(T){const W=this;T.component("RouterLink",Zf),T.component("RouterView",th),T.config.globalProperties.$router=W,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>At(l)}),hr&&!oe&&l.value===Ot&&(oe=!0,b(i.location).catch(re=>{}));const B={};for(const re in Ot)Object.defineProperty(B,re,{get:()=>l.value[re],enumerable:!0});T.provide(ao,W),T.provide(ks,Wa(B)),T.provide(Ii,l);const Y=T.unmount;ae.add(T),T.unmount=function(){ae.delete(T),ae.size<1&&(u=Ot,V&&V(),V=null,l.value=Ot,oe=!1,te=!1),Y()}}};function ge(T){return T.reduce((W,B)=>W.then(()=>A(B)),Promise.resolve())}return pe}function nh(e,t){const r=[],n=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const s=t.matched[a];s&&(e.matched.find(u=>br(u,s))?n.push(s):r.push(s));const l=e.matched[a];l&&(t.matched.find(u=>br(u,l))||i.push(l))}return[r,n,i]}const so=xs("wsDataStore",()=>{const e=$e([]),t=$e({});return{bookObj:t,klineData:e,setWebSockData:n=>{if(n.code===0&&n.result&&n.result.channel==="book"){const{asks:i,bids:o}=n.result.data[0];t.value[n.result.instrument_name]={asks:i,bids:o}}n.code===0&&n.result&&n.result.channel==="candlestick"&&(e.value=[...n.result.data])}}});function ua(e){if(e===void 0)return"";const[t,r]=e.toString().split("."),n=Number(t).toLocaleString();return r!==void 0?`${n}.${r}`:n}const ih={class:"content"},oh={class:"order-title"},ah={class:"order-table"},sh={class:"table-body"},lh={class:"td"},uh={class:"td"},ch={class:"order-table"},fh={class:"table-body"},hh={class:"td"},dh={class:"td"},vh={__name:"OrderBook",props:{name:{default:"",type:String}},setup(e){const t=e,r=so(),{bookObj:n}=bs(r),i=Ye(()=>{const a=[];return n.value[t.name]?(n.value[t.name].asks.slice(0,5).forEach(l=>{const u={price:l[0],amount:l[1]};a.unshift(u)}),a):[]}),o=Ye(()=>{const a=[];if(!n.value[t.name])return[];const s=n.value[t.name].bids.slice(0,5);return s==null||s.forEach(l=>{const u={price:l[0],amount:l[1]};a.push(u)}),a});return(a,s)=>(Vt(),Zt("div",ih,[Oe("div",oh,Tr(t.name),1),Oe("div",ah,[Oe("div",sh,[(Vt(!0),Zt(ot,null,Io(i.value,l=>(Vt(),Zt("div",{class:"table-row buy",key:l.price},[Oe("div",lh,Tr(At(ua)(l.price)),1),Oe("div",uh,Tr(l.amount),1)]))),128))])]),Oe("div",ch,[Oe("div",fh,[(Vt(!0),Zt(ot,null,Io(o.value,l=>(Vt(),Zt("div",{class:"table-row sell",key:l.price},[Oe("div",hh,Tr(At(ua)(l.price)),1),Oe("div",dh,Tr(l.amount),1)]))),128))])])]))}},cr=jn(vh,[["__scopeId","data-v-9b14babc"]]);function Rs(e){return Vi()?(Ma(e),!0):!1}function ri(){const e=new Set,t=i=>{e.delete(i)};return{on:i=>{e.add(i);const o=()=>t(i);return Rs(o),{off:o}},off:t,trigger:(...i)=>Promise.all(Array.from(e).map(o=>o(...i)))}}function Wt(e){return typeof e=="function"?e():At(e)}const Fs=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ph=()=>{};function ca(e,t=!1,r="Timeout"){return new Promise((n,i)=>{setTimeout(t?()=>i(r):n,e)})}function gh(e,...t){return t.some(r=>r in e)}function ni(...e){if(e.length!==1)return Ha(...e);const t=e[0];return typeof t=="function"?Fn(ou(()=>({get:t,set:ph}))):$e(t)}function Pi(e,t=!1){function r(f,{flush:h="sync",deep:d=!1,timeout:v,throwOnTimeout:g}={}){let p=null;const y=[new Promise(x=>{p=bt(e,b=>{f(b)!==t&&(p==null||p(),x(b))},{flush:h,deep:d,immediate:!0})})];return v!=null&&y.push(ca(v,g).then(()=>Wt(e)).finally(()=>p==null?void 0:p())),Promise.race(y)}function n(f,h){if(!Ee(f))return r(b=>b===f,h);const{flush:d="sync",deep:v=!1,timeout:g,throwOnTimeout:p}=h??{};let m=null;const x=[new Promise(b=>{m=bt([e,f],([C,E])=>{t!==(C===E)&&(m==null||m(),b(C))},{flush:d,deep:v,immediate:!0})})];return g!=null&&x.push(ca(g,p).then(()=>Wt(e)).finally(()=>(m==null||m(),Wt(e)))),Promise.race(x)}function i(f){return r(h=>!!h,f)}function o(f){return n(null,f)}function a(f){return n(void 0,f)}function s(f){return r(Number.isNaN,f)}function l(f,h){return r(d=>{const v=Array.from(d);return v.includes(f)||v.includes(Wt(f))},h)}function u(f){return c(1,f)}function c(f=1,h){let d=-1;return r(()=>(d+=1,d>=f),h)}return Array.isArray(Wt(e))?{toMatch:r,toContains:l,changed:u,changedTimes:c,get not(){return Pi(e,!t)}}:{toMatch:r,toBe:n,toBeTruthy:i,toBeNull:o,toBeNaN:s,toBeUndefined:a,changed:u,changedTimes:c,get not(){return Pi(e,!t)}}}function mh(e){return Pi(e)}function _h(e,t,r={}){const{immediate:n=!0}=r,i=$e(!1);let o=null;function a(){o&&(clearTimeout(o),o=null)}function s(){i.value=!1,a()}function l(...u){a(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,e(...u)},Wt(t))}return n&&(i.value=!0,Fs&&l()),Rs(s),{isPending:Fn(i),start:l,stop:s}}const yh=Fs?window:void 0,xh={json:"application/json",text:"text/plain"};function fa(e){return e&&gh(e,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch","updateDataOnError")}function ii(e){return typeof Headers<"u"&&e instanceof Headers?Object.fromEntries([...e.entries()]):e}function bh(e,...t){var r;const n=typeof AbortController=="function";let i={},o={immediate:!0,refetch:!1,timeout:0,updateDataOnError:!1};const a={method:"GET",type:"text",payload:void 0};t.length>0&&(fa(t[0])?o={...o,...t[0]}:i=t[0]),t.length>1&&fa(t[1])&&(o={...o,...t[1]});const{fetch:s=(r=yh)==null?void 0:r.fetch,initialData:l,timeout:u}=o,c=ri(),f=ri(),h=ri(),d=$e(!1),v=$e(!1),g=$e(!1),p=$e(null),m=pn(null),y=pn(null),x=pn(l||null),b=Ye(()=>n&&v.value);let C,E;const I=()=>{n&&(C==null||C.abort(),C=new AbortController,C.signal.onabort=()=>g.value=!0,i={...i,signal:C.signal})},P=N=>{v.value=N,d.value=!N};u&&(E=_h(I,u,{immediate:!1}));let A=0;const O=async(N=!1)=>{var te,K;I(),P(!0),y.value=null,p.value=null,g.value=!1,A+=1;const de=A,ve={method:a.method,headers:{}};if(a.payload){const ae=ii(ve.headers),pe=Wt(a.payload);!a.payloadType&&pe&&Object.getPrototypeOf(pe)===Object.prototype&&!(pe instanceof FormData)&&(a.payloadType="json"),a.payloadType&&(ae["Content-Type"]=(te=xh[a.payloadType])!=null?te:a.payloadType),ve.body=a.payloadType==="json"?JSON.stringify(pe):pe}let ee=!1;const le={url:Wt(e),options:{...ve,...i},cancel:()=>{ee=!0}};if(o.beforeFetch&&Object.assign(le,await o.beforeFetch(le)),ee||!s)return P(!1),Promise.resolve(null);let oe=null;return E&&E.start(),s(le.url,{...ve,...le.options,headers:{...ii(ve.headers),...ii((K=le.options)==null?void 0:K.headers)}}).then(async ae=>{if(m.value=ae,p.value=ae.status,oe=await ae.clone()[a.type](),!ae.ok)throw x.value=l||null,new Error(ae.statusText);return o.afterFetch&&({data:oe}=await o.afterFetch({data:oe,response:ae})),x.value=oe,c.trigger(ae),ae}).catch(async ae=>{let pe=ae.message||ae.name;if(o.onFetchError&&({error:pe,data:oe}=await o.onFetchError({data:oe,error:ae,response:m.value})),y.value=pe,o.updateDataOnError&&(x.value=oe),f.trigger(ae),N)throw ae;return null}).finally(()=>{de===A&&P(!1),E&&E.stop(),h.trigger(null)})},R=ni(o.refetch);bt([R,ni(e)],([N])=>N&&O(),{deep:!0});const j={isFinished:d,statusCode:p,response:m,error:y,data:x,isFetching:v,canAbort:b,aborted:g,abort:I,execute:O,onFetchResponse:c.on,onFetchError:f.on,onFetchFinally:h.on,get:V("GET"),put:V("PUT"),post:V("POST"),delete:V("DELETE"),patch:V("PATCH"),head:V("HEAD"),options:V("OPTIONS"),json:Q("json"),text:Q("text"),blob:Q("blob"),arrayBuffer:Q("arrayBuffer"),formData:Q("formData")};function V(N){return(te,K)=>{if(!v.value)return a.method=N,a.payload=te,a.payloadType=K,Ee(a.payload)&&bt([R,ni(a.payload)],([de])=>de&&O(),{deep:!0}),{...j,then(de,ve){return $().then(de,ve)}}}}function $(){return new Promise((N,te)=>{mh(d).toBe(!0).then(()=>N(j)).catch(K=>te(K))})}function Q(N){return()=>{if(!v.value)return a.type=N,{...j,then(te,K){return $().then(te,K)}}}}return o.immediate&&Promise.resolve().then(()=>O()),{...j,then(N,te){return $().then(N,te)}}}/**
     * @license
     * KLineChart v9.7.2
     * Copyright (c) 2019 lihu.
     * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
     */var Ti=function(e,t){return Ti=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ti(e,t)};function he(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ti(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var J=function(){return J=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},J.apply(this,arguments)};function zr(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(f){a(f)}}function l(c){try{u(n.throw(c))}catch(f){a(f)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})}function Xr(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ir(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xe(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function Os(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var we;(function(e){e.Dashed="dashed",e.Solid="solid"})(we||(we={}));var ye;(function(e){e.Stroke="stroke",e.Fill="fill",e.StrokeFill="stroke_fill"})(ye||(ye={}));var wr;(function(e){e.Always="always",e.FollowCross="follow_cross",e.None="none"})(wr||(wr={}));var mt;(function(e){e.Standard="standard",e.Rect="rect"})(mt||(mt={}));var jr;(function(e){e.Left="left",e.Middle="middle",e.Right="right"})(jr||(jr={}));var En;(function(e){e.Fixed="fixed",e.Pointer="pointer"})(En||(En={}));var st;(function(e){e.CandleSolid="candle_solid",e.CandleStroke="candle_stroke",e.CandleUpStroke="candle_up_stroke",e.CandleDownStroke="candle_down_stroke",e.Ohlc="ohlc",e.Area="area"})(st||(st={}));var Yt;(function(e){e.Left="left",e.Right="right"})(Yt||(Yt={}));var Ve;(function(e){e.Normal="normal",e.Percentage="percentage",e.Log="log"})(Ve||(Ve={}));var hn="#F92855",oi="rgba(249, 40, 85, .7)",dn="#2DC08E",ai="rgba(45, 192, 142, .7)",Jt="#888888",Yn="#FFFFFF",tt="#1677FF",rr="#76808F",Mi="#DDDDDD";function en(e){return"rgba(22, 119, 255, ".concat(e,")")}function Sh(){function e(){return{show:!0,size:1,color:"#EDEDED",style:we.Dashed,dashedValue:[2,2]}}return{show:!0,horizontal:e(),vertical:e()}}function wh(){var e={show:!0,color:rr,textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"};return{type:st.CandleSolid,bar:{upColor:dn,downColor:hn,noChangeColor:Jt,upBorderColor:dn,downBorderColor:hn,noChangeBorderColor:Jt,upWickColor:dn,downWickColor:hn,noChangeWickColor:Jt},area:{lineSize:2,lineColor:tt,value:"close",backgroundColor:[{offset:0,color:en(.01)},{offset:1,color:en(.2)}]},priceMark:{show:!0,high:J({},e),low:J({},e),last:{show:!0,upColor:dn,downColor:hn,noChangeColor:Jt,line:{show:!0,style:we.Dashed,dashedValue:[4,4],size:1},text:{show:!0,style:ye.Fill,size:12,paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderColor:"transparent",borderStyle:we.Solid,borderSize:0,borderDashedValue:[2,2],color:Yn,family:"Helvetica Neue",weight:"normal",borderRadius:2}}},tooltip:{showRule:wr.Always,showType:mt.Standard,custom:null,defaultValue:"n/a",rect:{position:En.Fixed,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:8,offsetLeft:10,offsetTop:8,offsetRight:10,offsetBottom:8,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",color:"#FEFEFE"},text:{size:12,family:"Helvetica Neue",weight:"normal",color:rr,marginLeft:10,marginTop:8,marginRight:6,marginBottom:0},icons:[]}}}function Ch(){var e=["#FF9600","#935EBD",tt,"#E11D74","#01C5C4"].map(function(t){return{style:we.Solid,smooth:!1,size:1,dashedValue:[2,2],color:t}});return{ohlc:{upColor:ai,downColor:oi,noChangeColor:Jt},bars:[{style:ye.Fill,borderStyle:we.Solid,borderSize:1,borderDashedValue:[2,2],upColor:ai,downColor:oi,noChangeColor:Jt}],lines:e,circles:[{style:ye.Fill,borderStyle:we.Solid,borderSize:1,borderDashedValue:[2,2],upColor:ai,downColor:oi,noChangeColor:Jt}],lastValueMark:{show:!1,text:{show:!1,style:ye.Fill,color:Yn,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:we.Solid,borderColor:"transparent",borderSize:0,borderDashedValue:[2,2],paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderRadius:2}},tooltip:{showRule:wr.Always,showType:mt.Standard,showName:!0,showParams:!0,defaultValue:"n/a",text:{size:12,family:"Helvetica Neue",weight:"normal",color:rr,marginLeft:10,marginTop:8,marginRight:6,marginBottom:0},icons:[]}}}function Bs(){return{show:!0,size:"auto",axisLine:{show:!0,color:Mi,size:1},tickText:{show:!0,color:rr,size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:4},tickLine:{show:!0,size:1,length:3,color:Mi}}}function Eh(){var e=Bs();return e.type=Ve.Normal,e.position=Yt.Right,e.inside=!1,e.reverse=!1,e}function Ih(){function e(){return{show:!0,line:{show:!0,style:we.Dashed,dashedValue:[4,2],size:1,color:rr},text:{show:!0,style:ye.Fill,color:Yn,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:we.Solid,borderDashedValue:[2,2],borderSize:1,borderColor:rr,borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:rr}}}return{show:!0,horizontal:e(),vertical:e()}}function Ph(){var e=en(.35),t=en(.25);function r(){return{style:ye.Fill,color:Yn,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:we.Solid,borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:tt,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:tt}}return{point:{color:tt,borderColor:e,borderSize:1,radius:5,activeColor:tt,activeBorderColor:e,activeBorderSize:3,activeRadius:5},line:{style:we.Solid,smooth:!1,color:tt,size:1,dashedValue:[2,2]},rect:{style:ye.Fill,color:t,borderColor:tt,borderSize:1,borderRadius:0,borderStyle:we.Solid,borderDashedValue:[2,2]},polygon:{style:ye.Fill,color:tt,borderColor:tt,borderSize:1,borderStyle:we.Solid,borderDashedValue:[2,2]},circle:{style:ye.Fill,color:t,borderColor:tt,borderSize:1,borderStyle:we.Solid,borderDashedValue:[2,2]},arc:{style:we.Solid,color:tt,size:1,dashedValue:[2,2]},text:r(),rectText:r()}}function Th(){return{size:1,color:Mi,fill:!0,activeBackgroundColor:en(.08)}}function Mh(){return{grid:Sh(),candle:wh(),indicator:Ch(),xAxis:Bs(),yAxis:Eh(),separator:Th(),crosshair:Ih(),overlay:Ph()}}function nt(e,t){if(!(!xt(e)&&!xt(t))){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=e[r],i=t[r];xt(i)&&xt(n)?nt(n,i):X(t[r])&&(e[r]=tn(t[r]))}}}function tn(e){if(!xt(e))return e;var t;yt(e)?t=[]:t={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=e[r];xt(n)?t[r]=tn(n):t[r]=n}return t}function yt(e){return Object.prototype.toString.call(e)==="[object Array]"}function or(e){return typeof e=="function"}function xt(e){return typeof e=="object"&&X(e)}function q(e){return typeof e=="number"&&!isNaN(e)}function X(e){return e!=null}function nr(e){return typeof e=="boolean"}function se(e){return typeof e=="string"}var Ah=/\\(\\)?/g,Dh=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g");function De(e,t,r){if(X(e)){var n=[];t.replace(Dh,function(s){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];var c=s;return X(l[1])?c=l[2].replace(Ah,"$1"):X(l[0])&&(c=l[0].trim()),n.push(c),""});for(var i=e,o=0,a=n.length;X(i)&&o<a;)i=i==null?void 0:i[n[o++]];return X(i)?i:r??"--"}return r??"--"}function kh(e,t,r){var n=e.format(new Date(t)),i=n.split(", "),o=i[0].split("/"),a=i[1].split(":"),s={YYYY:o[2],MM:o[0],DD:o[1],HH:a[0]==="24"?"00":a[0],mm:a[1],ss:a[2]};return r.replace(/YYYY|MM|DD|HH|mm|ss/g,function(l){return s[l]})}function Re(e,t){var r=+e;return q(r)?r.toFixed(t??2):"".concat(e)}function Rh(e){var t=+e;if(q(t)){if(t>1e9)return"".concat(+(t/1e9).toFixed(3),"B");if(t>1e6)return"".concat(+(t/1e6).toFixed(3),"M");if(t>1e3)return"".concat(+(t/1e3).toFixed(3),"K")}return"".concat(e)}function We(e,t){var r="".concat(e);if(t.length===0)return r;if(r.includes(".")){var n=r.split(".");return"".concat(n[0].replace(/(\d)(?=(\d{3})+$)/g,function(i){return"".concat(i).concat(t)}),".").concat(n[1])}return r.replace(/(\d)(?=(\d{3})+$)/g,function(i){return"".concat(i).concat(t)})}var Dr;function jt(e){var t,r,n;return(n=(r=(t=e.ownerDocument)===null||t===void 0?void 0:t.defaultView)===null||r===void 0?void 0:r.devicePixelRatio)!==null&&n!==void 0?n:1}function ar(e,t,r){return"".concat(t??"normal"," ").concat(e??12,"px ").concat(r??"Helvetica Neue")}function In(e,t,r,n){if(!X(Dr)){var i=document.createElement("canvas"),o=jt(i);Dr=i.getContext("2d"),Dr.scale(o,o)}return Dr.font=ar(t,r,n),Math.round(Dr.measureText(e).width)}var ft;(function(e){e.OnZoom="onZoom",e.OnScroll="onScroll",e.OnVisibleRangeChange="onVisibleRangeChange",e.OnTooltipIconClick="onTooltipIconClick",e.OnCrosshairChange="onCrosshairChange",e.OnCandleBarClick="onCandleBarClick",e.OnPaneDrag="onPaneDrag"})(ft||(ft={}));var Fh=function(){function e(){this._callbacks=[]}return e.prototype.subscribe=function(t){var r,n=(r=this._callbacks.indexOf(t))!==null&&r!==void 0?r:-1;n<0&&this._callbacks.push(t)},e.prototype.unsubscribe=function(t){var r;if(or(t)){var n=(r=this._callbacks.indexOf(t))!==null&&r!==void 0?r:-1;n>-1&&this._callbacks.splice(n,1)}else this._callbacks=[]},e.prototype.execute=function(t){this._callbacks.forEach(function(r){r(t)})},e.prototype.isEmpty=function(){return this._callbacks.length===0},e}(),qe;(function(e){e.Normal="normal",e.Price="price",e.Volume="volume"})(qe||(qe={}));function lo(e,t,r,n,i){var o=t.result,a=t.figures,s=t.styles,l=De(s,"circles",n.circles),u=l.length,c=De(s,"bars",n.bars),f=c.length,h=De(s,"lines",n.lines),d=h.length,v=0,g=0,p=0,m;a.forEach(function(y){var x;switch(y.type){case"circle":{var b=l[v%u];m=J(J({},b),{color:b.noChangeColor}),v++;break}case"bar":{var C=c[g%f];m=J(J({},C),{color:C.noChangeColor}),g++;break}case"line":{m=h[p%d],p++;break}}if(X(m)){var E={prev:{kLineData:e[r-1],indicatorData:o[r-1]},current:{kLineData:e[r],indicatorData:o[r]},next:{kLineData:e[r+1],indicatorData:o[r+1]}},I=(x=y.styles)===null||x===void 0?void 0:x.call(y,E,t,n);i(y,J(J({},m),I))}})}var Oh=function(){function e(t){this.result=[],this._precisionFlag=!1;var r=t.name,n=t.shortName,i=t.series,o=t.calcParams,a=t.figures,s=t.precision,l=t.shouldOhlc,u=t.shouldFormatBigNumber,c=t.visible,f=t.zLevel,h=t.minValue,d=t.maxValue,v=t.styles,g=t.extendData,p=t.regenerateFigures,m=t.createTooltipDataSource,y=t.draw;this.name=r,this.shortName=n??r,this.series=i??qe.Normal,this.precision=s??4,this.calcParams=o??[],this.figures=a??[],this.shouldOhlc=l??!1,this.shouldFormatBigNumber=u??!1,this.visible=c??!0,this.zLevel=f??0,this.minValue=h??null,this.maxValue=d??null,this.styles=tn(v??{}),this.extendData=g,this.regenerateFigures=p??null,this.createTooltipDataSource=m??null,this.draw=y??null}return e.prototype.setShortName=function(t){return this.shortName!==t?(this.shortName=t,!0):!1},e.prototype.setSeries=function(t){return this.series!==t?(this.series=t,!0):!1},e.prototype.setPrecision=function(t,r){var n=r??!1,i=Math.floor(t);return i!==this.precision&&t>=0&&(!n||n&&!this._precisionFlag)?(this.precision=i,n||(this._precisionFlag=!0),!0):!1},e.prototype.setCalcParams=function(t){var r,n;return this.calcParams=t,this.figures=(n=(r=this.regenerateFigures)===null||r===void 0?void 0:r.call(this,t))!==null&&n!==void 0?n:this.figures,!0},e.prototype.setShouldOhlc=function(t){return this.shouldOhlc!==t?(this.shouldOhlc=t,!0):!1},e.prototype.setShouldFormatBigNumber=function(t){return this.shouldFormatBigNumber!==t?(this.shouldFormatBigNumber=t,!0):!1},e.prototype.setVisible=function(t){return this.visible!==t?(this.visible=t,!0):!1},e.prototype.setZLevel=function(t){return this.zLevel!==t?(this.zLevel=t,!0):!1},e.prototype.setStyles=function(t){return nt(this.styles,t),!0},e.prototype.setExtendData=function(t){return this.extendData!==t?(this.extendData=t,!0):!1},e.prototype.setFigures=function(t){return this.figures!==t?(this.figures=t,!0):!1},e.prototype.setMinValue=function(t){return this.minValue!==t?(this.minValue=t,!0):!1},e.prototype.setMaxValue=function(t){return this.maxValue!==t?(this.maxValue=t,!0):!1},e.prototype.setRegenerateFigures=function(t){return this.regenerateFigures!==t?(this.regenerateFigures=t,!0):!1},e.prototype.setCreateTooltipDataSource=function(t){return this.createTooltipDataSource!==t?(this.createTooltipDataSource=t,!0):!1},e.prototype.setDraw=function(t){return this.draw!==t?(this.draw=t,!0):!1},e.prototype.calcIndicator=function(t){return zr(this,void 0,void 0,function(){var r;return Xr(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.calc(t,this)];case 1:return r=n.sent(),this.result=r,[2,!0];case 2:return n.sent(),[2,!1];case 3:return[2]}})})},e.extend=function(t){var r=function(n){he(i,n);function i(){return n.call(this,t)||this}return i.prototype.calc=function(o,a){return t.calc(o,a)},i}(e);return r},e}(),mr;(function(e){e.Normal="normal",e.WeakMagnet="weak_magnet",e.StrongMagnet="strong_magnet"})(mr||(mr={}));function Bh(){return["mouseClickEvent","mouseDoubleClickEvent","mouseRightClickEvent","tapEvent","doubleTapEvent","mouseDownEvent","touchStartEvent","mouseMoveEvent","touchMoveEvent"]}var ha=1,kr=-1,Lh="overlay_",fr="overlay_figure_",Nh=Number.MAX_SAFE_INTEGER,Vh=function(){function e(t){this.currentStep=ha,this.points=[],this._prevPressedPoint=null,this._prevPressedPoints=[];var r=t.mode,n=t.modeSensitivity,i=t.extendData,o=t.styles,a=t.name,s=t.totalStep,l=t.lock,u=t.visible,c=t.zLevel,f=t.needDefaultPointFigure,h=t.needDefaultXAxisFigure,d=t.needDefaultYAxisFigure,v=t.createPointFigures,g=t.createXAxisFigures,p=t.createYAxisFigures,m=t.performEventPressedMove,y=t.performEventMoveForDrawing,x=t.onDrawStart,b=t.onDrawing,C=t.onDrawEnd,E=t.onClick,I=t.onDoubleClick,P=t.onRightClick,A=t.onPressedMoveStart,O=t.onPressedMoving,R=t.onPressedMoveEnd,j=t.onMouseEnter,V=t.onMouseLeave,$=t.onRemoved,Q=t.onSelected,N=t.onDeselected;this.name=a,this.totalStep=!q(s)||s<2?1:s,this.lock=l??!1,this.visible=u??!0,this.zLevel=c??0,this.needDefaultPointFigure=f??!1,this.needDefaultXAxisFigure=h??!1,this.needDefaultYAxisFigure=d??!1,this.mode=r??mr.Normal,this.modeSensitivity=n??8,this.extendData=i,this.styles=tn(o??{}),this.createPointFigures=v??null,this.createXAxisFigures=g??null,this.createYAxisFigures=p??null,this.performEventPressedMove=m??null,this.performEventMoveForDrawing=y??null,this.onDrawStart=x??null,this.onDrawing=b??null,this.onDrawEnd=C??null,this.onClick=E??null,this.onDoubleClick=I??null,this.onRightClick=P??null,this.onPressedMoveStart=A??null,this.onPressedMoving=O??null,this.onPressedMoveEnd=R??null,this.onMouseEnter=j??null,this.onMouseLeave=V??null,this.onRemoved=$??null,this.onSelected=Q??null,this.onDeselected=N??null}return e.prototype.setId=function(t){return se(this.id)?!1:(this.id=t,!0)},e.prototype.setGroupId=function(t){return se(this.groupId)?!1:(this.groupId=t,!0)},e.prototype.setPaneId=function(t){this.paneId=t},e.prototype.setExtendData=function(t){return t!==this.extendData?(this.extendData=t,!0):!1},e.prototype.setStyles=function(t){return nt(this.styles,t),!0},e.prototype.setPoints=function(t){if(t.length>0){var r=void 0;if(this.points=Os([],Xe(t),!1),t.length>=this.totalStep-1?(this.currentStep=kr,r=this.totalStep-1):(this.currentStep=t.length+1,r=t.length),this.performEventMoveForDrawing!==null)for(var n=0;n<r;n++)this.performEventMoveForDrawing({currentStep:n+2,mode:this.mode,points:this.points,performPointIndex:n,performPoint:this.points[n]});return this.currentStep===kr&&this.performEventPressedMove!==null&&this.performEventPressedMove({currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:this.points.length-1,performPoint:this.points[this.points.length-1]}),!0}return!1},e.prototype.setLock=function(t){return this.lock!==t?(this.lock=t,!0):!1},e.prototype.setVisible=function(t){return this.visible!==t?(this.visible=t,!0):!1},e.prototype.setZLevel=function(t){return this.zLevel!==t?(this.zLevel=t,!0):!1},e.prototype.setMode=function(t){return this.mode!==t?(this.mode=t,!0):!1},e.prototype.setModeSensitivity=function(t){return this.modeSensitivity!==t?(this.modeSensitivity=t,!0):!1},e.prototype.setOnDrawStartCallback=function(t){return this.onDrawStart!==t?(this.onDrawStart=t,!0):!1},e.prototype.setOnDrawingCallback=function(t){return this.onDrawing!==t?(this.onDrawing=t,!0):!1},e.prototype.setOnDrawEndCallback=function(t){return this.onDrawEnd!==t?(this.onDrawEnd=t,!0):!1},e.prototype.setOnClickCallback=function(t){return this.onClick!==t?(this.onClick=t,!0):!1},e.prototype.setOnDoubleClickCallback=function(t){return this.onDoubleClick!==t?(this.onDoubleClick=t,!0):!1},e.prototype.setOnRightClickCallback=function(t){return this.onRightClick!==t?(this.onRightClick=t,!0):!1},e.prototype.setOnPressedMoveStartCallback=function(t){return this.onPressedMoveStart!==t?(this.onPressedMoveStart=t,!0):!1},e.prototype.setOnPressedMovingCallback=function(t){return this.onPressedMoving!==t?(this.onPressedMoving=t,!0):!1},e.prototype.setOnPressedMoveEndCallback=function(t){return this.onPressedMoveEnd!==t?(this.onPressedMoveEnd=t,!0):!1},e.prototype.setOnMouseEnterCallback=function(t){return this.onMouseEnter!==t?(this.onMouseEnter=t,!0):!1},e.prototype.setOnMouseLeaveCallback=function(t){return this.onMouseLeave!==t?(this.onMouseLeave=t,!0):!1},e.prototype.setOnRemovedCallback=function(t){return this.onRemoved!==t?(this.onRemoved=t,!0):!1},e.prototype.setOnSelectedCallback=function(t){return this.onSelected!==t?(this.onSelected=t,!0):!1},e.prototype.setOnDeselectedCallback=function(t){return this.onDeselected!==t?(this.onDeselected=t,!0):!1},e.prototype.nextStep=function(){this.currentStep===this.totalStep-1?this.currentStep=kr:this.currentStep++},e.prototype.forceComplete=function(){this.currentStep=kr},e.prototype.isDrawing=function(){return this.currentStep!==kr},e.prototype.isStart=function(){return this.currentStep===ha},e.prototype.eventMoveForDrawing=function(t){var r,n=this.currentStep-1,i={};q(t.timestamp)&&(i.timestamp=t.timestamp),q(t.dataIndex)&&(i.dataIndex=t.dataIndex),q(t.value)&&(i.value=t.value),this.points[n]=i,(r=this.performEventMoveForDrawing)===null||r===void 0||r.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:n,performPoint:i})},e.prototype.eventPressedPointMove=function(t,r){var n;q(t.dataIndex)&&(this.points[r].dataIndex=t.dataIndex,this.points[r].timestamp=t.timestamp),q(t.value)&&(this.points[r].value=t.value),(n=this.performEventPressedMove)===null||n===void 0||n.call(this,{currentStep:this.currentStep,points:this.points,mode:this.mode,performPointIndex:r,performPoint:this.points[r]})},e.prototype.startPressedMove=function(t){this._prevPressedPoint=J({},t),this._prevPressedPoints=tn(this.points)},e.prototype.eventPressedOtherMove=function(t,r){if(this._prevPressedPoint!==null){var n;q(t.dataIndex)&&q(this._prevPressedPoint.dataIndex)&&(n=t.dataIndex-this._prevPressedPoint.dataIndex);var i;q(t.value)&&q(this._prevPressedPoint.value)&&(i=t.value-this._prevPressedPoint.value),this.points=this._prevPressedPoints.map(function(o){var a;q(o.dataIndex)&&q(o.timestamp)&&(o.dataIndex=r.timestampToDataIndex(o.timestamp));var s=J({},o);return q(n)&&q(o.dataIndex)&&(s.dataIndex=o.dataIndex+n,s.timestamp=(a=r.dataIndexToTimestamp(s.dataIndex))!==null&&a!==void 0?a:void 0),q(i)&&q(o.value)&&(s.value=o.value+i),s})}},e.extend=function(t){var r=function(n){he(i,n);function i(){return n.call(this,t)||this}return i}(e);return r},e}(),ze;(function(e){e[e.Tooltip=0]="Tooltip",e[e.Crosshair=1]="Crosshair",e[e.XAxis=2]="XAxis"})(ze||(ze={}));function Wh(){return{formatDate:kh,formatBigNumber:Rh}}var zh="en-US",si=1,da=new Date().getTime();function Ls(e){var t=new Date().getTime();return t===da?++si:si=1,da=t,"".concat(e??"").concat(t,"_").concat(si)}function kt(e,t){var r,n=document.createElement(e),i=t??{};for(var o in i)n.style[o]=(r=i[o])!==null&&r!==void 0?r:"";return n}function Ai(e,t,r){var n=0,i=0;for(i=e.length-1;n!==i;){var o=Math.floor((i+n)/2),a=i-n,s=e[o][t];if(r===e[n][t])return n;if(r===e[i][t])return i;if(r===s)return o;if(r>s?n=o:i=o,a<=2)break}return n}function Xh(e){var t=Math.floor(Or(e)),r=Gt(t),n=e/r,i=0;return n<1.5?i=1:n<2.5?i=2:n<3.5?i=3:n<4.5?i=4:n<5.5?i=5:n<6.5?i=6:i=8,e=i*r,t>=-20?+e.toFixed(t<0?-t:0):e}function va(e,t){t==null&&(t=10),t=Math.min(Math.max(0,t),20);var r=(+e).toFixed(t);return+r}function jh(e){var t=e.toString(),r=t.indexOf("e");if(r>0){var n=+t.slice(r+1);return n<0?-n:0}else{var i=t.indexOf(".");return i<0?0:t.length-1-i}}function Ns(e,t,r){var n=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER];return e.forEach(function(i){var o,a;n[0]=Math.max((o=i[t])!==null&&o!==void 0?o:i,n[0]),n[1]=Math.min((a=i[r])!==null&&a!==void 0?a:i,n[1])}),n}function Or(e){return Math.log(e)/Math.log(10)}function Gt(e){return Math.pow(10,e)}function pa(){return{from:0,to:0,realFrom:0,realTo:0}}var ga={MIN:1,MAX:50},Hh=6,Yh=50,Uh=function(){function e(t){this._dateTimeFormat=this._buildDateTimeFormat(),this._zoomEnabled=!0,this._scrollEnabled=!0,this._loading=!0,this._loadMoreCallback=null,this._more=!0,this._totalBarSpace=0,this._barSpace=Hh,this._offsetRightDistance=Yh,this._startLastBarRightSideDiffBarCount=0,this._scrollLimitRole=0,this._minVisibleBarCount={left:2,right:2},this._maxOffsetDistance={left:50,right:50},this._visibleRange=pa(),this._chartStore=t,this._gapBarSpace=this._calcGapBarSpace(),this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace}return e.prototype._calcGapBarSpace=function(){var t=Math.floor(this._barSpace*.82),r=Math.floor(this._barSpace),n=Math.min(t,r-1);return Math.max(1,n)},e.prototype.adjustVisibleRange=function(){var t,r=this._chartStore.getDataList(),n=r.length,i=this._totalBarSpace/this._barSpace,o,a;this._scrollLimitRole===1?(o=(this._totalBarSpace-this._maxOffsetDistance.right)/this._barSpace,a=(this._totalBarSpace-this._maxOffsetDistance.left)/this._barSpace):(o=this._minVisibleBarCount.left,a=this._minVisibleBarCount.right),o=Math.max(0,o),a=Math.max(0,a);var s=i-Math.min(o,n);this._lastBarRightSideDiffBarCount>s&&(this._lastBarRightSideDiffBarCount=s);var l=-n+Math.min(a,n);this._lastBarRightSideDiffBarCount<l&&(this._lastBarRightSideDiffBarCount=l);var u=Math.round(this._lastBarRightSideDiffBarCount+n+.5);u>n&&(u=n);var c=Math.round(u-i)-1;c<0&&(c=0);var f=this._lastBarRightSideDiffBarCount>0?Math.round(n+this._lastBarRightSideDiffBarCount-i)-1:c;if(this._visibleRange={from:c,to:u,realFrom:f,realTo:u},this._chartStore.getActionStore().execute(ft.OnVisibleRangeChange,this._visibleRange),this._chartStore.adjustVisibleDataList(),c===0&&this._more&&!this._loading&&this._loadMoreCallback!==null){this._loading=!0;var h=r[0];this._loadMoreCallback((t=h==null?void 0:h.timestamp)!==null&&t!==void 0?t:null)}},e.prototype.setMore=function(t){return this._more=t,this},e.prototype.setLoading=function(t){return this._loading=t,this},e.prototype.getDateTimeFormat=function(){return this._dateTimeFormat},e.prototype._buildDateTimeFormat=function(t){var r={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};se(t)&&(r.timeZone=t);var n=null;try{n=new Intl.DateTimeFormat("en",r)}catch{}return n},e.prototype.setTimezone=function(t){var r=this._buildDateTimeFormat(t);r!==null&&(this._dateTimeFormat=r)},e.prototype.getTimezone=function(){return this._dateTimeFormat.resolvedOptions().timeZone},e.prototype.getBarSpace=function(){return{bar:this._barSpace,halfBar:this._barSpace/2,gapBar:this._gapBarSpace,halfGapBar:this._gapBarSpace/2}},e.prototype.setBarSpace=function(t,r){t<ga.MIN||t>ga.MAX||this._barSpace===t||(this._barSpace=t,this._gapBarSpace=this._calcGapBarSpace(),r==null||r(),this.adjustVisibleRange(),this._chartStore.getTooltipStore().recalculateCrosshair(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0))},e.prototype.setTotalBarSpace=function(t){return this._totalBarSpace!==t&&(this._totalBarSpace=t,this.adjustVisibleRange(),this._chartStore.getTooltipStore().recalculateCrosshair(!0)),this},e.prototype.setOffsetRightDistance=function(t,r){return this._offsetRightDistance=this._scrollLimitRole===1?Math.min(this._maxOffsetDistance.right,t):t,this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace,(r??!1)&&(this.adjustVisibleRange(),this._chartStore.getTooltipStore().recalculateCrosshair(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0)),this},e.prototype.resetOffsetRightDistance=function(){this.setOffsetRightDistance(this._offsetRightDistance)},e.prototype.getInitialOffsetRightDistance=function(){return this._offsetRightDistance},e.prototype.getOffsetRightDistance=function(){return Math.max(0,this._lastBarRightSideDiffBarCount*this._barSpace)},e.prototype.getLastBarRightSideDiffBarCount=function(){return this._lastBarRightSideDiffBarCount},e.prototype.setLastBarRightSideDiffBarCount=function(t){return this._lastBarRightSideDiffBarCount=t,this},e.prototype.setMaxOffsetLeftDistance=function(t){return this._scrollLimitRole=1,this._maxOffsetDistance.left=t,this},e.prototype.setMaxOffsetRightDistance=function(t){return this._scrollLimitRole=1,this._maxOffsetDistance.right=t,this},e.prototype.setLeftMinVisibleBarCount=function(t){return this._scrollLimitRole=0,this._minVisibleBarCount.left=t,this},e.prototype.setRightMinVisibleBarCount=function(t){return this._scrollLimitRole=0,this._minVisibleBarCount.right=t,this},e.prototype.getVisibleRange=function(){return this._visibleRange},e.prototype.startScroll=function(){this._startLastBarRightSideDiffBarCount=this._lastBarRightSideDiffBarCount},e.prototype.scroll=function(t){if(this._scrollEnabled){var r=t/this._barSpace;this._chartStore.getActionStore().execute(ft.OnScroll),this._lastBarRightSideDiffBarCount=this._startLastBarRightSideDiffBarCount-r,this.adjustVisibleRange(),this._chartStore.getTooltipStore().recalculateCrosshair(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0)}},e.prototype.getDataByDataIndex=function(t){var r;return(r=this._chartStore.getDataList()[t])!==null&&r!==void 0?r:null},e.prototype.coordinateToFloatIndex=function(t){var r=this._chartStore.getDataList().length,n=(this._totalBarSpace-t)/this._barSpace,i=r+this._lastBarRightSideDiffBarCount-n;return Math.round(i*1e6)/1e6},e.prototype.dataIndexToTimestamp=function(t){var r,n=this.getDataByDataIndex(t);return(r=n==null?void 0:n.timestamp)!==null&&r!==void 0?r:null},e.prototype.timestampToDataIndex=function(t){var r=this._chartStore.getDataList();return r.length===0?0:Ai(r,"timestamp",t)},e.prototype.dataIndexToCoordinate=function(t){var r=this._chartStore.getDataList().length,n=r+this._lastBarRightSideDiffBarCount-t;return Math.floor(this._totalBarSpace-(n-.5)*this._barSpace)-.5},e.prototype.coordinateToDataIndex=function(t){return Math.ceil(this.coordinateToFloatIndex(t))-1},e.prototype.zoom=function(t,r){var n=this,i;if(this._zoomEnabled){var o=r??null;if(!q(o==null?void 0:o.x)){var a=this._chartStore.getTooltipStore().getCrosshair();o={x:(i=a==null?void 0:a.x)!==null&&i!==void 0?i:this._totalBarSpace/2}}this._chartStore.getActionStore().execute(ft.OnZoom);var s=o.x,l=this.coordinateToFloatIndex(s),u=this._barSpace+t*(this._barSpace/10);this.setBarSpace(u,function(){n._lastBarRightSideDiffBarCount+=l-n.coordinateToFloatIndex(s)})}},e.prototype.setZoomEnabled=function(t){return this._zoomEnabled=t,this},e.prototype.getZoomEnabled=function(){return this._zoomEnabled},e.prototype.setScrollEnabled=function(t){return this._scrollEnabled=t,this},e.prototype.getScrollEnabled=function(){return this._scrollEnabled},e.prototype.setLoadMoreCallback=function(t){return this._loadMoreCallback=t,this},e.prototype.clear=function(){this._more=!0,this._loading=!0,this._visibleRange=pa()},e}(),$h={name:"AVP",shortName:"AVP",series:qe.Price,precision:2,figures:[{key:"avp",title:"AVP: ",type:"line"}],calc:function(e){var t=0,r=0;return e.map(function(n){var i,o,a={},s=(i=n==null?void 0:n.turnover)!==null&&i!==void 0?i:0,l=(o=n==null?void 0:n.volume)!==null&&o!==void 0?o:0;return t+=s,r+=l,r!==0&&(a.avp=t/r),a})}},Kh={name:"AO",shortName:"AO",calcParams:[5,34],figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:function(e,t,r){var n,i,o,a,s=e.prev,l=e.current,u=(i=(n=s.indicatorData)===null||n===void 0?void 0:n.ao)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER,c=(a=(o=l.indicatorData)===null||o===void 0?void 0:o.ao)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER,f;c>u?f=De(t.styles,"bars[0].upColor",r.bars[0].upColor):f=De(t.styles,"bars[0].downColor",r.bars[0].downColor);var h=c>u?ye.Stroke:ye.Fill;return{color:f,style:h,borderColor:f}}}],calc:function(e,t){var r=t.calcParams,n=Math.max(r[0],r[1]),i=0,o=0,a=0,s=0;return e.map(function(l,u){var c={},f=(l.low+l.high)/2;if(i+=f,o+=f,u>=r[0]-1){a=i/r[0];var h=e[u-(r[0]-1)];i-=(h.low+h.high)/2}if(u>=r[1]-1){s=o/r[1];var h=e[u-(r[1]-1)];o-=(h.low+h.high)/2}return u>=n-1&&(c.ao=a-s),c})}},Gh={name:"BIAS",shortName:"BIAS",calcParams:[6,12,24],figures:[{key:"bias1",title:"BIAS6: ",type:"line"},{key:"bias2",title:"BIAS12: ",type:"line"},{key:"bias3",title:"BIAS24: ",type:"line"}],regenerateFigures:function(e){return e.map(function(t,r){return{key:"bias".concat(r+1),title:"BIAS".concat(t,": "),type:"line"}})},calc:function(e,t){var r=t.calcParams,n=t.figures,i=[];return e.map(function(o,a){var s={},l=o.close;return r.forEach(function(u,c){var f;if(i[c]=((f=i[c])!==null&&f!==void 0?f:0)+l,a>=u-1){var h=i[c]/r[c];s[n[c].key]=(l-h)/h*100,i[c]-=e[a-(u-1)].close}}),s})}};function qh(e,t){var r=e.length,n=0;return e.forEach(function(i){var o=i.close-t;n+=o*o}),n=Math.abs(n),Math.sqrt(n/r)}var Zh={name:"BOLL",shortName:"BOLL",series:qe.Price,calcParams:[20,2],precision:2,shouldOhlc:!0,figures:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calc:function(e,t){var r=t.calcParams,n=r[0]-1,i=0;return e.map(function(o,a){var s=o.close,l={};if(i+=s,a>=n){l.mid=i/r[0];var u=qh(e.slice(a-n,a+1),l.mid);l.up=l.mid+r[1]*u,l.dn=l.mid-r[1]*u,i-=e[a-n].close}return l})}},Qh={name:"BRAR",shortName:"BRAR",calcParams:[26],figures:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calc:function(e,t){var r=t.calcParams,n=0,i=0,o=0,a=0;return e.map(function(s,l){var u,c,f={},h=s.high,d=s.low,v=s.open,g=((u=e[l-1])!==null&&u!==void 0?u:s).close;if(o+=h-v,a+=v-d,n+=h-g,i+=g-d,l>=r[0]-1){a!==0?f.ar=o/a*100:f.ar=0,i!==0?f.br=n/i*100:f.br=0;var p=e[l-(r[0]-1)],m=p.high,y=p.low,x=p.open,b=((c=e[l-r[0]])!==null&&c!==void 0?c:e[l-(r[0]-1)]).close;n-=m-b,i-=b-y,o-=m-x,a-=x-y}return f})}},Jh={name:"BBI",shortName:"BBI",series:qe.Price,precision:2,calcParams:[3,6,12,24],shouldOhlc:!0,figures:[{key:"bbi",title:"BBI: ",type:"line"}],calc:function(e,t){var r=t.calcParams,n=Math.max.apply(Math,Os([],Xe(r),!1)),i=[],o=[];return e.map(function(a,s){var l={},u=a.close;if(r.forEach(function(f,h){var d;i[h]=((d=i[h])!==null&&d!==void 0?d:0)+u,s>=f-1&&(o[h]=i[h]/f,i[h]-=e[s-(f-1)].close)}),s>=n-1){var c=0;o.forEach(function(f){c+=f}),l.bbi=c/4}return l})}},ed={name:"CCI",shortName:"CCI",calcParams:[20],figures:[{key:"cci",title:"CCI: ",type:"line"}],calc:function(e,t){var r=t.calcParams,n=r[0]-1,i=0,o=[];return e.map(function(a,s){var l={},u=(a.high+a.low+a.close)/3;if(i+=u,o.push(u),s>=n){var c=i/r[0],f=o.slice(s-n,s+1),h=0;f.forEach(function(g){h+=Math.abs(g-c)});var d=h/r[0];l.cci=d!==0?(u-c)/d/.015:0;var v=(e[s-n].high+e[s-n].low+e[s-n].close)/3;i-=v}return l})}},td={name:"CR",shortName:"CR",calcParams:[26,10,20,40,60],figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:function(e,t){var r=t.calcParams,n=Math.ceil(r[1]/2.5+1),i=Math.ceil(r[2]/2.5+1),o=Math.ceil(r[3]/2.5+1),a=Math.ceil(r[4]/2.5+1),s=0,l=[],u=0,c=[],f=0,h=[],d=0,v=[],g=[];return e.forEach(function(p,m){var y,x,b,C,E,I={},P=(y=e[m-1])!==null&&y!==void 0?y:p,A=(P.high+P.close+P.low+P.open)/4,O=Math.max(0,p.high-A),R=Math.max(0,A-p.low);m>=r[0]-1&&(R!==0?I.cr=O/R*100:I.cr=0,s+=I.cr,u+=I.cr,f+=I.cr,d+=I.cr,m>=r[0]+r[1]-2&&(l.push(s/r[1]),m>=r[0]+r[1]+n-3&&(I.ma1=l[l.length-1-n]),s-=(x=g[m-(r[1]-1)].cr)!==null&&x!==void 0?x:0),m>=r[0]+r[2]-2&&(c.push(u/r[2]),m>=r[0]+r[2]+i-3&&(I.ma2=c[c.length-1-i]),u-=(b=g[m-(r[2]-1)].cr)!==null&&b!==void 0?b:0),m>=r[0]+r[3]-2&&(h.push(f/r[3]),m>=r[0]+r[3]+o-3&&(I.ma3=h[h.length-1-o]),f-=(C=g[m-(r[3]-1)].cr)!==null&&C!==void 0?C:0),m>=r[0]+r[4]-2&&(v.push(d/r[4]),m>=r[0]+r[4]+a-3&&(I.ma4=v[v.length-1-a]),d-=(E=g[m-(r[4]-1)].cr)!==null&&E!==void 0?E:0)),g.push(I)}),g}},rd={name:"DMA",shortName:"DMA",calcParams:[10,50,10],figures:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calc:function(e,t){var r=t.calcParams,n=Math.max(r[0],r[1]),i=0,o=0,a=0,s=[];return e.forEach(function(l,u){var c,f={},h=l.close;i+=h,o+=h;var d=0,v=0;if(u>=r[0]-1&&(d=i/r[0],i-=e[u-(r[0]-1)].close),u>=r[1]-1&&(v=o/r[1],o-=e[u-(r[1]-1)].close),u>=n-1){var g=d-v;f.dma=g,a+=g,u>=n+r[2]-2&&(f.ama=a/r[2],a-=(c=s[u-(r[2]-1)].dma)!==null&&c!==void 0?c:0)}s.push(f)}),s}},nd={name:"DMI",shortName:"DMI",calcParams:[14,6],figures:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calc:function(e,t){var r=t.calcParams,n=0,i=0,o=0,a=0,s=0,l=0,u=0,c=0,f=[];return e.forEach(function(h,d){var v,g,p={},m=(v=e[d-1])!==null&&v!==void 0?v:h,y=m.close,x=h.high,b=h.low,C=x-b,E=Math.abs(x-y),I=Math.abs(y-b),P=x-m.high,A=m.low-b,O=Math.max(Math.max(C,E),I),R=P>0&&P>A?P:0,j=A>0&&A>P?A:0;if(n+=O,i+=R,o+=j,d>=r[0]-1){d>r[0]-1?(a=a-a/r[0]+O,s=s-s/r[0]+R,l=l-l/r[0]+j):(a=n,s=i,l=o);var V=0,$=0;a!==0&&(V=s*100/a,$=l*100/a),p.pdi=V,p.mdi=$;var Q=0;$+V!==0&&(Q=Math.abs($-V)/($+V)*100),u+=Q,d>=r[0]*2-2&&(d>r[0]*2-2?c=(c*(r[0]-1)+Q)/r[0]:c=u/r[0],p.adx=c,d>=r[0]*2+r[1]-3&&(p.adxr=(((g=f[d-(r[1]-1)].adx)!==null&&g!==void 0?g:0)+c)/2))}f.push(p)}),f}},id={name:"EMV",shortName:"EMV",calcParams:[14,9],figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calc:function(e,t){var r=t.calcParams,n=0,i=[];return e.map(function(o,a){var s,l={};if(a>0){var u=e[a-1],c=o.high,f=o.low,h=(s=o.volume)!==null&&s!==void 0?s:0,d=(c+f)/2-(u.high+u.low)/2;if(h===0||c-f===0)l.emv=0;else{var v=h/1e8/(c-f);l.emv=d/v}n+=l.emv,i.push(l.emv),a>=r[0]&&(l.maEmv=n/r[0],n-=i[a-r[0]])}return l})}},od={name:"EMA",shortName:"EMA",series:qe.Price,calcParams:[6,12,20],precision:2,shouldOhlc:!0,figures:[{key:"ema1",title:"EMA6: ",type:"line"},{key:"ema2",title:"EMA12: ",type:"line"},{key:"ema3",title:"EMA20: ",type:"line"}],regenerateFigures:function(e){return e.map(function(t,r){return{key:"ema".concat(r+1),title:"EMA".concat(t,": "),type:"line"}})},calc:function(e,t){var r=t.calcParams,n=t.figures,i=0,o=[];return e.map(function(a,s){var l={},u=a.close;return i+=u,r.forEach(function(c,f){s>=c-1&&(s>c-1?o[f]=(2*u+(c-1)*o[f])/(c+1):o[f]=i/c,l[n[f].key]=o[f])}),l})}},ad={name:"MTM",shortName:"MTM",calcParams:[12,6],figures:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calc:function(e,t){var r=t.calcParams,n=0,i=[];return e.forEach(function(o,a){var s,l={};if(a>=r[0]){var u=o.close,c=e[a-r[0]].close;l.mtm=u-c,n+=l.mtm,a>=r[0]+r[1]-1&&(l.maMtm=n/r[1],n-=(s=i[a-(r[1]-1)].mtm)!==null&&s!==void 0?s:0)}i.push(l)}),i}},sd={name:"MA",shortName:"MA",series:qe.Price,calcParams:[5,10,30,60],precision:2,shouldOhlc:!0,figures:[{key:"ma5",title:"MA5: ",type:"line"},{key:"ma10",title:"MA10: ",type:"line"},{key:"ma30",title:"MA30: ",type:"line"},{key:"ma60",title:"MA60: ",type:"line"}],regenerateFigures:function(e){return e.map(function(t,r){return{key:"ma".concat(r+1),title:"MA".concat(t,": "),type:"line"}})},calc:function(e,t){var r=t.calcParams,n=t.figures,i=[];return e.map(function(o,a){var s={},l=o.close;return r.forEach(function(u,c){var f;i[c]=((f=i[c])!==null&&f!==void 0?f:0)+l,a>=u-1&&(s[n[c].key]=i[c]/u,i[c]-=e[a-(u-1)].close)}),s})}},ld={name:"MACD",shortName:"MACD",calcParams:[12,26,9],figures:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,styles:function(e,t,r){var n,i,o,a,s=e.prev,l=e.current,u=(i=(n=s.indicatorData)===null||n===void 0?void 0:n.macd)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER,c=(a=(o=l.indicatorData)===null||o===void 0?void 0:o.macd)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER,f;c>0?f=De(t.styles,"bars[0].upColor",r.bars[0].upColor):c<0?f=De(t.styles,"bars[0].downColor",r.bars[0].downColor):f=De(t.styles,"bars[0].noChangeColor",r.bars[0].noChangeColor);var h=u<c?ye.Stroke:ye.Fill;return{style:h,color:f,borderColor:f}}}],calc:function(e,t){var r=t.calcParams,n=0,i,o,a=0,s=0,l=0,u=Math.max(r[0],r[1]);return e.map(function(c,f){var h={},d=c.close;return n+=d,f>=r[0]-1&&(f>r[0]-1?i=(2*d+(r[0]-1)*i)/(r[0]+1):i=n/r[0]),f>=r[1]-1&&(f>r[1]-1?o=(2*d+(r[1]-1)*o)/(r[1]+1):o=n/r[1]),f>=u-1&&(a=i-o,h.dif=a,s+=a,f>=u+r[2]-2&&(f>u+r[2]-2?l=(a*2+l*(r[2]-1))/(r[2]+1):l=s/r[2],h.macd=(a-l)*2,h.dea=l)),h})}},ud={name:"OBV",shortName:"OBV",calcParams:[30],figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calc:function(e,t){var r=t.calcParams,n=0,i=0,o=[];return e.forEach(function(a,s){var l,u,c,f,h=(l=e[s-1])!==null&&l!==void 0?l:a;a.close<h.close?i-=(u=a.volume)!==null&&u!==void 0?u:0:a.close>h.close&&(i+=(c=a.volume)!==null&&c!==void 0?c:0);var d={obv:i};n+=i,s>=r[0]-1&&(d.maObv=n/r[0],n-=(f=o[s-(r[0]-1)].obv)!==null&&f!==void 0?f:0),o.push(d)}),o}},cd={name:"PVT",shortName:"PVT",figures:[{key:"pvt",title:"PVT: ",type:"line"}],calc:function(e){var t=0;return e.map(function(r,n){var i,o,a={},s=r.close,l=(i=r.volume)!==null&&i!==void 0?i:1,u=((o=e[n-1])!==null&&o!==void 0?o:r).close,c=0,f=u*l;return f!==0&&(c=(s-u)/f),t+=c,a.pvt=t,a})}},fd={name:"PSY",shortName:"PSY",calcParams:[12,6],figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calc:function(e,t){var r=t.calcParams,n=0,i=0,o=[],a=[];return e.forEach(function(s,l){var u,c,f={},h=((u=e[l-1])!==null&&u!==void 0?u:s).close,d=s.close-h>0?1:0;o.push(d),n+=d,l>=r[0]-1&&(f.psy=n/r[0]*100,i+=f.psy,l>=r[0]+r[1]-2&&(f.maPsy=i/r[1],i-=(c=a[l-(r[1]-1)].psy)!==null&&c!==void 0?c:0),n-=o[l-(r[0]-1)]),a.push(f)}),a}},hd={name:"ROC",shortName:"ROC",calcParams:[12,6],figures:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calc:function(e,t){var r=t.calcParams,n=[],i=0;return e.forEach(function(o,a){var s,l,u={};if(a>=r[0]-1){var c=o.close,f=((s=e[a-r[0]])!==null&&s!==void 0?s:e[a-(r[0]-1)]).close;f!==0?u.roc=(c-f)/f*100:u.roc=0,i+=u.roc,a>=r[0]-1+r[1]-1&&(u.maRoc=i/r[1],i-=(l=n[a-(r[1]-1)].roc)!==null&&l!==void 0?l:0)}n.push(u)}),n}},dd={name:"RSI",shortName:"RSI",calcParams:[6,12,24],figures:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regenerateFigures:function(e){return e.map(function(t,r){var n=r+1;return{key:"rsi".concat(n),title:"RSI".concat(n,": "),type:"line"}})},calc:function(e,t){var r=t.calcParams,n=t.figures,i=[],o=[];return e.map(function(a,s){var l,u={},c=((l=e[s-1])!==null&&l!==void 0?l:a).close,f=a.close-c;return r.forEach(function(h,d){var v,g,p;if(f>0?i[d]=((v=i[d])!==null&&v!==void 0?v:0)+f:o[d]=((g=o[d])!==null&&g!==void 0?g:0)+Math.abs(f),s>=h-1){o[d]!==0?u[n[d].key]=100-100/(1+i[d]/o[d]):u[n[d].key]=0;var m=e[s-(h-1)],y=(p=e[s-h])!==null&&p!==void 0?p:m,x=m.close-y.close;x>0?i[d]-=x:o[d]-=Math.abs(x)}}),u})}},vd={name:"SMA",shortName:"SMA",series:qe.Price,calcParams:[12,2],precision:2,figures:[{key:"sma",title:"SMA: ",type:"line"}],shouldOhlc:!0,calc:function(e,t){var r=t.calcParams,n=0,i=0;return e.map(function(o,a){var s={},l=o.close;return n+=l,a>=r[0]-1&&(a>r[0]-1?i=(l*r[1]+i*(r[0]-r[1]+1))/(r[0]+1):i=n/r[0],s.sma=i),s})}},pd={name:"KDJ",shortName:"KDJ",calcParams:[9,3,3],figures:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calc:function(e,t){var r=t.calcParams,n=[];return e.forEach(function(i,o){var a,s,l,u,c={},f=i.close;if(o>=r[0]-1){var h=Ns(e.slice(o-(r[0]-1),o+1),"high","low"),d=h[0],v=h[1],g=d-v,p=(f-v)/(g===0?1:g)*100;c.k=((r[1]-1)*((s=(a=n[o-1])===null||a===void 0?void 0:a.k)!==null&&s!==void 0?s:50)+p)/r[1],c.d=((r[2]-1)*((u=(l=n[o-1])===null||l===void 0?void 0:l.d)!==null&&u!==void 0?u:50)+c.k)/r[2],c.j=3*c.k-2*c.d}n.push(c)}),n}},gd={name:"SAR",shortName:"SAR",series:qe.Price,calcParams:[2,2,20],precision:2,shouldOhlc:!0,figures:[{key:"sar",title:"SAR: ",type:"circle",styles:function(e,t,r){var n,i,o=e.current,a=(i=(n=o.indicatorData)===null||n===void 0?void 0:n.sar)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER,s=o.kLineData,l=((s==null?void 0:s.high)+(s==null?void 0:s.low))/2,u=a<l?De(t.styles,"circles[0].upColor",r.circles[0].upColor):De(t.styles,"circles[0].downColor",r.circles[0].downColor);return{color:u}}}],calc:function(e,t){var r=t.calcParams,n=r[0]/100,i=r[1]/100,o=r[2]/100,a=n,s=-100,l=!1,u=0;return e.map(function(c,f){var h=u,d=c.high,v=c.low;if(l){(s===-100||s<d)&&(s=d,a=Math.min(a+i,o)),u=h+a*(s-h);var g=Math.min(e[Math.max(1,f)-1].low,v);u>c.low?(u=s,a=n,s=-100,l=!l):u>g&&(u=g)}else{(s===-100||s>v)&&(s=v,a=Math.min(a+i,o)),u=h+a*(s-h);var p=Math.max(e[Math.max(1,f)-1].high,d);u<c.high?(u=s,a=0,s=-100,l=!l):u<p&&(u=p)}return{sar:u}})}},md={name:"TRIX",shortName:"TRIX",calcParams:[12,9],figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calc:function(e,t){var r=t.calcParams,n=0,i,o,a,s=0,l=0,u=0,c=[];return e.forEach(function(f,h){var d,v={},g=f.close;if(n+=g,h>=r[0]-1&&(h>r[0]-1?i=(2*g+(r[0]-1)*i)/(r[0]+1):i=n/r[0],s+=i,h>=r[0]*2-2&&(h>r[0]*2-2?o=(2*i+(r[0]-1)*o)/(r[0]+1):o=s/r[0],l+=o,h>=r[0]*3-3))){var p=void 0,m=0;h>r[0]*3-3?(p=(2*o+(r[0]-1)*a)/(r[0]+1),m=(p-a)/a*100):p=l/r[0],a=p,v.trix=m,u+=m,h>=r[0]*3+r[1]-4&&(v.maTrix=u/r[1],u-=(d=c[h-(r[1]-1)].trix)!==null&&d!==void 0?d:0)}c.push(v)}),c}},_d={name:"VOL",shortName:"VOL",series:qe.Volume,calcParams:[5,10,20],shouldFormatBigNumber:!0,precision:0,minValue:0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA20: ",type:"line"},{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(e,t,r){var n=e.current.kLineData,i;return n.close>n.open?i=De(t.styles,"bars[0].upColor",r.bars[0].upColor):n.close<n.open?i=De(t.styles,"bars[0].downColor",r.bars[0].downColor):i=De(t.styles,"bars[0].noChangeColor",r.bars[0].noChangeColor),{color:i}}}],regenerateFigures:function(e){var t=e.map(function(r,n){return{key:"ma".concat(n+1),title:"MA".concat(r,": "),type:"line"}});return t.push({key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(r,n,i){var o=r.current.kLineData,a;return o.close>o.open?a=De(n.styles,"bars[0].upColor",i.bars[0].upColor):o.close<o.open?a=De(n.styles,"bars[0].downColor",i.bars[0].downColor):a=De(n.styles,"bars[0].noChangeColor",i.bars[0].noChangeColor),{color:a}}}),t},calc:function(e,t){var r=t.calcParams,n=t.figures,i=[];return e.map(function(o,a){var s,l=(s=o.volume)!==null&&s!==void 0?s:0,u={volume:l};return r.forEach(function(c,f){var h,d;i[f]=((h=i[f])!==null&&h!==void 0?h:0)+l,a>=c-1&&(u[n[f].key]=i[f]/c,i[f]-=(d=e[a-(c-1)].volume)!==null&&d!==void 0?d:0)}),u})}},yd={name:"VR",shortName:"VR",calcParams:[26,6],figures:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calc:function(e,t){var r=t.calcParams,n=0,i=0,o=0,a=0,s=[];return e.forEach(function(l,u){var c,f,h,d,v,g={},p=l.close,m=((c=e[u-1])!==null&&c!==void 0?c:l).close,y=(f=l.volume)!==null&&f!==void 0?f:0;if(p>m?n+=y:p<m?i+=y:o+=y,u>=r[0]-1){var x=o/2;i+x===0?g.vr=0:g.vr=(n+x)/(i+x)*100,a+=g.vr,u>=r[0]+r[1]-2&&(g.maVr=a/r[1],a-=(h=s[u-(r[1]-1)].vr)!==null&&h!==void 0?h:0);var b=e[u-(r[0]-1)],C=(d=e[u-r[0]])!==null&&d!==void 0?d:b,E=b.close,I=(v=b.volume)!==null&&v!==void 0?v:0;E>C.close?n-=I:E<C.close?i-=I:o-=I}s.push(g)}),s}},xd={name:"WR",shortName:"WR",calcParams:[6,10,14],figures:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regenerateFigures:function(e){return e.map(function(t,r){return{key:"wr".concat(r+1),title:"WR".concat(r+1,": "),type:"line"}})},calc:function(e,t){var r=t.calcParams,n=t.figures;return e.map(function(i,o){var a={},s=i.close;return r.forEach(function(l,u){var c=l-1;if(o>=c){var f=Ns(e.slice(o-c,o+1),"high","low"),h=f[0],d=f[1],v=h-d;a[n[u].key]=v===0?0:(s-h)/v*100}}),a})}},Vs={},bd=[$h,Kh,Gh,Zh,Qh,Jh,ed,td,rd,nd,id,od,ad,sd,ld,ud,cd,fd,hd,dd,vd,pd,gd,md,_d,yd,xd];bd.forEach(function(e){Vs[e.name]=Oh.extend(e)});function Ws(e){var t;return(t=Vs[e])!==null&&t!==void 0?t:null}var Sd=function(){function e(t){this._instances=new Map,this._chartStore=t}return e.prototype._overrideInstance=function(t,r){var n=r.shortName,i=r.series,o=r.calcParams,a=r.precision,s=r.figures,l=r.minValue,u=r.maxValue,c=r.shouldOhlc,f=r.shouldFormatBigNumber,h=r.visible,d=r.zLevel,v=r.styles,g=r.extendData,p=r.regenerateFigures,m=r.createTooltipDataSource,y=r.draw,x=r.calc,b=!1;se(n)&&t.setShortName(n)&&(b=!0),X(i)&&t.setSeries(i)&&(b=!0);var C=!1;yt(o)&&t.setCalcParams(o)&&(b=!0,C=!0),yt(s)&&t.setFigures(s)&&(b=!0,C=!0),l!==void 0&&t.setMinValue(l)&&(b=!0),u!==void 0&&t.setMinValue(u)&&(b=!0),q(a)&&t.setPrecision(a)&&(b=!0),nr(c)&&t.setShouldOhlc(c)&&(b=!0),nr(f)&&t.setShouldFormatBigNumber(f)&&(b=!0),nr(h)&&t.setVisible(h)&&(b=!0);var E=!1;return q(d)&&t.setZLevel(d)&&(b=!0,E=!0),X(v)&&t.setStyles(v)&&(b=!0),t.setExtendData(g)&&(b=!0,C=!0),p!==void 0&&t.setRegenerateFigures(p)&&(b=!0),m!==void 0&&t.setCreateTooltipDataSource(m)&&(b=!0),y!==void 0&&t.setDraw(y)&&(b=!0),or(x)&&(t.calc=x,C=!0),[b,C,E]},e.prototype._sort=function(t){var r;se(t)?(r=this._instances.get(t))===null||r===void 0||r.sort(function(n,i){return n.zLevel-i.zLevel}):this._instances.forEach(function(n){n.sort(function(i,o){return i.zLevel-o.zLevel})})},e.prototype.addInstance=function(t,r,n){return zr(this,void 0,void 0,function(){var i,o,a,s,l;return Xr(this,function(u){switch(u.label){case 0:return i=t.name,o=this._instances.get(r),X(o)?(a=o.find(function(c){return c.name===i}),X(a)?[4,Promise.reject(new Error("Duplicate indicators."))]:[3,2]):[3,2];case 1:return[2,u.sent()];case 2:return X(o)||(o=[]),s=Ws(i),l=new s,this._overrideInstance(l,t),n||(o=[]),o.push(l),this._instances.set(r,o),this._sort(r),[4,l.calcIndicator(this._chartStore.getDataList())];case 3:return[2,u.sent()]}})})},e.prototype.getInstances=function(t){var r;return(r=this._instances.get(t))!==null&&r!==void 0?r:[]},e.prototype.removeInstance=function(t,r){var n,i=!1,o=this._instances.get(t);if(X(o)){if(se(r)){var a=o.findIndex(function(s){return s.name===r});a>-1&&(o.splice(a,1),i=!0)}else this._instances.set(t,[]),i=!0;((n=this._instances.get(t))===null||n===void 0?void 0:n.length)===0&&this._instances.delete(t)}return i},e.prototype.hasInstances=function(t){return this._instances.has(t)},e.prototype.calcInstance=function(t,r){return zr(this,void 0,void 0,function(){var n,i,o,a,s=this;return Xr(this,function(l){switch(l.label){case 0:return n=[],se(t)?se(r)?(i=this._instances.get(r),X(i)&&(o=i.find(function(u){return u.name===t}),X(o)&&n.push(o.calcIndicator(this._chartStore.getDataList())))):this._instances.forEach(function(u){var c=u.find(function(f){return f.name===t});X(c)&&n.push(c.calcIndicator(s._chartStore.getDataList()))}):this._instances.forEach(function(u){u.forEach(function(c){n.push(c.calcIndicator(s._chartStore.getDataList()))})}),[4,Promise.all(n)];case 1:return a=l.sent(),[2,a.includes(!0)]}})})},e.prototype.getInstanceByPaneId=function(t,r){var n,i,o=function(l){var u=new Map;return l.forEach(function(c){u.set(c.name,c)}),u};if(se(t)){var a=(n=this._instances.get(t))!==null&&n!==void 0?n:[];return se(r)?(i=a==null?void 0:a.find(function(l){return l.name===r}))!==null&&i!==void 0?i:null:o(a)}var s=new Map;return this._instances.forEach(function(l,u){s.set(u,o(l))}),s},e.prototype.setSeriesPrecision=function(t){this._instances.forEach(function(r){r.forEach(function(n){n.series===qe.Price&&n.setPrecision(t.price,!0),n.series===qe.Volume&&n.setPrecision(t.volume,!0)})})},e.prototype.override=function(t,r){return zr(this,void 0,void 0,function(){var n,i,o,a,s,l,u,c=this;return Xr(this,function(f){switch(f.label){case 0:return n=t.name,i=new Map,r!==null?(o=this._instances.get(r),X(o)&&i.set(r,o)):i=this._instances,a=!1,s=[],l=!1,i.forEach(function(h){var d=h.find(function(g){return g.name===n});if(X(d)){var v=c._overrideInstance(d,t);v[2]&&(l=!0),v[1]?s.push(d.calcIndicator(c._chartStore.getDataList())):v[0]&&(a=!0)}}),l&&this._sort(),[4,Promise.all(s)];case 1:return u=f.sent(),[2,[a,u.includes(!0)]]}})})},e}(),wd=function(){function e(t){this._crosshair={},this._activeIcon=null,this._chartStore=t}return e.prototype.setCrosshair=function(t,r){var n=this._chartStore.getDataList(),i=t??{},o,a;q(i.x)?(o=this._chartStore.getTimeScaleStore().coordinateToDataIndex(i.x),o<0?a=0:o>n.length-1?a=n.length-1:a=o):(o=n.length-1,a=o);var s=n[a],l=this._chartStore.getTimeScaleStore().dataIndexToCoordinate(o),u={x:this._crosshair.x,y:this._crosshair.y,paneId:this._crosshair.paneId};this._crosshair=J(J({},i),{realX:l,kLineData:s,realDataIndex:o,dataIndex:a}),(u.x!==i.x||u.y!==i.y||u.paneId!==i.paneId)&&(s!==null&&this._chartStore.getChart().crosshairChange(this._crosshair),(r??!1)||this._chartStore.getChart().updatePane(1))},e.prototype.recalculateCrosshair=function(t){this.setCrosshair(this._crosshair,t)},e.prototype.getCrosshair=function(){return this._crosshair},e.prototype.setActiveIcon=function(t){this._activeIcon=t??null},e.prototype.getActiveIcon=function(){return this._activeIcon},e.prototype.clear=function(){this.setCrosshair({},!0),this.setActiveIcon()},e}(),Cd={name:"fibonacciLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding,n=e.overlay,i=e.precision,o=e.thousandsSeparator,a=n.points;if(t.length>0){var s=[],l=[],u=0,c=r.width;if(t.length>1&&q(a[0].value)&&q(a[1].value)){var f=[1,.786,.618,.5,.382,.236,0],h=t[0].y-t[1].y,d=a[0].value-a[1].value;f.forEach(function(v){var g,p=t[1].y+h*v,m=We((((g=a[1].value)!==null&&g!==void 0?g:0)+d*v).toFixed(i.price),o);s.push({coordinates:[{x:u,y:p},{x:c,y:p}]}),l.push({x:u,y:p,text:"".concat(m," (").concat((v*100).toFixed(1),"%)"),baseline:"bottom"})})}return[{type:"line",attrs:s},{type:"text",isCheckEvent:!1,attrs:l}]}return[]}},Ed={name:"horizontalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding,n={x:0,y:t[0].y};return X(t[1])&&t[0].x<t[1].x&&(n.x=r.width),[{type:"line",attrs:{coordinates:[t[0],n]}}]},performEventPressedMove:function(e){var t=e.points,r=e.performPoint;t[0].value=r.value,t[1].value=r.value},performEventMoveForDrawing:function(e){var t=e.currentStep,r=e.points,n=e.performPoint;t===2&&(r[0].value=n.value)}},Id={name:"horizontalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=[];return t.length===2&&r.push({coordinates:t}),[{type:"line",attrs:r}]},performEventPressedMove:function(e){var t=e.points,r=e.performPoint;t[0].value=r.value,t[1].value=r.value},performEventMoveForDrawing:function(e){var t=e.currentStep,r=e.points,n=e.performPoint;t===2&&(r[0].value=n.value)}},Pd={name:"horizontalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding;return[{type:"line",attrs:{coordinates:[{x:0,y:t[0].y},{x:r.width,y:t[0].y}]}}]}},uo=function(){function e(){this._children=[],this._callbacks=new Map}return e.prototype.registerEvent=function(t,r){return this._callbacks.set(t,r),this},e.prototype.onEvent=function(t,r,n){var i=this._callbacks.get(t);return X(i)&&this.checkEventOn(r)?i(r,n):!1},e.prototype.checkEventOn=function(t){var r,n;try{for(var i=ir(this._children),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.checkEventOn(t))return!0}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1},e.prototype.dispatchEvent=function(t,r,n){var i=this._children.length-1;if(i>-1){for(var o=i;o>-1;o--)if(this._children[o].dispatchEvent(t,r,n))return!0}return this.onEvent(t,r,n)},e.prototype.addChild=function(t){return this._children.push(t),this},e.prototype.clear=function(){this._children=[]},e}(),Be=2,Td=function(e){he(t,e);function t(r){var n=e.call(this)||this;return n.attrs=r.attrs,n.styles=r.styles,n}return t.prototype.checkEventOn=function(r){return this.checkEventOnImp(r,this.attrs,this.styles)},t.prototype.draw=function(r){this.drawImp(r,this.attrs,this.styles)},t.extend=function(r){var n=function(i){he(o,i);function o(){return i!==null&&i.apply(this,arguments)||this}return o.prototype.checkEventOnImp=function(a,s,l){return r.checkEventOn(a,s,l)},o.prototype.drawImp=function(a,s,l){r.draw(a,s,l)},o}(t);return n},t}(uo);function ma(e,t){return Math.sqrt(Math.pow(e.x+t.x,2)+Math.pow(e.y+t.y,2))}function Md(e){var t=ma(e[0],e[1]),r=ma(e[1],e[2]),n=t+r,i=[e[2].x-e[0].x,e[2].y-e[0].y];return[{x:e[1].x-i[0]*.5*t/n,y:e[1].y-i[1]*.5*t/n},{x:e[1].x+i[0]*.5*t/n,y:e[1].y+i[1]*.5*t/n}]}function Ad(e,t){var r=t.coordinates;if(r.length>1)for(var n=1;n<r.length;n++){var i=r[n-1],o=r[n];if(i.x===o.x){if(Math.abs(i.y-e.y)+Math.abs(o.y-e.y)-Math.abs(i.y-o.y)<Be+Be&&Math.abs(e.x-i.x)<Be)return!0}else{var a=co(i,o),s=zs(a,e),l=Math.abs(s-e.y);if(Math.abs(i.x-e.x)+Math.abs(o.x-e.x)-Math.abs(i.x-o.x)<Be+Be&&l*l/(a[0]*a[0]+1)<Be*Be)return!0}}return!1}function zs(e,t){return e!=null?t.x*e[0]+e[1]:t.y}function Pn(e,t,r){var n=co(e,t);return zs(n,r)}function co(e,t){var r=e.x-t.x;if(r!==0){var n=(e.y-t.y)/r,i=e.y-n*e.x;return[n,i]}return null}function Dd(e,t,r){var n=t.coordinates,i=n.length;if(i>1){var o=r.style,a=o===void 0?we.Solid:o,s=r.smooth,l=r.size,u=l===void 0?1:l,c=r.color,f=c===void 0?"currentColor":c,h=r.dashedValue,d=h===void 0?[2,2]:h;if(e.lineWidth=u,e.strokeStyle=f,a===we.Dashed?e.setLineDash(d):e.setLineDash([]),e.beginPath(),e.moveTo(n[0].x,n[0].y),s??!1){for(var v=[],g=1;g<i-1;g++)v=v.concat(Md([n[g-1],n[g],n[g+1]]));e.quadraticCurveTo(v[0].x,v[0].y,n[1].x,n[1].y);for(var p=2;p<i-1;p++)e.bezierCurveTo(v[(p-2)*2+1].x,v[(p-2)*2+1].y,v[(p-1)*2].x,v[(p-1)*2].y,n[p].x,n[p].y);e.quadraticCurveTo(v[(p-2)*2+1].x,v[(p-2)*2+1].y,n[p].x,n[p].y)}else for(var p=1;p<n.length;p++)e.lineTo(n[p].x,n[p].y);e.stroke(),e.closePath()}}var kd={name:"line",checkEventOn:Ad,draw:function(e,t,r){Dd(e,t,r)}};function Xs(e,t,r){var n=r??0,i=[];if(e.length>1)if(e[0].x===e[1].x){var o=0,a=t.height;if(i.push({coordinates:[{x:e[0].x,y:o},{x:e[0].x,y:a}]}),e.length>2){i.push({coordinates:[{x:e[2].x,y:o},{x:e[2].x,y:a}]});for(var s=e[0].x-e[2].x,l=0;l<n;l++){var u=s*(l+1);i.push({coordinates:[{x:e[0].x+u,y:o},{x:e[0].x+u,y:a}]})}}}else{var c=0,f=t.width,h=co(e[0],e[1]),d=h[0],v=h[1];if(i.push({coordinates:[{x:c,y:c*d+v},{x:f,y:f*d+v}]}),e.length>2){var g=e[2].y-d*e[2].x;i.push({coordinates:[{x:c,y:c*d+g},{x:f,y:f*d+g}]});for(var s=v-g,l=0;l<n;l++){var p=v+s*(l+1);i.push({coordinates:[{x:c,y:c*d+p},{x:f,y:f*d+p}]})}}}return i}var Rd={name:"parallelStraightLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding;return[{type:"line",attrs:Xs(t,r)}]}},Fd={name:"priceChannelLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding;return[{type:"line",attrs:Xs(t,r,1)}]}},Od={name:"priceLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding,n=e.precision,i=e.overlay,o=e.thousandsSeparator,a=i.points[0].value,s=a===void 0?0:a;return[{type:"line",attrs:{coordinates:[t[0],{x:r.width,y:t[0].y}]}},{type:"text",ignoreEvent:!0,attrs:{x:t[0].x,y:t[0].y,text:We(s.toFixed(n.price),o),baseline:"bottom"}}]}};function Bd(e,t){if(e.length>1){var r=void 0;return e[0].x===e[1].x&&e[0].y!==e[1].y?e[0].y<e[1].y?r={x:e[0].x,y:t.height}:r={x:e[0].x,y:0}:e[0].x>e[1].x?r={x:0,y:Pn(e[0],e[1],{x:0,y:e[0].y})}:r={x:t.width,y:Pn(e[0],e[1],{x:t.width,y:e[0].y})},{coordinates:[e[0],r]}}return[]}var Ld={name:"rayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding;return[{type:"line",attrs:Bd(t,r)}]}},Nd={name:"segment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates;return t.length===2?[{type:"line",attrs:{coordinates:t}}]:[]}},Vd={name:"straightLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding;return t.length===2?t[0].x===t[1].x?[{type:"line",attrs:{coordinates:[{x:t[0].x,y:0},{x:t[0].x,y:r.height}]}}]:[{type:"line",attrs:{coordinates:[{x:0,y:Pn(t[0],t[1],{x:0,y:t[0].y})},{x:r.width,y:Pn(t[0],t[1],{x:r.width,y:t[0].y})}]}}]:[]}},Wd={name:"verticalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding;if(t.length===2){var n={x:t[0].x,y:0};return t[0].y<t[1].y&&(n.y=r.height),[{type:"line",attrs:{coordinates:[t[0],n]}}]}return[]},performEventPressedMove:function(e){var t=e.points,r=e.performPoint;t[0].timestamp=r.timestamp,t[0].dataIndex=r.dataIndex,t[1].timestamp=r.timestamp,t[1].dataIndex=r.dataIndex},performEventMoveForDrawing:function(e){var t=e.currentStep,r=e.points,n=e.performPoint;t===2&&(r[0].timestamp=n.timestamp,r[0].dataIndex=n.dataIndex)}},zd={name:"verticalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates;return t.length===2?[{type:"line",attrs:{coordinates:t}}]:[]},performEventPressedMove:function(e){var t=e.points,r=e.performPoint;t[0].timestamp=r.timestamp,t[0].dataIndex=r.dataIndex,t[1].timestamp=r.timestamp,t[1].dataIndex=r.dataIndex},performEventMoveForDrawing:function(e){var t=e.currentStep,r=e.points,n=e.performPoint;t===2&&(r[0].timestamp=n.timestamp,r[0].dataIndex=n.dataIndex)}},Xd={name:"verticalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding;return[{type:"line",attrs:{coordinates:[{x:t[0].x,y:0},{x:t[0].x,y:r.height}]}}]}},jd={name:"simpleAnnotation",totalStep:2,styles:{line:{style:we.Dashed}},createPointFigures:function(e){var t,r=e.overlay,n=e.coordinates,i;X(r.extendData)&&(or(r.extendData)?i=r.extendData(r):i=(t=r.extendData)!==null&&t!==void 0?t:"");var o=n[0].x,a=n[0].y-6,s=a-50,l=s-5;return[{type:"line",attrs:{coordinates:[{x:o,y:a},{x:o,y:s}]},ignoreEvent:!0},{type:"polygon",attrs:{coordinates:[{x:o,y:s},{x:o-4,y:l},{x:o+4,y:l}]},ignoreEvent:!0},{type:"text",attrs:{x:o,y:l,text:i??"",align:"center",baseline:"bottom"},ignoreEvent:!0}]}},Hd={name:"simpleTag",totalStep:2,styles:{line:{style:we.Dashed}},createPointFigures:function(e){var t=e.bounding,r=e.coordinates;return{type:"line",attrs:{coordinates:[{x:0,y:r[0].y},{x:t.width,y:r[0].y}]},ignoreEvent:!0}},createYAxisFigures:function(e){var t,r,n=e.overlay,i=e.coordinates,o=e.bounding,a=e.yAxis,s=e.precision,l=(t=a==null?void 0:a.isFromZero())!==null&&t!==void 0?t:!1,u,c;l?(u="left",c=0):(u="right",c=o.width);var f;return X(n.extendData)&&(or(n.extendData)?f=n.extendData(n):f=(r=n.extendData)!==null&&r!==void 0?r:""),!X(f)&&q(n.points[0].value)&&(f=Re(n.points[0].value,s.price)),{type:"text",attrs:{x:c,y:i[0].y,text:f??"",align:u,baseline:"middle"}}}},js={},Yd=[Cd,Ed,Id,Pd,Rd,Fd,Od,Ld,Nd,Vd,Wd,zd,Xd,jd,Hd];Yd.forEach(function(e){js[e.name]=Vh.extend(e)});function Ud(e){var t;return(t=js[e])!==null&&t!==void 0?t:null}var $d=30,Kd=100,be={CANDLE:"candle_pane",INDICATOR:"indicator_pane_",X_AXIS:"x_axis_pane"},Gd=function(){function e(t){this._instances=new Map,this._progressInstanceInfo=null,this._pressedInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._hoverInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._clickInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._chartStore=t}return e.prototype._overrideInstance=function(t,r){var n=r.id,i=r.groupId,o=r.points,a=r.styles,s=r.lock,l=r.visible,u=r.zLevel,c=r.mode,f=r.modeSensitivity,h=r.extendData,d=r.onDrawStart,v=r.onDrawing,g=r.onDrawEnd,p=r.onClick,m=r.onDoubleClick,y=r.onRightClick,x=r.onPressedMoveStart,b=r.onPressedMoving,C=r.onPressedMoveEnd,E=r.onMouseEnter,I=r.onMouseLeave,P=r.onRemoved,A=r.onSelected,O=r.onDeselected,R=!1,j=!1;return se(n)&&t.setId(n),se(i)&&t.setGroupId(i),yt(o)&&t.setPoints(o)&&(R=!0),X(a)&&t.setStyles(a)&&(R=!0),nr(s)&&t.setLock(s),nr(l)&&t.setVisible(l)&&(R=!0),q(u)&&t.setZLevel(u)&&(R=!0,j=!0),X(c)&&t.setMode(c),q(f)&&t.setModeSensitivity(f),t.setExtendData(h)&&(R=!0),d!==void 0&&t.setOnDrawStartCallback(d),v!==void 0&&t.setOnDrawingCallback(v),g!==void 0&&t.setOnDrawEndCallback(g),p!==void 0&&t.setOnClickCallback(p),m!==void 0&&t.setOnDoubleClickCallback(m),y!==void 0&&t.setOnRightClickCallback(y),x!==void 0&&t.setOnPressedMoveStartCallback(x),b!==void 0&&t.setOnPressedMovingCallback(b),C!==void 0&&t.setOnPressedMoveEndCallback(C),E!==void 0&&t.setOnMouseEnterCallback(E),I!==void 0&&t.setOnMouseLeaveCallback(I),P!==void 0&&t.setOnRemovedCallback(P),A!==void 0&&t.setOnSelectedCallback(A),O!==void 0&&t.setOnDeselectedCallback(O),[R,j]},e.prototype.getInstanceById=function(t){var r,n;try{for(var i=ir(this._instances),o=i.next();!o.done;o=i.next()){var a=o.value,s=a[1],l=s.find(function(u){return u.id===t});if(X(l))return l}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return this._progressInstanceInfo!==null&&this._progressInstanceInfo.instance.id===t?this._progressInstanceInfo.instance:null},e.prototype._sort=function(t){var r;se(t)?(r=this._instances.get(t))===null||r===void 0||r.sort(function(n,i){return n.zLevel-i.zLevel}):this._instances.forEach(function(n){n.sort(function(i,o){return i.zLevel-o.zLevel})})},e.prototype.addInstances=function(t,r,n){var i=this,o=t.map(function(s){var l,u,c,f,h=(l=s.id)!==null&&l!==void 0?l:Ls(Lh);if(i.getInstanceById(h)===null){var d=Ud(s.name);if(d!==null){var v=new d;v.setPaneId(r);var g=(u=s.groupId)!==null&&u!==void 0?u:h;return s.id=h,s.groupId=g,i._overrideInstance(v,s),v.isDrawing()?i._progressInstanceInfo={paneId:r,instance:v,appointPaneFlag:n}:(i._instances.has(r)||i._instances.set(r,[]),(c=i._instances.get(r))===null||c===void 0||c.push(v)),v.isStart()&&((f=v.onDrawStart)===null||f===void 0||f.call(v,{overlay:v})),h}}return null});if(o.some(function(s){return s!==null})){this._sort();var a=this._chartStore.getChart();a.updatePane(1,r),a.updatePane(1,be.X_AXIS)}return o},e.prototype.getProgressInstanceInfo=function(){return this._progressInstanceInfo},e.prototype.progressInstanceComplete=function(){var t;if(this._progressInstanceInfo!==null){var r=this._progressInstanceInfo,n=r.instance,i=r.paneId;n.isDrawing()||(this._instances.has(i)||this._instances.set(i,[]),(t=this._instances.get(i))===null||t===void 0||t.push(n),this._sort(i),this._progressInstanceInfo=null)}},e.prototype.updateProgressInstanceInfo=function(t,r){this._progressInstanceInfo!==null&&(nr(r)&&r&&(this._progressInstanceInfo.appointPaneFlag=r),this._progressInstanceInfo.paneId=t,this._progressInstanceInfo.instance.setPaneId(t))},e.prototype.getInstances=function(t){var r;if(!se(t)){var n=[];return this._instances.forEach(function(i){n=n.concat(i)}),n}return(r=this._instances.get(t))!==null&&r!==void 0?r:[]},e.prototype.override=function(t){var r=this,n=t.id,i=t.groupId,o=t.name,a=!1,s=!1,l=function(d){var v=r._overrideInstance(d,t);v[0]&&(a=!0),v[1]&&(s=!0)};if(se(n)){var u=this.getInstanceById(n);u!==null&&l(u)}else{var c=se(o),f=se(i);if(this._instances.forEach(function(d){d.forEach(function(v){(c&&v.name===o||f&&v.groupId===i||!c&&!f)&&l(v)})}),this._progressInstanceInfo!==null){var h=this._progressInstanceInfo.instance;(c&&h.name===o||f&&h.groupId===i||!c&&!f)&&l(h)}}s&&this._sort(),a&&this._chartStore.getChart().updatePane(1)},e.prototype.removeInstance=function(t){var r,n,i,o=function(g,p){if(se(g.id)){if(p.id!==g.id)return!1}else if(se(g.groupId)){if(p.groupId!==g.groupId)return!1}else if(se(g.name)&&p.name!==g.name)return!1;return!0},a=[],s=X(t);if(this._progressInstanceInfo!==null){var l=this._progressInstanceInfo.instance;(!s||s&&o(t,l))&&(a.push(this._progressInstanceInfo.paneId),(i=l.onRemoved)===null||i===void 0||i.call(l,{overlay:l}),this._progressInstanceInfo=null)}if(s){var u=new Map,c=function(g){var p=g[1],m=p.filter(function(y){var x;return o(t,y)?(a.includes(g[0])||a.push(g[0]),(x=y.onRemoved)===null||x===void 0||x.call(y,{overlay:y}),!1):!0});m.length>0&&u.set(g[0],m)};try{for(var f=ir(this._instances),h=f.next();!h.done;h=f.next()){var d=h.value;c(d)}}catch(g){r={error:g}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}this._instances=u}else this._instances.forEach(function(g,p){a.push(p),g.forEach(function(m){var y;(y=m.onRemoved)===null||y===void 0||y.call(m,{overlay:m})})}),this._instances.clear();if(a.length>0){var v=this._chartStore.getChart();a.forEach(function(g){v.updatePane(1,g)}),v.updatePane(1,be.X_AXIS)}},e.prototype.setPressedInstanceInfo=function(t){this._pressedInstanceInfo=t},e.prototype.getPressedInstanceInfo=function(){return this._pressedInstanceInfo},e.prototype.setHoverInstanceInfo=function(t,r){var n,i,o=this._hoverInstanceInfo,a=o.instance,s=o.figureType,l=o.figureKey,u=o.figureIndex;if(((a==null?void 0:a.id)!==((n=t.instance)===null||n===void 0?void 0:n.id)||s!==t.figureType||u!==t.figureIndex)&&(this._hoverInstanceInfo=t,(a==null?void 0:a.id)!==((i=t.instance)===null||i===void 0?void 0:i.id))){var c=!1,f=!1;a!==null&&(f=!0,or(a.onMouseLeave)&&(a.onMouseLeave(J({overlay:a,figureKey:l,figureIndex:u},r)),c=!0)),t.instance!==null&&(f=!0,t.instance.setZLevel(Nh),or(t.instance.onMouseEnter)&&(t.instance.onMouseEnter(J({overlay:t.instance,figureKey:t.figureKey,figureIndex:t.figureIndex},r)),c=!0)),f&&this._sort(),c||this._chartStore.getChart().updatePane(1)}},e.prototype.getHoverInstanceInfo=function(){return this._hoverInstanceInfo},e.prototype.setClickInstanceInfo=function(t,r){var n,i,o,a,s,l,u,c,f,h=this._clickInstanceInfo,d=h.paneId,v=h.instance,g=h.figureType,p=h.figureKey,m=h.figureIndex;if((i=(n=t.instance)===null||n===void 0?void 0:n.isDrawing())!==null&&i!==void 0&&i||(a=(o=t.instance)===null||o===void 0?void 0:o.onClick)===null||a===void 0||a.call(o,J({overlay:t.instance,figureKey:t.figureKey,figureIndex:t.figureIndex},r)),((v==null?void 0:v.id)!==((s=t.instance)===null||s===void 0?void 0:s.id)||g!==t.figureType||m!==t.figureIndex)&&(this._clickInstanceInfo=t,(v==null?void 0:v.id)!==((l=t.instance)===null||l===void 0?void 0:l.id))){(u=v==null?void 0:v.onDeselected)===null||u===void 0||u.call(v,J({overlay:v,figureKey:p,figureIndex:m},r)),(f=(c=t.instance)===null||c===void 0?void 0:c.onSelected)===null||f===void 0||f.call(c,J({overlay:t.instance,figureKey:t.figureKey,figureIndex:t.figureIndex},r));var y=this._chartStore.getChart();y.updatePane(1,t.paneId),d!==t.paneId&&y.updatePane(1,d),y.updatePane(1,be.X_AXIS)}},e.prototype.getClickInstanceInfo=function(){return this._clickInstanceInfo},e.prototype.isEmpty=function(){return this._instances.size===0&&this._progressInstanceInfo===null},e.prototype.isDrawing=function(){var t,r;return this._progressInstanceInfo!==null&&((r=(t=this._progressInstanceInfo)===null||t===void 0?void 0:t.instance.isDrawing())!==null&&r!==void 0?r:!1)},e}(),qd=function(){function e(){this._actions=new Map}return e.prototype.execute=function(t,r){var n;(n=this._actions.get(t))===null||n===void 0||n.execute(r)},e.prototype.subscribe=function(t,r){var n;this._actions.has(t)||this._actions.set(t,new Fh),(n=this._actions.get(t))===null||n===void 0||n.subscribe(r)},e.prototype.unsubscribe=function(t,r){var n=this._actions.get(t);X(n)&&(n.unsubscribe(r),n.isEmpty()&&this._actions.delete(t))},e.prototype.has=function(t){var r=this._actions.get(t);return X(r)&&!r.isEmpty()},e}(),Zd={grid:{horizontal:{color:"#EDEDED"},vertical:{color:"#EDEDED"}},candle:{priceMark:{high:{color:"#76808F"},low:{color:"#76808F"}},tooltip:{rect:{color:"#FEFEFE",borderColor:"#F2F3F5"},text:{color:"#76808F"}}},indicator:{tooltip:{text:{color:"#76808F"}}},xAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},yAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},separator:{color:"#DDDDDD"},crosshair:{horizontal:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}},vertical:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}}}},Qd={grid:{horizontal:{color:"#292929"},vertical:{color:"#292929"}},candle:{priceMark:{high:{color:"#929AA5"},low:{color:"#929AA5"}},tooltip:{rect:{color:"rgba(10, 10, 10, .6)",borderColor:"rgba(10, 10, 10, .6)"},text:{color:"#929AA5"}}},indicator:{tooltip:{text:{color:"#929AA5"}}},xAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},yAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},separator:{color:"#333333"},crosshair:{horizontal:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}},vertical:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}}}},Jd={light:Zd,dark:Qd};function Hs(e){var t;return(t=Jd[e])!==null&&t!==void 0?t:null}var ev=function(){function e(t,r){this._styles=Mh(),this._customApi=Wh(),this._locale=zh,this._precision={price:2,volume:0},this._thousandsSeparator=",",this._dataList=[],this._timeScaleStore=new Uh(this),this._indicatorStore=new Sd(this),this._overlayStore=new Gd(this),this._tooltipStore=new wd(this),this._actionStore=new qd,this._visibleDataList=[],this._chart=t,this.setOptions(r)}return e.prototype.adjustVisibleDataList=function(){this._visibleDataList=[];for(var t=this._timeScaleStore.getVisibleRange(),r=t.from,n=t.to,i=r;i<n;i++){var o=this._dataList[i],a=this._timeScaleStore.dataIndexToCoordinate(i);this._visibleDataList.push({dataIndex:i,x:a,data:o})}},e.prototype.setOptions=function(t){if(X(t)){var r=t.locale,n=t.timezone,i=t.styles,o=t.customApi,a=t.thousandsSeparator;se(r)&&(this._locale=r),se(n)&&this._timeScaleStore.setTimezone(n),X(i)&&(se(i)?nt(this._styles,Hs(i)):nt(this._styles,i)),X(o)&&nt(this._customApi,o),se(a)&&(this._thousandsSeparator=a)}return this},e.prototype.getStyles=function(){return this._styles},e.prototype.getLocale=function(){return this._locale},e.prototype.getCustomApi=function(){return this._customApi},e.prototype.getThousandsSeparator=function(){return this._thousandsSeparator},e.prototype.getPrecision=function(){return this._precision},e.prototype.setPrecision=function(t){return this._precision=t,this._indicatorStore.setSeriesPrecision(t),this},e.prototype.getDataList=function(){return this._dataList},e.prototype.getVisibleDataList=function(){return this._visibleDataList},e.prototype.addData=function(t,r,n){if(yt(t)){this._timeScaleStore.setLoading(!1),this._timeScaleStore.setMore(n??!0);var i=this._dataList.length===0;this._dataList=t.concat(this._dataList),i&&this._timeScaleStore.resetOffsetRightDistance(),this._timeScaleStore.adjustVisibleRange()}else{var o=this._dataList.length;if(r>=o){this._dataList.push(t);var a=this._timeScaleStore.getLastBarRightSideDiffBarCount();a<0&&this._timeScaleStore.setLastBarRightSideDiffBarCount(--a),this._timeScaleStore.adjustVisibleRange()}else this._dataList[r]=t,this.adjustVisibleDataList()}this._tooltipStore.recalculateCrosshair(!0)},e.prototype.clear=function(){this._dataList=[],this._visibleDataList=[],this._timeScaleStore.clear(),this._tooltipStore.clear()},e.prototype.getTimeScaleStore=function(){return this._timeScaleStore},e.prototype.getIndicatorStore=function(){return this._indicatorStore},e.prototype.getOverlayStore=function(){return this._overlayStore},e.prototype.getTooltipStore=function(){return this._tooltipStore},e.prototype.getActionStore=function(){return this._actionStore},e.prototype.getChart=function(){return this._chart},e}(),ce={MAIN:"main",X_AXIS:"xAxis",Y_AXIS:"yAxis",SEPARATOR:"separator"},Hr=7;function Ys(e){return window.requestAnimationFrame==null?window.setTimeout(e,20):window.requestAnimationFrame(e)}function Di(e){window.cancelAnimationFrame==null&&window.clearTimeout(e),window.cancelAnimationFrame(e)}function tv(){return zr(this,void 0,void 0,function(){return Xr(this,function(e){switch(e.label){case 0:return[4,new Promise(function(t){var r=new ResizeObserver(function(n){t(n.every(function(i){return"devicePixelContentBoxSize"in i})),r.disconnect()});r.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})];case 1:return[2,e.sent()]}})})}var li=-1,_a=function(){function e(t,r){var n=this;this._supportedDevicePixelContentBox=!1,this._width=0,this._height=0,this._pixelWidth=0,this._pixelHeight=0,this._requestAnimationId=li,this._mediaQueryListener=function(){var i=jt(n._element),o=n._element.getBoundingClientRect(),a=o.width,s=o.height;n._resetPixelRatio(Math.round(a*i),Math.round(s*i),i,i)},this._listener=r,this._element=kt("canvas",t),this._ctx=this._element.getContext("2d",{willReadFrequently:!0}),tv().then(function(i){n._supportedDevicePixelContentBox=i,i?(n._resizeObserver=new ResizeObserver(function(o){var a,s=o.find(function(h){return h.target===n._element});if(X((a=s==null?void 0:s.devicePixelContentBoxSize)===null||a===void 0?void 0:a[0])){var l=s.devicePixelContentBoxSize[0],u=l.inlineSize,c=l.blockSize;if(n._pixelWidth!==u||n._pixelHeight!==c){var f=n._element.getBoundingClientRect();n._resetPixelRatio(u,c,u/f.width,c/f.height)}}}),n._resizeObserver.observe(n._element,{box:"device-pixel-content-box"})):(n._mediaQueryList=window.matchMedia("(resolution: ".concat(jt(n._element),"dppx)")),n._mediaQueryList.addListener(n._mediaQueryListener))}).catch(function(i){return!1})}return e.prototype._resetPixelRatio=function(t,r,n,i){var o=this;this._executeListener(function(){var a=o._element.getBoundingClientRect(),s=a.width,l=a.height;o._width=s,o._height=l,o._pixelWidth=t,o._pixelHeight=r,o._element.width=t,o._element.height=r,o._ctx.scale(n,i)})},e.prototype._executeListener=function(t){var r=this;this._requestAnimationId!==li&&(Di(this._requestAnimationId),this._requestAnimationId=li),this._requestAnimationId=Ys(function(){r._ctx.clearRect(0,0,r._width,r._height),t==null||t(),r._listener()})},e.prototype.update=function(t,r){if(this._width!==t||this._height!==r){if(this._element.style.width="".concat(t,"px"),this._element.style.height="".concat(r,"px"),!this._supportedDevicePixelContentBox){var n=jt(this._element);this._resetPixelRatio(Math.round(t*n),Math.round(r*n),n,n)}}else this._executeListener()},e.prototype.getElement=function(){return this._element},e.prototype.getContext=function(){return this._ctx},e.prototype.destroy=function(){var t,r;(t=this._resizeObserver)===null||t===void 0||t.unobserve(this._element),(r=this._mediaQueryList)===null||r===void 0||r.removeListener(this._mediaQueryListener)},e}();function Us(e){var t={width:0,height:0,left:0,right:0,top:0,bottom:0};return X(e)&&nt(t,e),t}var $s=function(e){he(t,e);function t(r,n){var i=e.call(this)||this;return i._bounding=Us(),i._pane=n,i.init(r),i}return t.prototype.init=function(r){this._rootContainer=r,this._container=this.createContainer(),r.appendChild(this._container)},t.prototype.setBounding=function(r){return nt(this._bounding,r),this},t.prototype.getContainer=function(){return this._container},t.prototype.getBounding=function(){return this._bounding},t.prototype.getPane=function(){return this._pane},t.prototype.update=function(r){this.updateImp(this._container,this._bounding,r??3)},t.prototype.destroy=function(){this._rootContainer.removeChild(this._container)},t}(uo),fo=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r){var n=this;e.prototype.init.call(this,r),this._mainCanvas=new _a({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},function(){n.updateMain(n._mainCanvas.getContext())}),this._overlayCanvas=new _a({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},function(){n.updateOverlay(n._overlayCanvas.getContext())});var i=this.getContainer();i.appendChild(this._mainCanvas.getElement()),i.appendChild(this._overlayCanvas.getElement())},t.prototype.createContainer=function(){return kt("div",{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden",boxSizing:"border-box",zIndex:"1"})},t.prototype.updateImp=function(r,n,i){var o=n.width,a=n.height,s=n.left;r.style.left="".concat(s,"px");var l=i,u=r.getBoundingClientRect(),c=u.width,f=u.height;switch((o!==c||a!==f)&&(r.style.width="".concat(o,"px"),r.style.height="".concat(a,"px"),l=3),l){case 0:{this._mainCanvas.update(o,a);break}case 1:{this._overlayCanvas.update(o,a);break}case 3:case 4:{this._mainCanvas.update(o,a),this._overlayCanvas.update(o,a);break}}},t.prototype.destroy=function(){this._mainCanvas.destroy(),this._overlayCanvas.destroy()},t.prototype.getImage=function(r){var n=this.getBounding(),i=n.width,o=n.height,a=kt("canvas",{width:"".concat(i,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),s=a.getContext("2d"),l=jt(a);return a.width=i*l,a.height=o*l,s.scale(l,l),s.drawImage(this._mainCanvas.getElement(),0,0,i,o),r&&s.drawImage(this._overlayCanvas.getElement(),0,0,i,o),a},t}($s);function Cr(e){return e==="transparent"||e==="none"||/^[rR][gG][Bb][Aa]\(([\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?)[\s]*,){3}[\s]*0[\s]*\)$/.test(e)||/^[hH][Ss][Ll][Aa]\(([\s]*(3603[0-5][0-9]|[012]?[0-9][0-9]?)[\s]*,)([\s]*((100|[0-9][0-9]?)%|0)[\s]*,){2}([\s]*0[\s]*)\)$/.test(e)}function rv(e,t){var r=e.x-t.x,n=e.y-t.y,i=t.r;return!(r*r+n*n>i*i)}function nv(e,t,r){var n=t.x,i=t.y,o=t.r,a=r.style,s=a===void 0?ye.Fill:a,l=r.color,u=l===void 0?"currentColor":l,c=r.borderSize,f=c===void 0?1:c,h=r.borderColor,d=h===void 0?"currentColor":h,v=r.borderStyle,g=v===void 0?we.Solid:v,p=r.borderDashedValue,m=p===void 0?[2,2]:p;(s===ye.Fill||r.style===ye.StrokeFill)&&(!se(u)||!Cr(u))&&(e.fillStyle=u,e.beginPath(),e.arc(n,i,o,0,Math.PI*2),e.closePath(),e.fill()),(s===ye.Stroke||r.style===ye.StrokeFill)&&f>0&&!Cr(d)&&(e.strokeStyle=d,e.lineWidth=f,g===we.Dashed?e.setLineDash(m):e.setLineDash([]),e.beginPath(),e.arc(n,i,o,0,Math.PI*2),e.closePath(),e.stroke())}var iv={name:"circle",checkEventOn:rv,draw:function(e,t,r){nv(e,t,r)}};function ov(e,t){for(var r=!1,n=t.coordinates,i=0,o=n.length-1;i<n.length;o=i++)n[i].y>e.y!=n[o].y>e.y&&e.x<(n[o].x-n[i].x)*(e.y-n[i].y)/(n[o].y-n[i].y)+n[i].x&&(r=!r);return r}function av(e,t,r){var n=t.coordinates,i=r.style,o=i===void 0?ye.Fill:i,a=r.color,s=a===void 0?"currentColor":a,l=r.borderSize,u=l===void 0?1:l,c=r.borderColor,f=c===void 0?"currentColor":c,h=r.borderStyle,d=h===void 0?we.Solid:h,v=r.borderDashedValue,g=v===void 0?[2,2]:v;if((o===ye.Fill||r.style===ye.StrokeFill)&&(!se(s)||!Cr(s))){e.fillStyle=s,e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var p=1;p<n.length;p++)e.lineTo(n[p].x,n[p].y);e.closePath(),e.fill()}if((o===ye.Stroke||r.style===ye.StrokeFill)&&u>0&&!Cr(f)){e.strokeStyle=f,e.lineWidth=u,d===we.Dashed?e.setLineDash(g):e.setLineDash([]),e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var p=1;p<n.length;p++)e.lineTo(n[p].x,n[p].y);e.closePath(),e.stroke()}}var sv={name:"polygon",checkEventOn:ov,draw:function(e,t,r){av(e,t,r)}};function lv(e,t){var r=t.x,n=t.width;n<Be*2&&(r-=Be,n=Be*2);var i=t.y,o=t.height;return o<Be*2&&(i-=Be,o=Be*2),e.x>=r&&e.x<=r+n&&e.y>=i&&e.y<=i+o}function Ks(e,t,r){var n=t.x,i=t.y,o=t.width,a=t.height,s=r.style,l=s===void 0?ye.Fill:s,u=r.color,c=u===void 0?"transparent":u,f=r.borderSize,h=f===void 0?1:f,d=r.borderColor,v=d===void 0?"transparent":d,g=r.borderStyle,p=g===void 0?we.Solid:g,m=r.borderRadius,y=m===void 0?0:m,x=r.borderDashedValue,b=x===void 0?[2,2]:x;(l===ye.Fill||r.style===ye.StrokeFill)&&(!se(c)||!Cr(c))&&(e.fillStyle=c,e.beginPath(),e.moveTo(n+y,i),e.arcTo(n+o,i,n+o,i+a,y),e.arcTo(n+o,i+a,n,i+a,y),e.arcTo(n,i+a,n,i,y),e.arcTo(n,i,n+o,i,y),e.closePath(),e.fill()),(l===ye.Stroke||r.style===ye.StrokeFill)&&h>0&&!Cr(v)&&(e.strokeStyle=v,e.lineWidth=h,p===we.Dashed?e.setLineDash(b):e.setLineDash([]),e.beginPath(),e.moveTo(n+y,i),e.arcTo(n+o,i,n+o,i+a,y),e.arcTo(n+o,i+a,n,i+a,y),e.arcTo(n,i+a,n,i,y),e.arcTo(n,i,n+o,i,y),e.closePath(),e.stroke())}var uv={name:"rect",checkEventOn:lv,draw:function(e,t,r){Ks(e,t,r)}};function Gs(e,t){var r=t.size,n=r===void 0?12:r,i=t.paddingLeft,o=i===void 0?0:i,a=t.paddingTop,s=a===void 0?0:a,l=t.paddingRight,u=l===void 0?0:l,c=t.paddingBottom,f=c===void 0?0:c,h=t.weight,d=h===void 0?"normal":h,v=t.family,g=e.x,p=e.y,m=e.text,y=e.align,x=y===void 0?"left":y,b=e.baseline,C=b===void 0?"top":b,E=e.width,I=e.height,P=E??o+In(m,n,d,v)+u,A=I??s+n+f,O;switch(x){case"left":case"start":{O=g;break}case"right":case"end":{O=g-P;break}default:{O=g-P/2;break}}var R;switch(C){case"top":case"hanging":{R=p;break}case"bottom":case"ideographic":case"alphabetic":{R=p-A;break}default:{R=p-A/2;break}}return{x:O,y:R,width:P,height:A}}function cv(e,t,r){var n=Gs(t,r),i=n.x,o=n.y,a=n.width,s=n.height;return e.x>=i&&e.x<=i+a&&e.y>=o&&e.y<=o+s}function fv(e,t,r){var n=t.text,i=r.color,o=i===void 0?"currentColor":i,a=r.size,s=a===void 0?12:a,l=r.family,u=r.weight,c=r.paddingLeft,f=c===void 0?0:c,h=r.paddingTop,d=h===void 0?0:h,v=r.paddingRight,g=v===void 0?0:v,p=Gs(t,r);Ks(e,p,J(J({},r),{color:r.backgroundColor})),e.textAlign="left",e.textBaseline="top",e.font=ar(s,u,l),e.fillStyle=o,e.fillText(n,p.x+f,p.y+d,p.width-f-g)}var qs={name:"text",checkEventOn:function(e,t,r){return cv(e,t,r)},draw:function(e,t,r){fv(e,t,r)}},hv=qs;function dv(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)}function vv(e,t){if(Math.abs(dv(e,t)-t.r)<Be){var r=t.r,n=t.startAngle,i=t.endAngle,o=r*Math.cos(n)+t.x,a=r*Math.sin(n)+t.y,s=r*Math.cos(i)+t.x,l=r*Math.sin(i)+t.y;return e.x<=Math.max(o,s)+Be&&e.x>=Math.min(o,s)-Be&&e.y<=Math.max(a,l)+Be&&e.y>=Math.min(a,l)-Be}return!1}function pv(e,t,r){var n=t.x,i=t.y,o=t.r,a=t.startAngle,s=t.endAngle,l=r.style,u=l===void 0?we.Solid:l,c=r.size,f=c===void 0?1:c,h=r.color,d=h===void 0?"currentColor":h,v=r.dashedValue,g=v===void 0?[2,2]:v;e.lineWidth=f,e.strokeStyle=d,u===we.Dashed?e.setLineDash(g):e.setLineDash([]),e.beginPath(),e.arc(n,i,o,a,s),e.stroke(),e.closePath()}var gv={name:"arc",checkEventOn:vv,draw:function(e,t,r){pv(e,t,r)}},Zs={},mv=[iv,kd,sv,uv,qs,hv,gv];mv.forEach(function(e){Zs[e.name]=Td.extend(e)});function _v(e){var t;return(t=Zs[e])!==null&&t!==void 0?t:null}var Ct=function(e){he(t,e);function t(r){var n=e.call(this)||this;return n._widget=r,n}return t.prototype.getWidget=function(){return this._widget},t.prototype.createFigure=function(r,n){var i=_v(r.name);if(i!==null){var o=new i(r);if(X(n)){for(var a in n)n.hasOwnProperty(a)&&o.registerEvent(a,n[a]);this.addChild(o)}return o}return null},t.prototype.draw=function(r){this.clear(),this.drawImp(r)},t}(uo),yv=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var n=this,i=this.getWidget(),o=this.getWidget().getPane(),a=o.getChart(),s=i.getBounding(),l=a.getStyles().grid,u=l.show;if(u){r.save(),r.globalCompositeOperation="destination-over";var c=l.horizontal,f=c.show;if(f){var h=o.getAxisComponent();h.getTicks().forEach(function(p){var m;(m=n.createFigure({name:"line",attrs:{coordinates:[{x:0,y:p.coord},{x:s.width,y:p.coord}]},styles:c}))===null||m===void 0||m.draw(r)})}var d=l.vertical,v=d.show;if(v){var g=a.getXAxisPane().getAxisComponent();g.getTicks().forEach(function(p){var m;(m=n.createFigure({name:"line",attrs:{coordinates:[{x:p.coord,y:0},{x:p.coord,y:s.height}]},styles:d}))===null||m===void 0||m.draw(r)})}r.restore()}},t}(Ct),ho=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.eachChildren=function(r){var n=this.getWidget().getPane(),i=n.getChart().getChartStore(),o=i.getVisibleDataList(),a=i.getTimeScaleStore().getBarSpace();o.forEach(function(s,l){r(s,a,l)})},t}(Ct),Qs=function(e){he(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._boundCandleBarClickEvent=function(n){return function(){return r.getWidget().getPane().getChart().getChartStore().getActionStore().execute(ft.OnCandleBarClick,n),!1}},r}return t.prototype.drawImp=function(r){var n=this,i=this.getWidget().getPane(),o=i.getId()===be.CANDLE,a=i.getChart().getChartStore(),s=this.getCandleBarOptions(a);if(s!==null){var l=i.getAxisComponent();this.eachChildren(function(u,c){var f=u.data,h=u.x,d=f.open,v=f.high,g=f.low,p=f.close,m=s.type,y=s.styles,x=[];p>d?(x[0]=y.upColor,x[1]=y.upBorderColor,x[2]=y.upWickColor):p<d?(x[0]=y.downColor,x[1]=y.downBorderColor,x[2]=y.downWickColor):(x[0]=y.noChangeColor,x[1]=y.noChangeBorderColor,x[2]=y.noChangeWickColor);var b=l.convertToPixel(d),C=l.convertToPixel(p),E=[b,C,l.convertToPixel(v),l.convertToPixel(g)];E.sort(function(A,O){return A-O});var I=[];switch(m){case st.CandleSolid:{I=n._createSolidBar(h,E,c,x);break}case st.CandleStroke:{I=n._createStrokeBar(h,E,c,x);break}case st.CandleUpStroke:{p>d?I=n._createStrokeBar(h,E,c,x):I=n._createSolidBar(h,E,c,x);break}case st.CandleDownStroke:{d>p?I=n._createStrokeBar(h,E,c,x):I=n._createSolidBar(h,E,c,x);break}case st.Ohlc:{var P=Math.min(Math.max(Math.round(c.gapBar*.2),1),7);I=[{name:"rect",attrs:{x:h-P/2,y:E[0],width:P,height:E[3]-E[0]},styles:{color:x[0]}},{name:"rect",attrs:{x:h-c.halfGapBar,y:b+P>E[3]?E[3]-P:b,width:c.halfGapBar-P/2,height:P},styles:{color:x[0]}},{name:"rect",attrs:{x:h+P/2,y:C+P>E[3]?E[3]-P:C,width:c.halfGapBar-P/2,height:P},styles:{color:x[0]}}];break}}I.forEach(function(A){var O,R;o&&(R={mouseClickEvent:n._boundCandleBarClickEvent(u)}),(O=n.createFigure(A,R))===null||O===void 0||O.draw(r)})})}},t.prototype.getCandleBarOptions=function(r){var n=r.getStyles().candle;return{type:n.type,styles:n.bar}},t.prototype._createSolidBar=function(r,n,i,o){return[{name:"rect",attrs:{x:r-.5,y:n[0],width:1,height:n[3]-n[0]},styles:{color:o[2]}},{name:"rect",attrs:{x:r-i.halfGapBar+.5,y:n[1],width:i.gapBar-1,height:Math.max(1,n[2]-n[1])},styles:{style:ye.StrokeFill,color:o[0],borderColor:o[1]}}]},t.prototype._createStrokeBar=function(r,n,i,o){return[{name:"rect",attrs:{x:r-.5,y:n[0],width:1,height:n[1]-n[0]},styles:{color:o[2]}},{name:"rect",attrs:{x:r-i.halfGapBar+.5,y:n[1],width:i.gapBar-1,height:Math.max(1,n[2]-n[1])},styles:{style:ye.Stroke,borderColor:o[1]}},{name:"rect",attrs:{x:r-.5,y:n[2],width:1,height:n[3]-n[2]},styles:{color:o[2]}}]},t}(ho),xv=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCandleBarOptions=function(r){var n,i,o=this.getWidget().getPane(),a=o.getAxisComponent();if(!a.isInCandle()){var s=r.getIndicatorStore().getInstances(o.getId());try{for(var l=ir(s),u=l.next();!u.done;u=l.next()){var c=u.value;if(c.shouldOhlc&&c.visible){var f=c.styles,h=r.getStyles().indicator,d=De(f,"ohlc.upColor",h.ohlc.upColor),v=De(f,"ohlc.downColor",h.ohlc.downColor),g=De(f,"ohlc.noChangeColor",h.ohlc.noChangeColor);return{type:st.Ohlc,styles:{upColor:d,downColor:v,noChangeColor:g,upBorderColor:d,downBorderColor:v,noChangeBorderColor:g,upWickColor:d,downWickColor:v,noChangeWickColor:g}}}}}catch(p){n={error:p}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}return null},t.prototype.drawImp=function(r){var n=this;e.prototype.drawImp.call(this,r);var i=this.getWidget(),o=i.getPane(),a=o.getChart(),s=i.getBounding(),l=a.getXAxisPane().getAxisComponent(),u=o.getAxisComponent(),c=a.getChartStore(),f=c.getDataList(),h=c.getTimeScaleStore(),d=h.getVisibleRange(),v=c.getIndicatorStore().getInstances(o.getId()),g=c.getStyles().indicator;r.save(),v.forEach(function(p){var m;if(p.visible){p.zLevel<0?r.globalCompositeOperation="destination-over":r.globalCompositeOperation="source-over";var y=!1;if(p.draw!==null&&(r.save(),y=(m=p.draw({ctx:r,kLineDataList:f,indicator:p,visibleRange:d,bounding:s,barSpace:h.getBarSpace(),defaultStyles:g,xAxis:l,yAxis:u}))!==null&&m!==void 0?m:!1,r.restore()),!y){var x=p.result;n.eachChildren(function(b,C){var E,I,P,A=C.halfGapBar,O=C.gapBar,R=b.dataIndex,j=b.x,V=l.convertToPixel(R-1),$=l.convertToPixel(R+1),Q=(E=x[R-1])!==null&&E!==void 0?E:{},N=(I=x[R])!==null&&I!==void 0?I:{},te=(P=x[R+1])!==null&&P!==void 0?P:{},K={x:V},de={x:j},ve={x:$};p.figures.forEach(function(ee){var le=ee.key,oe=Q[le];q(oe)&&(K[le]=u.convertToPixel(oe));var ae=N[le];q(ae)&&(de[le]=u.convertToPixel(ae));var pe=te[le];q(pe)&&(ve[le]=u.convertToPixel(pe))}),lo(f,p,R,g,function(ee,le){var oe,ae,pe;if(X(N[ee.key])){var ge=de[ee.key],T=(oe=ee.attrs)===null||oe===void 0?void 0:oe.call(ee,{coordinate:{prev:K,current:de,next:ve},bounding:s,barSpace:C,xAxis:l,yAxis:u});if(!X(T))switch(ee.type){case"circle":{T={x:j,y:ge,r:A};break}case"rect":case"bar":{var W=(ae=ee.baseValue)!==null&&ae!==void 0?ae:u.getExtremum().min,B=u.convertToPixel(W),Y=Math.abs(B-ge);W!==N[ee.key]&&(Y=Math.max(1,Y));var re=void 0;ge>B?re=B:re=ge,T={x:j-A,y:re,width:O,height:Y};break}case"line":{q(de[ee.key])&&q(ve[ee.key])&&(T={coordinates:[{x:de.x,y:de[ee.key]},{x:ve.x,y:ve[ee.key]}]});break}}if(X(T)){var _=ee.type;(pe=n.createFigure({name:_==="bar"?"rect":_,attrs:T,styles:le}))===null||pe===void 0||pe.draw(r)}}})})}}}),r.restore()},t}(Qs),bv=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var n=this.getWidget(),i=n.getPane(),o=n.getBounding(),a=n.getPane().getChart().getChartStore(),s=a.getTooltipStore().getCrosshair(),l=a.getStyles().crosshair;if(se(s.paneId)&&l.show){if(s.paneId===i.getId()){var u=s.y;this._drawLine(r,[{x:0,y:u},{x:o.width,y:u}],l.horizontal)}var c=s.realX;this._drawLine(r,[{x:c,y:0},{x:c,y:o.height}],l.vertical)}},t.prototype._drawLine=function(r,n,i){var o;if(i.show){var a=i.line;a.show&&((o=this.createFigure({name:"line",attrs:{coordinates:n},styles:a}))===null||o===void 0||o.draw(r))}},t}(Ct),Js=function(e){he(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._boundIconClickEvent=function(n,i){return function(){var o=r.getWidget().getPane();return o.getChart().getChartStore().getActionStore().execute(ft.OnTooltipIconClick,J(J({},n),{iconId:i})),!0}},r._boundIconMouseMoveEvent=function(n,i){return function(){var o=r.getWidget().getPane(),a=o.getChart().getChartStore().getTooltipStore();return a.setActiveIcon(J(J({},n),{iconId:i})),!0}},r}return t.prototype.drawImp=function(r){var n=this.getWidget(),i=n.getPane(),o=i.getChart().getChartStore(),a=o.getTooltipStore().getCrosshair();if(X(a.kLineData)){var s=n.getBounding(),l=o.getCustomApi(),u=o.getThousandsSeparator(),c=o.getIndicatorStore().getInstances(i.getId()),f=o.getTooltipStore().getActiveIcon(),h=o.getStyles().indicator;this.drawIndicatorTooltip(r,i.getId(),o.getDataList(),a,f,c,l,u,s,h)}},t.prototype.drawIndicatorTooltip=function(r,n,i,o,a,s,l,u,c,f,h){var d=this,v=f.tooltip,g=0;if(this.isDrawTooltip(o,v)){var p=v.text,m=0,y=h??0,x=0;s.forEach(function(b){var C=d.getIndicatorTooltipData(i,o,b,l,u,f),E=C.name,I=C.calcParamsText,P=C.values,A=C.icons,O=E.length>0,R=P.length>0;if(O||R){var j=Xe(d.classifyTooltipIcons(A),3),V=j[0],$=j[1],Q=j[2],N=Xe(d.drawStandardTooltipIcons(r,c,{paneId:n,indicatorName:b.name,iconId:""},a,V,m,y,x),4),te=N[0],K=N[1],de=N[2],ve=N[3];if(m=te,y=K,g+=ve,x=de,O){var ee=E;I.length>0&&(ee="".concat(ee).concat(I));var le=Xe(d.drawStandardTooltipLabels(r,c,[{title:{text:"",color:p.color},value:{text:ee,color:p.color}}],m,y,x,p),4),oe=le[0],ae=le[1],pe=le[2],ge=le[3];m=oe,y=ae,g+=ge,x=pe}var T=Xe(d.drawStandardTooltipIcons(r,c,{paneId:n,indicatorName:b.name,iconId:""},a,$,m,y,x),4),W=T[0],B=T[1],Y=T[2],re=T[3];if(m=W,y=B,g+=re,x=Y,R){var _=Xe(d.drawStandardTooltipLabels(r,c,P,m,y,x,p),4),S=_[0],w=_[1],M=_[2],D=_[3];m=S,y=w,g+=D,x=M}var k=Xe(d.drawStandardTooltipIcons(r,c,{paneId:n,indicatorName:b.name,iconId:""},a,Q,m,y,x),4),H=k[1],L=k[2],z=k[3];m=0,g+=z,y=H+L,x=0}})}return g},t.prototype.drawStandardTooltipIcons=function(r,n,i,o,a,s,l,u){var c=this,f=s,h=l,d=0,v=0,g=0;return a.length>0&&(a.forEach(function(p){var m=p.marginLeft,y=p.marginTop,x=p.marginRight,b=p.marginBottom,C=p.paddingLeft,E=p.paddingTop,I=p.paddingRight,P=p.paddingBottom,A=p.size,O=p.fontFamily,R=p.icon;r.font=ar(A,"normal",O),d+=m+C+r.measureText(R).width+I+x,v=Math.max(v,y+E+A+P+b)}),f+d>n.width?(f=a[0].marginLeft,h+=u,g=v):g=Math.max(0,v-u),a.forEach(function(p){var m,y=p.marginLeft,x=p.marginTop,b=p.marginRight,C=p.paddingLeft,E=p.paddingTop,I=p.paddingRight,P=p.paddingBottom,A=p.color,O=p.activeColor,R=p.size,j=p.fontFamily,V=p.icon,$=p.backgroundColor,Q=p.activeBackgroundColor;f+=y;var N=(o==null?void 0:o.paneId)===i.paneId&&(o==null?void 0:o.indicatorName)===i.indicatorName&&(o==null?void 0:o.iconId)===p.id;(m=c.createFigure({name:"text",attrs:{text:V,x:f,y:h+x},styles:{paddingLeft:C,paddingTop:E,paddingRight:I,paddingBottom:P,color:N?O:A,size:R,family:j,backgroundColor:N?Q:$}},{mouseClickEvent:c._boundIconClickEvent(i,p.id),mouseMoveEvent:c._boundIconMouseMoveEvent(i,p.id)}))===null||m===void 0||m.draw(r),f+=C+r.measureText(V).width+I+b})),[f,h,Math.max(u,v),g]},t.prototype.drawStandardTooltipLabels=function(r,n,i,o,a,s,l){var u=this,c=o,f=a,h=0,d=0,v=s;if(i.length>0){var g=l.marginLeft,p=l.marginTop,m=l.marginRight,y=l.marginBottom,x=l.size,b=l.family,C=l.weight;r.font=ar(x,C,b),i.forEach(function(E){var I,P,A=E.title,O=E.value,R=r.measureText(A.text).width,j=r.measureText(O.text).width,V=R+j,$=x+p+y;c+g+V+m>n.width?(c=g,f+=$,d+=$):(c+=g,d+=Math.max(0,$-v)),h=Math.max(v,$),v=h,A.text.length>0&&((I=u.createFigure({name:"text",attrs:{x:c,y:f+p,text:A.text},styles:{color:A.color,size:x,family:b,weight:C}}))===null||I===void 0||I.draw(r),c+=R),(P=u.createFigure({name:"text",attrs:{x:c,y:f+p,text:O.text},styles:{color:O.color,size:x,family:b,weight:C}}))===null||P===void 0||P.draw(r),c+=j+m})}return[c,f,h,d]},t.prototype.isDrawTooltip=function(r,n){var i=n.showRule;return i===wr.Always||i===wr.FollowCross&&se(r.paneId)},t.prototype.getIndicatorTooltipData=function(r,n,i,o,a,s){var l,u,c=s.tooltip,f=c.showName?i.shortName:"",h="",d=i.calcParams;d.length>0&&c.showParams&&(h="(".concat(d.join(","),")"));var v={name:f,calcParamsText:h,values:[],icons:c.icons},g=n.dataIndex,p=(l=i.result)!==null&&l!==void 0?l:[],m=[];if(i.visible){var y=(u=p[g])!==null&&u!==void 0?u:{};lo(r,i,g,s,function(V,$){if(se(V.title)){var Q=$.color,N=y[V.key];q(N)&&(N=Re(N,i.precision),i.shouldFormatBigNumber&&(N=o.formatBigNumber(N))),m.push({title:{text:V.title,color:Q},value:{text:We(N??c.defaultValue,a),color:Q}})}}),v.values=m}if(i.createTooltipDataSource!==null){var x=this.getWidget(),b=x.getPane(),C=b.getChart().getChartStore(),E=i.createTooltipDataSource({kLineDataList:r,indicator:i,visibleRange:C.getTimeScaleStore().getVisibleRange(),bounding:x.getBounding(),crosshair:n,defaultStyles:s,xAxis:b.getChart().getXAxisPane().getAxisComponent(),yAxis:b.getAxisComponent()}),I=E.name,P=E.calcParamsText,A=E.values,O=E.icons;if(se(I)&&c.showName&&(v.name=I),se(P)&&c.showParams&&(v.calcParamsText=P),X(O)&&(v.icons=O),X(A)&&i.visible){var R=[],j=s.tooltip.text.color;A.forEach(function(V){var $={text:"",color:j};xt(V.title)?$=V.title:$.text=V.title;var Q={text:"",color:j};xt(V.value)?Q=V.value:Q.text=V.value,Q.text=We(Q.text,a),R.push({title:$,value:Q})}),v.values=R}}return v},t.prototype.classifyTooltipIcons=function(r){var n=[],i=[],o=[];return r.forEach(function(a){switch(a.position){case jr.Left:{n.push(a);break}case jr.Middle:{i.push(a);break}case jr.Right:{o.push(a);break}}}),[n,i,o]},t}(Ct),el=function(e){he(t,e);function t(r){var n=e.call(this,r)||this;return n._initEvent(),n}return t.prototype._initEvent=function(){var r=this,n=this.getWidget().getPane(),i=n.getId(),o=n.getChart().getChartStore().getOverlayStore();this.registerEvent("mouseMoveEvent",function(a){var s,l=o.getProgressInstanceInfo();if(l!==null){var u=l.instance,c=l.paneId;u.isStart()&&(o.updateProgressInstanceInfo(i),c=i);var f=u.points.length-1,h="".concat(fr,"point_").concat(f);return u.isDrawing()&&c===i&&(u.eventMoveForDrawing(r._coordinateToPoint(l.instance,a)),(s=u.onDrawing)===null||s===void 0||s.call(u,J({overlay:u,figureKey:h,figureIndex:f},a))),r._figureMouseMoveEvent(u,1,h,f,0)(a)}return o.setHoverInstanceInfo({paneId:i,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},a),!1}).registerEvent("mouseClickEvent",function(a){var s,l,u=o.getProgressInstanceInfo();if(u!==null){var c=u.instance,f=u.paneId;c.isStart()&&(o.updateProgressInstanceInfo(i,!0),f=i);var h=c.points.length-1,d="".concat(fr,"point_").concat(h);return c.isDrawing()&&f===i&&(c.eventMoveForDrawing(r._coordinateToPoint(c,a)),(s=c.onDrawing)===null||s===void 0||s.call(c,J({overlay:c,figureKey:d,figureIndex:h},a)),c.nextStep(),c.isDrawing()||(o.progressInstanceComplete(),(l=c.onDrawEnd)===null||l===void 0||l.call(c,J({overlay:c,figureKey:d,figureIndex:h},a)))),r._figureMouseClickEvent(c,1,d,h,0)(a)}return o.setClickInstanceInfo({paneId:i,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},a),!1}).registerEvent("mouseDoubleClickEvent",function(a){var s,l=o.getProgressInstanceInfo();if(l!==null){var u=l.instance,c=l.paneId;if(u.isDrawing()&&c===i&&(u.forceComplete(),!u.isDrawing())){o.progressInstanceComplete();var f=u.points.length-1,h="".concat(fr,"point_").concat(f);(s=u.onDrawEnd)===null||s===void 0||s.call(u,J({overlay:u,figureKey:h,figureIndex:f},a))}var d=u.points.length-1;return r._figureMouseClickEvent(u,1,"".concat(fr,"point_").concat(d),d,0)(a)}return!1}).registerEvent("mouseRightClickEvent",function(a){var s=o.getProgressInstanceInfo();if(s!==null){var l=s.instance;if(l.isDrawing()){var u=l.points.length-1;return r._figureMouseRightClickEvent(l,1,"".concat(fr,"point_").concat(u),u,0)(a)}}return!1}).registerEvent("mouseUpEvent",function(a){var s,l=o.getPressedInstanceInfo(),u=l.instance,c=l.figureIndex,f=l.figureKey;return u!==null&&((s=u.onPressedMoveEnd)===null||s===void 0||s.call(u,J({overlay:u,figureKey:f,figureIndex:c},a))),o.setPressedInstanceInfo({paneId:i,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1}),!1}).registerEvent("pressedMouseMoveEvent",function(a){var s,l,u=o.getPressedInstanceInfo(),c=u.instance,f=u.figureType,h=u.figureIndex,d=u.figureKey;if(c!==null){if(!c.lock&&!((l=(s=c.onPressedMoving)===null||s===void 0?void 0:s.call(c,J({overlay:c,figureIndex:h,figureKey:d},a)))!==null&&l!==void 0&&l)){var v=r._coordinateToPoint(c,a);f===1?c.eventPressedPointMove(v,h):c.eventPressedOtherMove(v,r.getWidget().getPane().getChart().getChartStore().getTimeScaleStore())}return!0}return!1})},t.prototype._createFigureEvents=function(r,n,i,o,a,s){var l;if(!r.isDrawing()){var u=[];if(X(s)&&(nr(s)?s&&(u=Bh()):u=s),u.length===0)return{mouseMoveEvent:this._figureMouseMoveEvent(r,n,i,o,a),mouseDownEvent:this._figureMouseDownEvent(r,n,i,o,a),mouseClickEvent:this._figureMouseClickEvent(r,n,i,o,a),mouseRightClickEvent:this._figureMouseRightClickEvent(r,n,i,o,a),mouseDoubleClickEvent:this._figureMouseDoubleClickEvent(r,n,i,o,a)};l={},!u.includes("mouseMoveEvent")&&!u.includes("touchMoveEvent")&&(l.mouseMoveEvent=this._figureMouseMoveEvent(r,n,i,o,a)),!u.includes("mouseDownEvent")&&!u.includes("touchStartEvent")&&(l.mouseDownEvent=this._figureMouseDownEvent(r,n,i,o,a)),!u.includes("mouseClickEvent")&&!u.includes("tapEvent")&&(l.mouseClickEvent=this._figureMouseClickEvent(r,n,i,o,a)),!u.includes("mouseDoubleClickEvent")&&!u.includes("doubleTapEvent")&&(l.mouseDoubleClickEvent=this._figureMouseDoubleClickEvent(r,n,i,o,a)),u.includes("mouseRightClickEvent")||(l.mouseRightClickEvent=this._figureMouseRightClickEvent(r,n,i,o,a))}return l},t.prototype._figureMouseMoveEvent=function(r,n,i,o,a){var s=this;return function(l){var u=s.getWidget().getPane(),c=u.getChart().getChartStore().getOverlayStore();return c.setHoverInstanceInfo({paneId:u.getId(),instance:r,figureType:n,figureKey:i,figureIndex:o,attrsIndex:a},l),!0}},t.prototype._figureMouseDownEvent=function(r,n,i,o,a){var s=this;return function(l){var u,c=s.getWidget().getPane(),f=c.getId(),h=c.getChart().getChartStore().getOverlayStore();return r.startPressedMove(s._coordinateToPoint(r,l)),(u=r.onPressedMoveStart)===null||u===void 0||u.call(r,J({overlay:r,figureIndex:o,figureKey:i},l)),h.setPressedInstanceInfo({paneId:f,instance:r,figureType:n,figureKey:i,figureIndex:o,attrsIndex:a}),!0}},t.prototype._figureMouseClickEvent=function(r,n,i,o,a){var s=this;return function(l){var u=s.getWidget().getPane(),c=u.getId(),f=u.getChart().getChartStore().getOverlayStore();return f.setClickInstanceInfo({paneId:c,instance:r,figureType:n,figureKey:i,figureIndex:o,attrsIndex:a},l),!0}},t.prototype._figureMouseDoubleClickEvent=function(r,n,i,o,a){return function(s){var l;return(l=r.onDoubleClick)===null||l===void 0||l.call(r,J(J({},s),{figureIndex:o,figureKey:i,overlay:r})),!0}},t.prototype._figureMouseRightClickEvent=function(r,n,i,o,a){var s=this;return function(l){var u,c;if(!((c=(u=r.onRightClick)===null||u===void 0?void 0:u.call(r,J({overlay:r,figureIndex:o,figureKey:i},l)))!==null&&c!==void 0&&c)){var f=s.getWidget().getPane(),h=f.getChart().getChartStore().getOverlayStore();h.removeInstance(r)}return!0}},t.prototype._coordinateToPoint=function(r,n){var i,o={},a=this.getWidget().getPane(),s=a.getChart(),l=a.getId(),u=s.getChartStore().getTimeScaleStore();if(this.coordinateToPointTimestampDataIndexFlag()){var c=s.getXAxisPane().getAxisComponent(),f=c.convertFromPixel(n.x),h=(i=u.dataIndexToTimestamp(f))!==null&&i!==void 0?i:void 0;o.dataIndex=f,o.timestamp=h}if(this.coordinateToPointValueFlag()){var d=a.getAxisComponent(),v=d.convertFromPixel(n.y);if(r.mode!==mr.Normal&&l===be.CANDLE&&q(o.dataIndex)){var g=u.getDataByDataIndex(o.dataIndex);if(g!==null){var p=r.modeSensitivity;if(v>g.high)if(r.mode===mr.WeakMagnet){var m=d.convertToPixel(g.high),y=d.convertFromPixel(m-p);v<y&&(v=g.high)}else v=g.high;else if(v<g.low)if(r.mode===mr.WeakMagnet){var x=d.convertToPixel(g.low),y=d.convertFromPixel(x-p);v>y&&(v=g.low)}else v=g.low;else{var b=Math.max(g.open,g.close),C=Math.min(g.open,g.close);v>b?v-b<g.high-v?v=b:v=g.high:v<C?v-g.low<C-v?v=g.low:v=C:b-v<v-C?v=b:v=C}}}o.value=v}return o},t.prototype.coordinateToPointValueFlag=function(){return!0},t.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},t.prototype.dispatchEvent=function(r,n,i){return this.getWidget().getPane().getChart().getChartStore().getOverlayStore().isDrawing()?this.onEvent(r,n,i):e.prototype.dispatchEvent.call(this,r,n,i)},t.prototype.checkEventOn=function(){return!0},t.prototype.drawImp=function(r){var n=this,i=this.getWidget(),o=i.getPane(),a=o.getId(),s=o.getChart(),l=o.getAxisComponent(),u=s.getXAxisPane().getAxisComponent(),c=i.getBounding(),f=s.getChartStore(),h=f.getCustomApi(),d=f.getThousandsSeparator(),v=f.getTimeScaleStore(),g=v.getDateTimeFormat(),p=v.getBarSpace(),m=f.getPrecision(),y=f.getStyles().overlay,x=f.getOverlayStore(),b=x.getHoverInstanceInfo(),C=x.getClickInstanceInfo(),E=this.getCompleteOverlays(x,a);E.forEach(function(A){A.visible&&n._drawOverlay(r,A,c,p,m,g,h,d,y,u,l,b,C,v)});var I=x.getProgressInstanceInfo();if(I!==null){var P=this.getProgressOverlay(I,a);P!==null&&P.visible&&this._drawOverlay(r,P,c,p,m,g,h,d,y,u,l,b,C,v)}},t.prototype._drawOverlay=function(r,n,i,o,a,s,l,u,c,f,h,d,v,g){var p=n.points,m=p.map(function(x){var b,C,E=x.dataIndex;q(x.timestamp)&&(E=g.timestampToDataIndex(x.timestamp));var I={x:0,y:0};return q(E)&&(I.x=(b=f==null?void 0:f.convertToPixel(E))!==null&&b!==void 0?b:0),q(x.value)&&(I.y=(C=h==null?void 0:h.convertToPixel(x.value))!==null&&C!==void 0?C:0),I});if(m.length>0){var y=new Array().concat(this.getFigures(n,m,i,o,a,u,s,c,f,h));this.drawFigures(r,n,y,c)}this.drawDefaultFigures(r,n,m,i,a,s,l,u,c,f,h,d,v)},t.prototype.drawFigures=function(r,n,i,o){var a=this;i.forEach(function(s,l){var u=s.type,c=s.styles,f=s.attrs,h=s.ignoreEvent,d=[].concat(f);d.forEach(function(v,g){var p,m,y,x=a._createFigureEvents(n,2,(p=s.key)!==null&&p!==void 0?p:"",l,g,h),b=J(J(J({},o[u]),(m=n.styles)===null||m===void 0?void 0:m[u]),c);(y=a.createFigure({name:u,attrs:v,styles:b},x))===null||y===void 0||y.draw(r)})})},t.prototype.getCompleteOverlays=function(r,n){return r.getInstances(n)},t.prototype.getProgressOverlay=function(r,n){return r.paneId===n?r.instance:null},t.prototype.getFigures=function(r,n,i,o,a,s,l,u,c,f){var h,d;return(d=(h=r.createPointFigures)===null||h===void 0?void 0:h.call(r,{overlay:r,coordinates:n,bounding:i,barSpace:o,precision:a,thousandsSeparator:s,dateTimeFormat:l,defaultStyles:u,xAxis:c,yAxis:f}))!==null&&d!==void 0?d:[]},t.prototype.drawDefaultFigures=function(r,n,i,o,a,s,l,u,c,f,h,d,v){var g=this,p,m;if(n.needDefaultPointFigure&&(((p=d.instance)===null||p===void 0?void 0:p.id)===n.id&&d.figureType!==0||((m=v.instance)===null||m===void 0?void 0:m.id)===n.id&&v.figureType!==0)){var y=n.styles,x=J(J({},c.point),y==null?void 0:y.point);i.forEach(function(b,C){var E,I,P,A=b.x,O=b.y,R=x.radius,j=x.color,V=x.borderColor,$=x.borderSize;((E=d.instance)===null||E===void 0?void 0:E.id)===n.id&&d.figureType===1&&d.figureIndex===C&&(R=x.activeRadius,j=x.activeColor,V=x.activeBorderColor,$=x.activeBorderSize),(I=g.createFigure({name:"circle",attrs:{x:A,y:O,r:R+$},styles:{color:V}},g._createFigureEvents(n,1,"".concat(fr,"point_").concat(C),C,0)))===null||I===void 0||I.draw(r),(P=g.createFigure({name:"circle",attrs:{x:A,y:O,r:R},styles:{color:j}}))===null||P===void 0||P.draw(r)})}},t}(Ct),tl=function(e){he(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i._gridView=new yv(i),i._indicatorView=new xv(i),i._crosshairLineView=new bv(i),i._tooltipView=i.createTooltipView(),i._overlayView=new el(i),i.addChild(i._tooltipView),i.addChild(i._overlayView),i.getContainer().style.cursor="crosshair",i.registerEvent("mouseMoveEvent",function(){return n.getChart().getChartStore().getTooltipStore().setActiveIcon(),!1}),i}return t.prototype.getName=function(){return ce.MAIN},t.prototype.updateMain=function(r){this.updateMainContent(r),this._indicatorView.draw(r),this._gridView.draw(r)},t.prototype.createTooltipView=function(){return new Js(this)},t.prototype.updateMainContent=function(r){},t.prototype.updateOverlay=function(r){this._overlayView.draw(r),this._crosshairLineView.draw(r),this._tooltipView.draw(r)},t}(fo),Sv=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var n,i,o=this.getWidget(),a=o.getPane(),s=a.getChart(),l=o.getBounding(),u=a.getAxisComponent(),c=s.getStyles().candle.area,f=[],h=[],d=Number.MAX_SAFE_INTEGER;this.eachChildren(function(b,C,E){var I=b.data,P=b.x,A=C.halfGapBar,O=I[c.value];if(q(O)){var R=u.convertToPixel(O);if(E===0){var j=P-A;h.push({x:j,y:l.height}),h.push({x:j,y:R}),f.push({x:j,y:R})}f.push({x:P,y:R}),h.push({x:P,y:R}),d=Math.min(d,R)}});var v=h.length;if(v>0){var g=h[v-1],p=g.x;f.push({x:p,y:g.y}),h.push({x:p,y:g.y}),h.push({x:p,y:l.height})}if(f.length>0&&((n=this.createFigure({name:"line",attrs:{coordinates:f},styles:{color:c.lineColor,size:c.lineSize}}))===null||n===void 0||n.draw(r)),h.length>0){var m=c.backgroundColor,y=void 0;if(yt(m)){var x=r.createLinearGradient(0,l.height,0,d);try{m.forEach(function(b){var C=b.offset,E=b.color;x.addColorStop(C,E)})}catch{}y=x}else y=m;(i=this.createFigure({name:"polygon",attrs:{coordinates:h},styles:{color:y}}))===null||i===void 0||i.draw(r)}},t}(ho),wv=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var n=this.getWidget(),i=n.getPane(),o=i.getChart().getChartStore(),a=o.getStyles().candle.priceMark,s=a.high,l=a.low;if(a.show&&(s.show||l.show)){var u=o.getThousandsSeparator(),c=o.getPrecision(),f=i.getAxisComponent(),h=Number.MIN_SAFE_INTEGER,d=0,v=Number.MAX_SAFE_INTEGER,g=0;this.eachChildren(function(y){var x=y.data,b=y.x;h<x.high&&(h=x.high,d=b),v>x.low&&(v=x.low,g=b)});var p=f.convertToPixel(h),m=f.convertToPixel(v);s.show&&h!==Number.MIN_SAFE_INTEGER&&this._drawMark(r,We(Re(h,c.price),u),{x:d,y:p},p<m?[-2,-5]:[2,5],s),l.show&&v!==Number.MAX_SAFE_INTEGER&&this._drawMark(r,We(Re(v,c.price),u),{x:g,y:m},p<m?[2,5]:[-2,-5],l)}},t.prototype._drawMark=function(r,n,i,o,a){var s,l,u,c=i.x,f=i.y+o[0];(s=this.createFigure({name:"line",attrs:{coordinates:[{x:c-2,y:f+o[0]},{x:c,y:f},{x:c+2,y:f+o[0]}]},styles:{color:a.color}}))===null||s===void 0||s.draw(r);var h,d,v,g=this.getWidget().getBounding().width;c>g/2?(h=c-5,d=h-a.textOffset,v="right"):(h=c+5,v="left",d=h+a.textOffset);var p=f+o[1];(l=this.createFigure({name:"line",attrs:{coordinates:[{x:c,y:f},{x:c,y:p},{x:h,y:p}]},styles:{color:a.color}}))===null||l===void 0||l.draw(r),(u=this.createFigure({name:"text",attrs:{x:d,y:p,text:n,align:v,baseline:"middle"},styles:{color:a.color,size:a.textSize,family:a.textFamily,weight:a.textWeight}}))===null||u===void 0||u.draw(r)},t}(ho),Cv=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var n,i=this.getWidget(),o=i.getPane(),a=i.getBounding(),s=o.getChart().getChartStore(),l=s.getStyles().candle.priceMark,u=l.last,c=u.line;if(l.show&&u.show&&c.show){var f=o.getAxisComponent(),h=s.getDataList(),d=h[h.length-1];if(d!=null){var v=d.close,g=d.open,p=f.convertToNicePixel(v),m=void 0;v>g?m=u.upColor:v<g?m=u.downColor:m=u.noChangeColor,(n=this.createFigure({name:"line",attrs:{coordinates:[{x:0,y:p},{x:a.width,y:p}]},styles:{style:c.style,color:m,size:c.size,dashedValue:c.dashedValue}}))===null||n===void 0||n.draw(r)}}},t}(Ct),Ev={time:"",open:"",high:"",low:"",close:"",volume:"",turnover:"",change:""},Iv={time:"Time: ",open:"Open: ",high:"High: ",low:"Low: ",close:"Close: ",volume:"Volume: ",turnover:"Turnover: ",change:"Change: "},Pv={"zh-CN":Ev,"en-US":Iv};function Tv(e,t){var r,n;return(n=(r=Pv[t])===null||r===void 0?void 0:r[e])!==null&&n!==void 0?n:e}var Mv=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var n=this.getWidget(),i=n.getPane(),o=i.getId(),a=i.getChart().getChartStore(),s=a.getTooltipStore().getCrosshair();if(X(s.kLineData)){var l=n.getBounding(),u=i.getYAxisWidget().getBounding(),c=a.getDataList(),f=a.getPrecision(),h=a.getLocale(),d=a.getCustomApi(),v=a.getThousandsSeparator(),g=a.getTooltipStore().getActiveIcon(),p=a.getIndicatorStore().getInstances(i.getId()),m=a.getTimeScaleStore().getDateTimeFormat(),y=a.getStyles(),x=y.candle,b=y.indicator;if(x.tooltip.showType===mt.Rect&&b.tooltip.showType===mt.Rect){var C=this.isDrawTooltip(s,x.tooltip),E=this.isDrawTooltip(s,b.tooltip);this._drawRectTooltip(r,c,p,l,u,s,f,m,h,d,v,C,E,y,0)}else if(x.tooltip.showType===mt.Standard&&b.tooltip.showType===mt.Standard){var I=this._drawCandleStandardTooltip(r,c,o,l,s,g,f,m,h,d,v,x);this.drawIndicatorTooltip(r,o,c,s,g,p,d,v,l,b,I)}else if(x.tooltip.showType===mt.Rect&&b.tooltip.showType===mt.Standard){var P=this.drawIndicatorTooltip(r,o,c,s,g,p,d,v,l,b,0),C=this.isDrawTooltip(s,x.tooltip);this._drawRectTooltip(r,c,p,l,u,s,f,m,h,d,v,C,!1,y,P)}else{var A=this._drawCandleStandardTooltip(r,c,o,l,s,g,f,m,h,d,v,x),E=this.isDrawTooltip(s,b.tooltip);this._drawRectTooltip(r,c,p,l,u,s,f,m,h,d,v,!1,E,y,A)}}},t.prototype._drawCandleStandardTooltip=function(r,n,i,o,a,s,l,u,c,f,h,d){var v,g,p,m=d.tooltip,y=m.text,x=0;if(this.isDrawTooltip(a,m)){var b=(v=a.dataIndex)!==null&&v!==void 0?v:0,C=this._getCandleTooltipData({prev:(g=n[b-1])!==null&&g!==void 0?g:null,current:a.kLineData,next:(p=n[b+1])!==null&&p!==void 0?p:null},l,u,c,f,h,d),E=0,I=0,P=0,A=Xe(this.classifyTooltipIcons(m.icons),3),O=A[0],R=A[1],j=A[2],V=Xe(this.drawStandardTooltipIcons(r,o,{paneId:i,indicatorName:"",iconId:""},s,O,E,I,0),4),$=V[0],Q=V[1],N=V[2],te=V[3];E=$,I=Q,x+=te,P=N;var K=Xe(this.drawStandardTooltipIcons(r,o,{paneId:i,indicatorName:"",iconId:""},s,R,E,I,P),4),de=K[0],ve=K[1],ee=K[2],le=K[3];if(E=de,I=ve,x+=le,P=ee,C.length>0){var oe=Xe(this.drawStandardTooltipLabels(r,o,C,E,I,P,y),4),ae=oe[0],pe=oe[1],ge=oe[2],T=oe[3];E=ae,I=pe,x+=T,P=ge}var W=Xe(this.drawStandardTooltipIcons(r,o,{paneId:i,indicatorName:"",iconId:""},s,j,E,I,P),4),B=W[0],Y=W[1],re=W[2],_=W[3];E=B,I=Y,x+=_,P=re}return x},t.prototype._drawRectTooltip=function(r,n,i,o,a,s,l,u,c,f,h,d,v,g,p){var m=this,y,x,b,C,E,I=g.candle,P=g.indicator,A=I.tooltip,O=P.tooltip;if(d||v){var R=(y=s.dataIndex)!==null&&y!==void 0?y:0,j=this._getCandleTooltipData({prev:(x=n[R-1])!==null&&x!==void 0?x:null,current:s.kLineData,next:(b=n[R+1])!==null&&b!==void 0?b:null},l,u,c,f,h,I),V=A.text,$=V.marginLeft,Q=V.marginRight,N=V.marginTop,te=V.marginBottom,K=V.size,de=V.weight,ve=V.family,ee=A.rect,le=ee.position,oe=ee.paddingLeft,ae=ee.paddingRight,pe=ee.paddingTop,ge=ee.paddingBottom,T=ee.offsetLeft,W=ee.offsetRight,B=ee.offsetTop,Y=ee.offsetBottom,re=ee.borderSize,_=ee.borderRadius,S=ee.borderColor,w=ee.color,M=0,D=0,k=0;d&&(r.font=ar(K,de,ve),j.forEach(function(Qe){var Je=Qe.title,et=Qe.value,it="".concat(Je.text).concat(et.text),It=r.measureText(it).width+$+Q;M=Math.max(M,It)}),k+=(te+N+K)*j.length);var H=O.text,L=H.marginLeft,z=H.marginRight,F=H.marginTop,Z=H.marginBottom,U=H.size,G=H.weight,ne=H.family,fe=[];if(v&&(r.font=ar(U,G,ne),i.forEach(function(Qe){var Je,et=(Je=m.getIndicatorTooltipData(n,s,Qe,f,h,P).values)!==null&&Je!==void 0?Je:[];fe.push(et),et.forEach(function(it){var It=it.title,on=it.value,fl="".concat(It.text).concat(on.text),hl=r.measureText(fl).width+L+z;M=Math.max(M,hl),k+=F+Z+U})})),D+=M,D!==0&&k!==0){D+=re*2+oe+ae,k+=re*2+pe+ge;var Ce=o.width/2,xe=le===En.Pointer&&s.paneId===be.CANDLE,Te=((C=s.realX)!==null&&C!==void 0?C:0)>Ce,Me=0;if(xe){var Et=s.realX;Te?Me=Et-W-D:Me=Et+T}else Te?(Me=T,g.yAxis.inside&&g.yAxis.position===Yt.Left&&(Me+=a.width)):(Me=o.width-W-D,g.yAxis.inside&&g.yAxis.position===Yt.Right&&(Me-=a.width));var dt=p+B;if(xe){var Ut=s.y;dt=Ut-k/2,dt+k>o.height-Y&&(dt=o.height-Y-k),dt<p+B&&(dt=p+B)}(E=this.createFigure({name:"rect",attrs:{x:Me,y:dt,width:D,height:k},styles:{style:ye.StrokeFill,color:w,borderColor:S,borderSize:re,borderRadius:_}}))===null||E===void 0||E.draw(r);var nn=Me+re+oe+$,Ae=dt+re+pe;if(d&&j.forEach(function(Qe){var Je,et;Ae+=N;var it=Qe.title;(Je=m.createFigure({name:"text",attrs:{x:nn,y:Ae,text:it.text},styles:{color:it.color,size:K,family:ve,weight:de}}))===null||Je===void 0||Je.draw(r);var It=Qe.value;(et=m.createFigure({name:"text",attrs:{x:Me+D-re-Q-ae,y:Ae,text:It.text,align:"right"},styles:{color:It.color,size:K,family:ve,weight:de}}))===null||et===void 0||et.draw(r),Ae+=K+te}),v){var Ze=Me+re+oe+L;fe.forEach(function(Qe){Qe.forEach(function(Je){var et,it;Ae+=F;var It=Je.title,on=Je.value;(et=m.createFigure({name:"text",attrs:{x:Ze,y:Ae,text:It.text},styles:{color:It.color,size:U,family:ne,weight:G}}))===null||et===void 0||et.draw(r),(it=m.createFigure({name:"text",attrs:{x:Me+D-re-z-ae,y:Ae,text:on.text,align:"right"},styles:{color:on.color,size:U,family:ne,weight:G}}))===null||it===void 0||it.draw(r),Ae+=U+Z})})}}}},t.prototype._getCandleTooltipData=function(r,n,i,o,a,s,l){var u,c,f,h,d,v,g=l.tooltip,p=g.text.color,m=r.current,y=(c=(u=r.prev)===null||u===void 0?void 0:u.close)!==null&&c!==void 0?c:m.close,x=m.close-y,b=n.price,C=n.volume,E={"{time}":a.formatDate(i,m.timestamp,"YYYY-MM-DD HH:mm",ze.Tooltip),"{open}":We(Re(m.open,b),s),"{high}":We(Re(m.high,b),s),"{low}":We(Re(m.low,b),s),"{close}":We(Re(m.close,b),s),"{volume}":We(a.formatBigNumber(Re((f=m.volume)!==null&&f!==void 0?f:g.defaultValue,C)),s),"{turnover}":We(Re((h=m.turnover)!==null&&h!==void 0?h:g.defaultValue,b),s),"{change}":y===0?g.defaultValue:"".concat(Re(x/y*100),"%")},I=(v=or(g.custom)?(d=g.custom)===null||d===void 0?void 0:d.call(g,r,l):g.custom)!==null&&v!==void 0?v:[{title:"time",value:"{time}"},{title:"open",value:"{open}"},{title:"high",value:"{high}"},{title:"low",value:"{low}"},{title:"close",value:"{close}"},{title:"volume",value:"{volume}"}];return I.map(function(P){var A,O=P.title,R=P.value,j={text:"",color:""};xt(O)?j=J({},O):(j.text=O,j.color=p),j.text=Tv(j.text,o);var V={text:g.defaultValue,color:""};xt(R)?V=J({},R):(V.text=R,V.color=p);var $=V.text.match(/{(\S*)}/);if($!==null&&$.length>1){var Q="{".concat($[1],"}");V.text=V.text.replace(Q,(A=E[Q])!==null&&A!==void 0?A:g.defaultValue),Q==="{change}"&&(V.color=x===0?l.priceMark.last.noChangeColor:x>0?l.priceMark.last.upColor:l.priceMark.last.downColor)}return{title:j,value:V}})},t}(Js),Av=function(e){he(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i._candleBarView=new Qs(i),i._candleAreaView=new Sv(i),i._candleHighLowPriceView=new wv(i),i._candleLastPriceLineView=new Cv(i),i.addChild(i._candleBarView),i}return t.prototype.updateMainContent=function(r){var n=this.getPane().getChart().getStyles().candle;n.type!==st.Area?(this._candleBarView.draw(r),this._candleHighLowPriceView.draw(r)):this._candleAreaView.draw(r),this._candleLastPriceLineView.draw(r)},t.prototype.createTooltipView=function(){return new Mv(this)},t}(tl),rl=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var n=this,i,o=this.getWidget(),a=o.getPane(),s=o.getBounding(),l=a.getAxisComponent(),u=this.getAxisStyles(a.getChart().getStyles());if(u.show){u.axisLine.show&&((i=this.createFigure({name:"line",attrs:this.createAxisLine(s,u),styles:u.axisLine}))===null||i===void 0||i.draw(r));var c=l.getTicks();if(u.tickLine.show){var f=this.createTickLines(c,s,u);f.forEach(function(d){var v;(v=n.createFigure({name:"line",attrs:d,styles:u.tickLine}))===null||v===void 0||v.draw(r)})}if(u.tickText.show){var h=this.createTickTexts(c,s,u);h.forEach(function(d){var v;(v=n.createFigure({name:"text",attrs:d,styles:u.tickText}))===null||v===void 0||v.draw(r)})}}},t}(Ct),Dv=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getAxisStyles=function(r){return r.yAxis},t.prototype.createAxisLine=function(r,n){var i=this.getWidget().getPane().getAxisComponent(),o=n.axisLine.size,a;return i.isFromZero()?a=o/2:a=r.width-o,{coordinates:[{x:a,y:0},{x:a,y:r.height}]}},t.prototype.createTickLines=function(r,n,i){var o=this.getWidget().getPane().getAxisComponent(),a=i.axisLine,s=i.tickLine,l=0,u=0;return o.isFromZero()?(l=0,a.show&&(l+=a.size),u=l+s.length):(l=n.width,a.show&&(l-=a.size),u=l-s.length),r.map(function(c){return{coordinates:[{x:l,y:c.coord},{x:u,y:c.coord}]}})},t.prototype.createTickTexts=function(r,n,i){var o=this.getWidget().getPane().getAxisComponent(),a=i.axisLine,s=i.tickLine,l=i.tickText,u=0;o.isFromZero()?(u=l.marginStart,a.show&&(u+=a.size),s.show&&(u+=s.length)):(u=n.width-l.marginEnd,a.show&&(u-=a.size),s.show&&(u-=s.length));var c=this.getWidget().getPane().getAxisComponent().isFromZero()?"left":"right";return r.map(function(f){return{x:u,y:f.coord,text:f.text,align:c,baseline:"middle"}})},t}(rl),kv=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var n,i=this.getWidget(),o=i.getPane(),a=i.getBounding(),s=o.getChart().getChartStore(),l=s.getStyles().candle.priceMark,u=l.last,c=u.text;if(l.show&&u.show&&c.show){var f=s.getPrecision(),h=o.getAxisComponent(),d=s.getDataList(),v=s.getVisibleDataList(),g=d[d.length-1];if(X(g)){var p=g.close,m=g.open,y=h.convertToNicePixel(p),x=void 0;p>m?x=u.upColor:p<m?x=u.downColor:x=u.noChangeColor;var b=void 0;if(h.getType()===Ve.Percentage){var C=v[0].data,E=C.close;b="".concat(((p-E)/E*100).toFixed(2),"%")}else b=Re(p,f.price);b=We(b,s.getThousandsSeparator());var I=void 0,P=void 0;h.isFromZero()?(I=0,P="left"):(I=a.width,P="right"),(n=this.createFigure({name:"text",attrs:{x:I,y,text:b,align:P,baseline:"middle"},styles:J(J({},c),{backgroundColor:x})}))===null||n===void 0||n.draw(r)}}},t}(Ct),Rv=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var n=this,i=this.getWidget(),o=i.getPane(),a=i.getBounding(),s=o.getChart().getChartStore(),l=s.getCustomApi(),u=s.getStyles().indicator,c=u.lastValueMark,f=c.text;if(c.show){var h=o.getAxisComponent(),d=s.getDataList(),v=d.length-1,g=s.getIndicatorStore().getInstances(o.getId()),p=s.getThousandsSeparator();g.forEach(function(m){var y=m.result,x=y[v];if(X(x)&&m.visible){var b=m.precision;lo(d,m,v,u,function(C,E){var I,P=x[C.key];if(q(P)){var A=h.convertToNicePixel(P),O=Re(P,b);m.shouldFormatBigNumber&&(O=l.formatBigNumber(O)),O=We(O,p);var R=void 0,j=void 0;h.isFromZero()?(R=0,j="left"):(R=a.width,j="right"),(I=n.createFigure({name:"text",attrs:{x:R,y:A,text:O,align:j,baseline:"middle"},styles:J(J({},f),{backgroundColor:E.color})}))===null||I===void 0||I.draw(r)}})}})}},t}(Ct),nl=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!1},t.prototype.drawDefaultFigures=function(r,n,i,o,a,s,l,u,c,f,h,d,v){this.drawFigures(r,n,this.getDefaultFigures(n,i,o,a,s,l,u,f,h,v),c)},t.prototype.getDefaultFigures=function(r,n,i,o,a,s,l,u,c,f){var h,d,v=[];if(r.needDefaultYAxisFigure&&r.id===((h=f.instance)===null||h===void 0?void 0:h.id)&&f.paneId===this.getWidget().getPane().getId()){var g=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER,m=(d=c==null?void 0:c.isFromZero())!==null&&d!==void 0?d:!1,y,x;m?(y="left",x=0):(y="right",x=i.width),n.forEach(function(b,C){var E=r.points[C];if(q(E.value)){g=Math.min(g,b.y),p=Math.max(p,b.y);var I=We(Re(E.value,o.price),l);v.push({type:"text",attrs:{x,y:b.y,text:I,align:y,baseline:"middle"},ignoreEvent:!0})}}),n.length>1&&v.unshift({type:"rect",attrs:{x:0,y:g,width:i.width,height:p-g},ignoreEvent:!0})}return v},t.prototype.getFigures=function(r,n,i,o,a,s,l,u,c,f){var h,d;return(d=(h=r.createYAxisFigures)===null||h===void 0?void 0:h.call(r,{overlay:r,coordinates:n,bounding:i,barSpace:o,precision:a,thousandsSeparator:s,dateTimeFormat:l,defaultStyles:u,xAxis:c,yAxis:f}))!==null&&d!==void 0?d:[]},t}(el),il=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var n,i=this.getWidget(),o=i.getPane(),a=i.getBounding(),s=i.getPane().getChart().getChartStore(),l=s.getTooltipStore().getCrosshair(),u=s.getStyles().crosshair;if(se(l.paneId)&&this.compare(l,o.getId())&&u.show){var c=this.getDirectionStyles(u),f=c.text;if(c.show&&f.show){var h=o.getAxisComponent(),d=this.getText(l,s,h);r.font=ar(f.size,f.weight,f.family),(n=this.createFigure({name:"text",attrs:this.getTextAttrs(d,r.measureText(d).width,l,a,h,f),styles:f}))===null||n===void 0||n.draw(r)}}},t.prototype.compare=function(r,n){return r.paneId===n},t.prototype.getDirectionStyles=function(r){return r.horizontal},t.prototype.getText=function(r,n,i){var o,a,s=i,l=i.convertFromPixel(r.y),u;if(s.getType()===Ve.Percentage){var c=n.getVisibleDataList(),f=(a=(o=c[0])===null||o===void 0?void 0:o.data)!==null&&a!==void 0?a:{};u="".concat(((l-f.close)/f.close*100).toFixed(2),"%")}else{var h=n.getIndicatorStore().getInstances(r.paneId),d=0,v=!1;s.isInCandle()?d=n.getPrecision().price:h.forEach(function(g){d=Math.max(g.precision,d),v||(v=g.shouldFormatBigNumber)}),u=Re(l,d),v&&(u=n.getCustomApi().formatBigNumber(u))}return We(u,n.getThousandsSeparator())},t.prototype.getTextAttrs=function(r,n,i,o,a,s){var l=a,u,c;return l.isFromZero()?(u=0,c="left"):(u=o.width,c="right"),{x:u,y:i.y,text:r,align:c,baseline:"middle"}},t}(Ct),Fv=function(e){he(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i._yAxisView=new Dv(i),i._candleLastPriceLabelView=new kv(i),i._indicatorLastValueView=new Rv(i),i._overlayYAxisView=new nl(i),i._crosshairHorizontalLabelView=new il(i),i.getContainer().style.cursor="ns-resize",i.addChild(i._overlayYAxisView),i}return t.prototype.getName=function(){return ce.Y_AXIS},t.prototype.updateMain=function(r){this._yAxisView.draw(r),this.getPane().getAxisComponent().isInCandle()&&this._candleLastPriceLabelView.draw(r),this._indicatorLastValueView.draw(r)},t.prototype.updateOverlay=function(r){this._overlayYAxisView.draw(r),this._crosshairHorizontalLabelView.draw(r)},t}(fo),ol=function(){function e(t){this._extremum={min:0,max:0,range:0,realMin:0,realMax:0,realRange:0},this._prevExtremum={min:0,max:0,range:0,realMin:0,realMax:0,realRange:0},this._ticks=[],this._autoCalcTickFlag=!0,this._parent=t}return e.prototype.getParent=function(){return this._parent},e.prototype.buildTicks=function(t){return this._autoCalcTickFlag&&(this._extremum=this.calcExtremum()),this._prevExtremum.min!==this._extremum.min||this._prevExtremum.max!==this._extremum.max||t?(this._prevExtremum=this._extremum,this._ticks=this.optimalTicks(this._calcTicks()),!0):!1},e.prototype.getTicks=function(){return this._ticks},e.prototype.getScrollZoomEnabled=function(){var t;return(t=this.getParent().getOptions().axisOptions.scrollZoomEnabled)!==null&&t!==void 0?t:!0},e.prototype.setExtremum=function(t){this._autoCalcTickFlag=!1,this._extremum=t},e.prototype.getExtremum=function(){return this._extremum},e.prototype.setAutoCalcTickFlag=function(t){this._autoCalcTickFlag=t},e.prototype.getAutoCalcTickFlag=function(){return this._autoCalcTickFlag},e.prototype._calcTicks=function(){var t=this._extremum,r=t.realMin,n=t.realMax,i=t.realRange,o=[];if(i>=0){var a=Xe(this._calcTickInterval(i),2),s=a[0],l=a[1],u=va(Math.ceil(r/s)*s,l),c=va(Math.floor(n/s)*s,l),f=0,h=u;if(s!==0)for(;h<=c;){var d=h.toFixed(l);o[f]={text:d,coord:0,value:d},++f,h+=s}}return o},e.prototype._calcTickInterval=function(t){var r=Xh(t/8),n=jh(r);return[r,n]},e}(),Ov=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.calcExtremum=function(){var r,n,i,o,a,s=this.getParent(),l=s.getChart(),u=l.getChartStore(),c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER,h=[],d=!1,v=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER,p=Number.MAX_SAFE_INTEGER,m=u.getIndicatorStore().getInstances(s.getId());m.forEach(function(oe){var ae,pe,ge;d||(d=(ae=oe.shouldOhlc)!==null&&ae!==void 0?ae:!1),p=Math.min(p,oe.precision),q(oe.minValue)&&(v=Math.min(v,oe.minValue)),q(oe.maxValue)&&(g=Math.max(g,oe.maxValue)),h.push({figures:(pe=oe.figures)!==null&&pe!==void 0?pe:[],result:(ge=oe.result)!==null&&ge!==void 0?ge:[]})});var y=4,x=this.isInCandle();if(x){var b=u.getPrecision().price;p!==Number.MAX_SAFE_INTEGER?y=Math.min(p,b):y=b}else p!==Number.MAX_SAFE_INTEGER&&(y=p);var C=u.getVisibleDataList(),E=l.getStyles().candle,I=E.type===st.Area,P=E.area.value,A=x&&!I||!x&&d;C.forEach(function(oe){var ae=oe.dataIndex,pe=oe.data;if(A&&(c=Math.min(c,pe.low),f=Math.max(f,pe.high)),x&&I){var ge=pe[P];q(ge)&&(c=Math.min(c,ge),f=Math.max(f,ge))}h.forEach(function(T){var W,B=T.figures,Y=T.result,re=(W=Y[ae])!==null&&W!==void 0?W:{};B.forEach(function(_){var S=re[_.key];q(S)&&(c=Math.min(c,S),f=Math.max(f,S))})})}),c!==Number.MAX_SAFE_INTEGER&&f!==Number.MIN_SAFE_INTEGER?(c=Math.min(v,c),f=Math.max(g,f)):(c=0,f=10);var O=this.getType(),R;switch(O){case Ve.Percentage:{var j=(r=C[0])===null||r===void 0?void 0:r.data;q(j==null?void 0:j.close)&&(c=(c-j.close)/j.close*100,f=(f-j.close)/j.close*100),R=Math.pow(10,-2);break}case Ve.Log:{c=Or(c),f=Or(f),R=.05*Gt(-y);break}default:R=Gt(-y)}if(c===f||Math.abs(c-f)<R){var V=v===c,$=g===f;c=V?c:$?c-8*R:c-4*R,f=$?f:V?f+8*R:f+4*R}var Q=(i=(n=this.getParent().getYAxisWidget())===null||n===void 0?void 0:n.getBounding().height)!==null&&i!==void 0?i:0,N=s.getOptions().gap,te=(o=N==null?void 0:N.top)!==null&&o!==void 0?o:.2;te>=1&&(te=te/Q);var K=(a=N==null?void 0:N.bottom)!==null&&a!==void 0?a:.1;K>=1&&(K=K/Q);var de=Math.abs(f-c);c=c-de*K,f=f+de*te,de=Math.abs(f-c);var ve,ee,le;return O===Ve.Log?(ve=Gt(c),ee=Gt(f),le=Math.abs(ee-ve)):(ve=c,ee=f,le=de),{min:c,max:f,range:de,realMin:ve,realMax:ee,realRange:le}},t.prototype._innerConvertToPixel=function(r){var n,i,o=(i=(n=this.getParent().getYAxisWidget())===null||n===void 0?void 0:n.getBounding().height)!==null&&i!==void 0?i:0,a=this.getExtremum(),s=a.min,l=a.range,u=(r-s)/l;return this.isReverse()?Math.round(u*o):Math.round((1-u)*o)},t.prototype.isInCandle=function(){return this.getParent().getId()===be.CANDLE},t.prototype.getType=function(){return this.isInCandle()?this.getParent().getChart().getStyles().yAxis.type:Ve.Normal},t.prototype.getPosition=function(){return this.getParent().getChart().getStyles().yAxis.position},t.prototype.isReverse=function(){return this.isInCandle()?this.getParent().getChart().getStyles().yAxis.reverse:!1},t.prototype.isFromZero=function(){var r=this.getParent().getChart().getStyles().yAxis,n=r.inside;return r.position===Yt.Left&&n||r.position===Yt.Right&&!n},t.prototype.optimalTicks=function(r){var n=this,i,o,a=this.getParent(),s=(o=(i=a.getYAxisWidget())===null||i===void 0?void 0:i.getBounding().height)!==null&&o!==void 0?o:0,l=a.getChart().getChartStore(),u=l.getCustomApi(),c=[],f=this.getType(),h=l.getIndicatorStore().getInstances(a.getId()),d=l.getThousandsSeparator(),v=0,g=!1;this.isInCandle()?v=l.getPrecision().price:h.forEach(function(y){v=Math.max(v,y.precision),g||(g=y.shouldFormatBigNumber)});var p=l.getStyles().xAxis.tickText.size,m;return r.forEach(function(y){var x=y.value,b,C=n._innerConvertToPixel(+x);switch(f){case Ve.Percentage:{b="".concat(Re(x,2),"%");break}case Ve.Log:{C=n._innerConvertToPixel(Or(+x)),b=Re(x,v);break}default:{b=Re(x,v),g&&(b=u.formatBigNumber(x));break}}b=We(b,d);var E=q(m);C>p&&C<s-p&&(E&&Math.abs(m-C)>p*2||!E)&&(c.push({text:b,coord:C,value:x}),m=C)}),c},t.prototype.getAutoSize=function(){var r=this.getParent(),n=r.getChart(),i=n.getStyles(),o=i.yAxis,a=o.size;if(a!=="auto")return a;var s=n.getChartStore(),l=s.getCustomApi(),u=0;if(o.show&&(o.axisLine.show&&(u+=o.axisLine.size),o.tickLine.show&&(u+=o.tickLine.length),o.tickText.show)){var c=0;this.getTicks().forEach(function(b){c=Math.max(c,In(b.text,o.tickText.size,o.tickText.weight,o.tickText.family))}),u+=o.tickText.marginStart+o.tickText.marginEnd+c}var f=i.crosshair,h=0;if(f.show&&f.horizontal.show&&f.horizontal.text.show){var d=s.getIndicatorStore().getInstances(r.getId()),v=0,g=!1;d.forEach(function(b){v=Math.max(b.precision,v),g||(g=b.shouldFormatBigNumber)});var p=2;if(this.getType()!==Ve.Percentage)if(this.isInCandle()){var m=s.getPrecision().price,y=i.indicator.lastValueMark;y.show&&y.text.show?p=Math.max(v,m):p=m}else p=v;var x=Re(this.getExtremum().max,p);g&&(x=l.formatBigNumber(x)),h+=f.horizontal.text.paddingLeft+f.horizontal.text.paddingRight+f.horizontal.text.borderSize*2+In(x,f.horizontal.text.size,f.horizontal.text.weight,f.horizontal.text.family)}return Math.max(u,h)},t.prototype.convertFromPixel=function(r){var n,i,o,a=(i=(n=this.getParent().getYAxisWidget())===null||n===void 0?void 0:n.getBounding().height)!==null&&i!==void 0?i:0,s=this.getExtremum(),l=s.min,u=s.range,c=this.isReverse()?r/a:1-r/a,f=c*u+l;switch(this.getType()){case Ve.Percentage:{var h=this.getParent().getChart().getChartStore(),d=h.getVisibleDataList(),v=(o=d[0])===null||o===void 0?void 0:o.data;return q(v==null?void 0:v.close)?v.close*f/100+v.close:0}case Ve.Log:return Gt(f);default:return f}},t.prototype.convertToRealValue=function(r){var n=r;return this.getType()===Ve.Log&&(n=Gt(r)),n},t.prototype.convertToPixel=function(r){var n,i=r;switch(this.getType()){case Ve.Percentage:{var o=this.getParent().getChart().getChartStore(),a=o.getVisibleDataList(),s=(n=a[0])===null||n===void 0?void 0:n.data;q(s==null?void 0:s.close)&&(i=(r-s.close)/s.close*100);break}case Ve.Log:{i=Or(r);break}default:i=r}return this._innerConvertToPixel(i)},t.prototype.convertToNicePixel=function(r){var n,i,o=(i=(n=this.getParent().getYAxisWidget())===null||n===void 0?void 0:n.getBounding().height)!==null&&i!==void 0?i:0,a=this.convertToPixel(r);return Math.round(Math.max(o*.05,Math.min(a,o*.98)))},t}(ol),al=function(){function e(t,r,n,i){this._bounding=Us(),this._chart=n,this._id=i,this._init(t,r)}return e.prototype._init=function(t,r){this._rootContainer=t,this._container=kt("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden",boxSizing:"border-box"}),r!==null?t.insertBefore(this._container,r):t.appendChild(this._container)},e.prototype.getContainer=function(){return this._container},e.prototype.getId=function(){return this._id},e.prototype.getChart=function(){return this._chart},e.prototype.getBounding=function(){return this._bounding},e.prototype.update=function(t){var r=this._container.getBoundingClientRect().height;this._bounding.height!==r&&(this._container.style.height="".concat(this._bounding.height,"px")),this.updateImp(t??3,this._container,this._bounding)},e.prototype.destroy=function(){this._rootContainer.removeChild(this._container)},e}(),sl=function(e){he(t,e);function t(r,n,i,o){var a=e.call(this,r,n,i,o)||this;a._yAxisWidget=null,a._axis=a.createAxisComponent(),a._options={minHeight:$d,dragEnabled:!0,gap:{top:.2,bottom:.1},axisOptions:{scrollZoomEnabled:!0}};var s=a.getContainer();return a._mainWidget=a.createMainWidget(s),a._yAxisWidget=a.createYAxisWidget(s),a}return t.prototype.setOptions=function(r){var n,i;nt(this._options,r);var o,a;return this.getId()===be.X_AXIS?(o=this.getMainWidget().getContainer(),a="ew-resize"):(o=this.getYAxisWidget().getContainer(),a="ns-resize"),!((i=(n=r.axisOptions)===null||n===void 0?void 0:n.scrollZoomEnabled)!==null&&i!==void 0)||i?o.style.cursor=a:o.style.cursor="default",this},t.prototype.getOptions=function(){return this._options},t.prototype.getAxisComponent=function(){return this._axis},t.prototype.setBounding=function(r,n,i){var o,a;nt(this.getBounding(),r);var s={};return X(r.height)&&(s.height=r.height),X(r.top)&&(s.top=r.top),this._mainWidget.setBounding(s),(o=this._yAxisWidget)===null||o===void 0||o.setBounding(s),X(n)&&this._mainWidget.setBounding(n),X(i)&&((a=this._yAxisWidget)===null||a===void 0||a.setBounding(i)),this},t.prototype.getMainWidget=function(){return this._mainWidget},t.prototype.getYAxisWidget=function(){return this._yAxisWidget},t.prototype.updateImp=function(r){var n;this._mainWidget.update(r),(n=this._yAxisWidget)===null||n===void 0||n.update(r)},t.prototype.destroy=function(){var r;e.prototype.destroy.call(this),this._mainWidget.destroy(),(r=this._yAxisWidget)===null||r===void 0||r.destroy()},t.prototype.getImage=function(r){var n=this.getBounding(),i=n.width,o=n.height,a=kt("canvas",{width:"".concat(i,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),s=a.getContext("2d"),l=jt(a);a.width=i*l,a.height=o*l,s.scale(l,l);var u=this._mainWidget.getBounding();if(s.drawImage(this._mainWidget.getImage(r),u.left,0,u.width,u.height),this._yAxisWidget!==null){var c=this._yAxisWidget.getBounding();s.drawImage(this._yAxisWidget.getImage(r),c.left,0,c.width,c.height)}return a},t.prototype.createYAxisWidget=function(r){return null},t}(al),ll=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createAxisComponent=function(){return new Ov(this)},t.prototype.createMainWidget=function(r){return new tl(r,this)},t.prototype.createYAxisWidget=function(r){return new Fv(r,this)},t}(sl),Bv=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createMainWidget=function(r){return new Av(r,this)},t}(ll),Lv=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getAxisStyles=function(r){return r.xAxis},t.prototype.createAxisLine=function(r,n){var i=n.axisLine.size/2;return{coordinates:[{x:0,y:i},{x:r.width,y:i}]}},t.prototype.createTickLines=function(r,n,i){var o=i.tickLine,a=i.axisLine.size;return r.map(function(s){return{coordinates:[{x:s.coord,y:0},{x:s.coord,y:a+o.length}]}})},t.prototype.createTickTexts=function(r,n,i){var o=i.tickText,a=i.axisLine.size,s=i.tickLine.length;return r.map(function(l){return{x:l.coord,y:a+s+o.marginStart,text:l.text,align:"center",baseline:"top"}})},t}(rl),Nv=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},t.prototype.coordinateToPointValueFlag=function(){return!1},t.prototype.getCompleteOverlays=function(r){return r.getInstances()},t.prototype.getProgressOverlay=function(r){return r.instance},t.prototype.getDefaultFigures=function(r,n,i,o,a,s,l,u,c,f){var h,d=[];if(r.needDefaultXAxisFigure&&r.id===((h=f.instance)===null||h===void 0?void 0:h.id)){var v=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;n.forEach(function(p,m){v=Math.min(v,p.x),g=Math.max(g,p.x);var y=r.points[m];if(q(y.timestamp)){var x=s.formatDate(a,y.timestamp,"YYYY-MM-DD HH:mm",ze.Crosshair);d.push({type:"text",attrs:{x:p.x,y:0,text:x,align:"center"},ignoreEvent:!0})}}),n.length>1&&d.unshift({type:"rect",attrs:{x:v,y:0,width:g-v,height:i.height},ignoreEvent:!0})}return d},t.prototype.getFigures=function(r,n,i,o,a,s,l,u,c,f){var h,d;return(d=(h=r.createXAxisFigures)===null||h===void 0?void 0:h.call(r,{overlay:r,coordinates:n,bounding:i,barSpace:o,precision:a,thousandsSeparator:s,dateTimeFormat:l,defaultStyles:u,xAxis:c,yAxis:f}))!==null&&d!==void 0?d:[]},t}(nl),Vv=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(r){return X(r.kLineData)&&r.dataIndex===r.realDataIndex},t.prototype.getDirectionStyles=function(r){return r.vertical},t.prototype.getText=function(r,n){var i,o=(i=r.kLineData)===null||i===void 0?void 0:i.timestamp;return n.getCustomApi().formatDate(n.getTimeScaleStore().getDateTimeFormat(),o,"YYYY-MM-DD HH:mm",ze.Crosshair)},t.prototype.getTextAttrs=function(r,n,i,o,a,s){var l=i.realX,u,c="center";return l-n/2-s.paddingLeft<0?(u=0,c="left"):l+n/2+s.paddingRight>o.width?(u=o.width,c="right"):u=l,{x:u,y:0,text:r,align:c,baseline:"top"}},t}(il),Wv=function(e){he(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i._xAxisView=new Lv(i),i._overlayXAxisView=new Nv(i),i._crosshairVerticalLabelView=new Vv(i),i.getContainer().style.cursor="ew-resize",i.addChild(i._overlayXAxisView),i}return t.prototype.getName=function(){return ce.X_AXIS},t.prototype.updateMain=function(r){this._xAxisView.draw(r)},t.prototype.updateOverlay=function(r){this._overlayXAxisView.draw(r),this._crosshairVerticalLabelView.draw(r)},t}(fo),zv=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.calcExtremum=function(){var r=this.getParent().getChart().getChartStore(),n=r.getTimeScaleStore().getVisibleRange(),i=n.from,o=n.to,a=i,s=o-1,l=o-i;return{min:a,max:s,range:l,realMin:a,realMax:s,realRange:l}},t.prototype.optimalTicks=function(r){var n,i,o=this.getParent().getChart(),a=o.getChartStore(),s=a.getCustomApi().formatDate,l=[],u=r.length,c=a.getDataList();if(u>0){var f=a.getTimeScaleStore().getDateTimeFormat(),h=o.getStyles().xAxis.tickText,d=In("00-00 00:00",h.size,h.weight,h.family),v=parseInt(r[0].value,10),g=this.convertToPixel(v),p=1;if(u>1){var m=parseInt(r[1].value,10),y=this.convertToPixel(m),x=Math.abs(y-g);x<d&&(p=Math.ceil(d/x))}for(var b=0;b<u;b+=p){var C=parseInt(r[b].value,10),E=c[C],I=E.timestamp,P=s(f,I,"HH:mm",ze.XAxis);if(b!==0){var A=parseInt(r[b-p].value,10),O=c[A],R=O.timestamp;P=(n=this._optimalTickLabel(s,f,I,R))!==null&&n!==void 0?n:P}var j=this.convertToPixel(C);l.push({text:P,coord:j,value:I})}var V=l.length;if(V===1)l[0].text=s(f,l[0].value,"YYYY-MM-DD HH:mm",ze.XAxis);else{var $=l[0].value,Q=l[1].value;if(X(l[2])){var N=l[2].text;/^[0-9]{2}-[0-9]{2}$/.test(N)?l[0].text=s(f,$,"MM-DD",ze.XAxis):/^[0-9]{4}-[0-9]{2}$/.test(N)?l[0].text=s(f,$,"YYYY-MM",ze.XAxis):/^[0-9]{4}$/.test(N)&&(l[0].text=s(f,$,"YYYY",ze.XAxis))}else l[0].text=(i=this._optimalTickLabel(s,f,$,Q))!==null&&i!==void 0?i:l[0].text}}return l},t.prototype._optimalTickLabel=function(r,n,i,o){var a=r(n,i,"YYYY",ze.XAxis),s=r(n,i,"YYYY-MM",ze.XAxis),l=r(n,i,"MM-DD",ze.XAxis);return a!==r(n,o,"YYYY",ze.XAxis)?a:s!==r(n,o,"YYYY-MM",ze.XAxis)?s:l!==r(n,o,"MM-DD",ze.XAxis)?l:null},t.prototype.getAutoSize=function(){var r=this.getParent().getChart().getStyles(),n=r.xAxis,i=n.size;if(i!=="auto")return i;var o=r.crosshair,a=0;n.show&&(n.axisLine.show&&(a+=n.axisLine.size),n.tickLine.show&&(a+=n.tickLine.length),n.tickText.show&&(a+=n.tickText.marginStart+n.tickText.marginEnd+n.tickText.size));var s=0;return o.show&&o.vertical.show&&o.vertical.text.show&&(s+=o.vertical.text.paddingTop+o.vertical.text.paddingBottom+o.vertical.text.borderSize*2+o.vertical.text.size),Math.max(a,s)},t.prototype.convertTimestampFromPixel=function(r){var n=this.getParent().getChart().getChartStore().getTimeScaleStore(),i=n.coordinateToDataIndex(r);return n.dataIndexToTimestamp(i)},t.prototype.convertTimestampToPixel=function(r){var n=this.getParent().getChart().getChartStore().getTimeScaleStore(),i=n.timestampToDataIndex(r);return n.dataIndexToCoordinate(i)},t.prototype.convertFromPixel=function(r){return this.getParent().getChart().getChartStore().getTimeScaleStore().coordinateToDataIndex(r)},t.prototype.convertToPixel=function(r){return this.getParent().getChart().getChartStore().getTimeScaleStore().dataIndexToCoordinate(r)},t}(ol),Xv=function(e){he(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createAxisComponent=function(){return new zv(this)},t.prototype.createMainWidget=function(r){return new Wv(r,this)},t}(sl);function jv(e,t){var r=0;return function(){var n=Date.now();n-r>(t??20)&&(e.apply(this,arguments),r=n)}}var Hv=function(e){he(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i._dragFlag=!1,i._dragStartY=0,i._topPaneHeight=0,i._bottomPaneHeight=0,i._pressedMouseMoveEvent=jv(i._pressedTouchMouseMoveEvent,20),i.registerEvent("touchStartEvent",i._mouseDownEvent.bind(i)).registerEvent("touchMoveEvent",i._pressedMouseMoveEvent.bind(i)).registerEvent("touchEndEvent",i._mouseUpEvent.bind(i)).registerEvent("mouseDownEvent",i._mouseDownEvent.bind(i)).registerEvent("mouseUpEvent",i._mouseUpEvent.bind(i)).registerEvent("pressedMouseMoveEvent",i._pressedMouseMoveEvent.bind(i)).registerEvent("mouseEnterEvent",i._mouseEnterEvent.bind(i)).registerEvent("mouseLeaveEvent",i._mouseLeaveEvent.bind(i)),i}return t.prototype.getName=function(){return ce.SEPARATOR},t.prototype.checkEventOn=function(){return!0},t.prototype._mouseDownEvent=function(r){this._dragFlag=!0,this._dragStartY=r.pageY;var n=this.getPane();return this._topPaneHeight=n.getTopPane().getBounding().height,this._bottomPaneHeight=n.getBottomPane().getBounding().height,!0},t.prototype._mouseUpEvent=function(){return this._dragFlag=!1,this._mouseLeaveEvent()},t.prototype._pressedTouchMouseMoveEvent=function(r){var n=r.pageY-this._dragStartY,i=this.getPane(),o=i.getTopPane(),a=i.getBottomPane(),s=n<0;if(o!==null&&a!==null&&a.getOptions().dragEnabled){var l=void 0,u=void 0,c=void 0,f=void 0;s?(l=o,u=a,c=this._topPaneHeight,f=this._bottomPaneHeight):(l=a,u=o,c=this._bottomPaneHeight,f=this._topPaneHeight);var h=l.getOptions().minHeight;if(c>h){var d=Math.max(c-Math.abs(n),h),v=c-d;l.setBounding({height:d}),u.setBounding({height:f+v});var g=i.getChart();g.getChartStore().getActionStore().execute(ft.OnPaneDrag,{paneId:i.getId()}),g.adjustPaneViewport(!0,!0,!0,!0,!0)}}return!0},t.prototype._mouseEnterEvent=function(){var r,n=this.getPane(),i=n.getBottomPane();if((r=i==null?void 0:i.getOptions().dragEnabled)!==null&&r!==void 0&&r){var o=n.getChart(),a=o.getStyles().separator;return this.getContainer().style.background=a.activeBackgroundColor,!0}return!1},t.prototype._mouseLeaveEvent=function(){return this._dragFlag?!1:(this.getContainer().style.background="",!0)},t.prototype.createContainer=function(){return kt("div",{width:"100%",height:"".concat(Hr,"px"),margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20",boxSizing:"border-box",cursor:"ns-resize"})},t.prototype.updateImp=function(r,n,i){if(i===4||i===2){var o=this.getPane().getChart().getStyles().separator;r.style.top="".concat(-Math.floor((Hr-o.size)/2),"px"),r.style.height="".concat(Hr,"px")}},t}($s),ya=function(e){he(t,e);function t(r,n,i,o,a,s){var l=e.call(this,r,n,i,o)||this;return l.getContainer().style.overflow="",l._topPane=a,l._bottomPane=s,l._separatorWidget=new Hv(l.getContainer(),l),l}return t.prototype.setBounding=function(r){return nt(this.getBounding(),r),this},t.prototype.getTopPane=function(){return this._topPane},t.prototype.setTopPane=function(r){return this._topPane=r,this},t.prototype.getBottomPane=function(){return this._bottomPane},t.prototype.setBottomPane=function(r){return this._bottomPane=r,this},t.prototype.getWidget=function(){return this._separatorWidget},t.prototype.getImage=function(r){var n=this.getBounding(),i=n.width,o=n.height,a=this.getChart().getStyles().separator,s=kt("canvas",{width:"".concat(i,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),l=s.getContext("2d"),u=jt(s);return s.width=i*u,s.height=o*u,l.scale(u,u),l.fillStyle=a.color,l.fillRect(0,0,i,o),s},t.prototype.updateImp=function(r,n,i){if(r===4||r===2){var o=this.getChart().getStyles().separator;n.style.backgroundColor=o.color,n.style.height="".concat(i.height,"px"),n.style.marginLeft="".concat(i.left,"px"),n.style.width="".concat(i.width,"px"),this._separatorWidget.update(r)}},t}(al);function xa(){var e;return typeof window>"u"?!1:((e=window.navigator.userAgent.toLowerCase().indexOf("firefox"))!==null&&e!==void 0?e:-1)>-1}function ui(){return typeof window>"u"?!1:/iPhone|iPad|iPod/.test(window.navigator.platform)}var Yv=10,Uv=function(){function e(t,r,n){var i=this;this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartCoordinate=null,this._touchMoveStartCoordinate=null,this._touchMoveExceededManhattanDistance=!1,this._cancelClick=!1,this._cancelTap=!1,this._unsubscribeOutsideMouseEvents=null,this._unsubscribeOutsideTouchEvents=null,this._unsubscribeMobileSafariEvents=null,this._unsubscribeMousemove=null,this._unsubscribeMouseWheel=null,this._unsubscribeContextMenu=null,this._unsubscribeRootMouseEvents=null,this._unsubscribeRootTouchEvents=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventTouchDragProcess=!1,this._mousePressed=!1,this._lastTouchEventTimeStamp=0,this._activeTouchId=null,this._acceptMouseLeave=!ui(),this._onFirefoxOutsideMouseUp=function(o){i._mouseUpHandler(o)},this._onMobileSafariDoubleClick=function(o){if(i._firesTouchEvents(o)){if(++i._tapCount,i._tapTimeoutId!==null&&i._tapCount>1){var a=i._mouseTouchMoveWithDownInfo(i._getCoordinate(o),i._tapCoordinate).manhattanDistance;a<30&&!i._cancelTap&&i._processEvent(i._makeCompatEvent(o),i._handler.doubleTapEvent),i._resetTapTimeout()}}else if(++i._clickCount,i._clickTimeoutId!==null&&i._clickCount>1){var a=i._mouseTouchMoveWithDownInfo(i._getCoordinate(o),i._clickCoordinate).manhattanDistance;a<5&&!i._cancelClick&&i._processEvent(i._makeCompatEvent(o),i._handler.mouseDoubleClickEvent),i._resetClickTimeout()}},this._target=t,this._handler=r,this._options=n,this._init()}return e.prototype.destroy=function(){this._unsubscribeOutsideMouseEvents!==null&&(this._unsubscribeOutsideMouseEvents(),this._unsubscribeOutsideMouseEvents=null),this._unsubscribeOutsideTouchEvents!==null&&(this._unsubscribeOutsideTouchEvents(),this._unsubscribeOutsideTouchEvents=null),this._unsubscribeMousemove!==null&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),this._unsubscribeMouseWheel!==null&&(this._unsubscribeMouseWheel(),this._unsubscribeMouseWheel=null),this._unsubscribeContextMenu!==null&&(this._unsubscribeContextMenu(),this._unsubscribeContextMenu=null),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null),this._unsubscribeMobileSafariEvents!==null&&(this._unsubscribeMobileSafariEvents(),this._unsubscribeMobileSafariEvents=null),this._clearLongTapTimeout(),this._resetClickTimeout()},e.prototype._mouseEnterHandler=function(t){var r=this,n,i,o;(n=this._unsubscribeMousemove)===null||n===void 0||n.call(this),(i=this._unsubscribeMouseWheel)===null||i===void 0||i.call(this),(o=this._unsubscribeContextMenu)===null||o===void 0||o.call(this);var a=this._mouseMoveHandler.bind(this);this._unsubscribeMousemove=function(){r._target.removeEventListener("mousemove",a)},this._target.addEventListener("mousemove",a);var s=this._mouseWheelHandler.bind(this);this._unsubscribeMouseWheel=function(){r._target.removeEventListener("wheel",s)},this._target.addEventListener("wheel",s,{passive:!1});var l=this._contextMenuHandler.bind(this);this._unsubscribeContextMenu=function(){r._target.removeEventListener("contextmenu",l)},this._target.addEventListener("contextmenu",l,{passive:!1}),!this._firesTouchEvents(t)&&(this._processEvent(this._makeCompatEvent(t),this._handler.mouseEnterEvent),this._acceptMouseLeave=!0)},e.prototype._resetClickTimeout=function(){this._clickTimeoutId!==null&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},e.prototype._resetTapTimeout=function(){this._tapTimeoutId!==null&&clearTimeout(this._tapTimeoutId),this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},e.prototype._mouseMoveHandler=function(t){this._mousePressed||this._touchMoveStartCoordinate!==null||this._firesTouchEvents(t)||(this._processEvent(this._makeCompatEvent(t),this._handler.mouseMoveEvent),this._acceptMouseLeave=!0)},e.prototype._mouseWheelHandler=function(t){if(Math.abs(t.deltaX)>Math.abs(t.deltaY)){if(!X(this._handler.mouseWheelHortEvent)||(this._preventDefault(t),Math.abs(t.deltaX)===0))return;this._handler.mouseWheelHortEvent(this._makeCompatEvent(t),-t.deltaX)}else{if(!X(this._handler.mouseWheelVertEvent))return;var r=-(t.deltaY/100);if(r===0)return;switch(this._preventDefault(t),t.deltaMode){case t.DOM_DELTA_PAGE:r*=120;break;case t.DOM_DELTA_LINE:r*=32;break}if(r!==0){var n=Math.sign(r)*Math.min(1,Math.abs(r));this._handler.mouseWheelVertEvent(this._makeCompatEvent(t),n)}}},e.prototype._contextMenuHandler=function(t){this._preventDefault(t)},e.prototype._touchMoveHandler=function(t){var r=this._touchWithId(t.changedTouches,this._activeTouchId);if(r!==null&&(this._lastTouchEventTimeStamp=this._eventTimeStamp(t),this._startPinchMiddleCoordinate===null&&!this._preventTouchDragProcess)){this._pinchPrevented=!0;var n=this._mouseTouchMoveWithDownInfo(this._getCoordinate(r),this._touchMoveStartCoordinate),i=n.xOffset,o=n.yOffset,a=n.manhattanDistance;if(!(!this._touchMoveExceededManhattanDistance&&a<5)){if(!this._touchMoveExceededManhattanDistance){var s=i*.5,l=o>=s&&!this._options.treatVertDragAsPageScroll(),u=s>o&&!this._options.treatHorzDragAsPageScroll();!l&&!u&&(this._preventTouchDragProcess=!0),this._touchMoveExceededManhattanDistance=!0,this._cancelTap=!0,this._clearLongTapTimeout(),this._resetTapTimeout()}this._preventTouchDragProcess||this._processEvent(this._makeCompatEvent(t,r),this._handler.touchMoveEvent)}}},e.prototype._mouseMoveWithDownHandler=function(t){if(t.button===0){var r=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._mouseMoveStartCoordinate),n=r.manhattanDistance;n>=5&&(this._cancelClick=!0,this._resetClickTimeout()),this._cancelClick&&this._processEvent(this._makeCompatEvent(t),this._handler.pressedMouseMoveEvent)}},e.prototype._mouseTouchMoveWithDownInfo=function(t,r){var n=Math.abs(r.x-t.x),i=Math.abs(r.y-t.y),o=n+i;return{xOffset:n,yOffset:i,manhattanDistance:o}},e.prototype._touchEndHandler=function(t){var r=this._touchWithId(t.changedTouches,this._activeTouchId);if(r===null&&t.touches.length===0&&(r=t.changedTouches[0]),r!==null){this._activeTouchId=null,this._lastTouchEventTimeStamp=this._eventTimeStamp(t),this._clearLongTapTimeout(),this._touchMoveStartCoordinate=null,this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var n=this._makeCompatEvent(t,r);if(this._processEvent(n,this._handler.touchEndEvent),++this._tapCount,this._tapTimeoutId!==null&&this._tapCount>1){var i=this._mouseTouchMoveWithDownInfo(this._getCoordinate(r),this._tapCoordinate).manhattanDistance;i<30&&!this._cancelTap&&this._processEvent(n,this._handler.doubleTapEvent),this._resetTapTimeout()}else this._cancelTap||(this._processEvent(n,this._handler.tapEvent),X(this._handler.tapEvent)&&this._preventDefault(t));this._tapCount===0&&this._preventDefault(t),t.touches.length===0&&this._longTapActive&&(this._longTapActive=!1,this._preventDefault(t))}},e.prototype._mouseUpHandler=function(t){if(t.button===0){var r=this._makeCompatEvent(t);if(this._mouseMoveStartCoordinate=null,this._mousePressed=!1,this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),xa()){var n=this._target.ownerDocument.documentElement;n.removeEventListener("mouseleave",this._onFirefoxOutsideMouseUp)}if(!this._firesTouchEvents(t))if(this._processEvent(r,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId!==null&&this._clickCount>1){var i=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._clickCoordinate).manhattanDistance;i<5&&!this._cancelClick&&this._processEvent(r,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()}else this._cancelClick||this._processEvent(r,this._handler.mouseClickEvent)}},e.prototype._clearLongTapTimeout=function(){this._longTapTimeoutId!==null&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)},e.prototype._touchStartHandler=function(t){if(this._activeTouchId===null){var r=t.changedTouches[0];this._activeTouchId=r.identifier,this._lastTouchEventTimeStamp=this._eventTimeStamp(t);var n=this._target.ownerDocument.documentElement;this._cancelTap=!1,this._touchMoveExceededManhattanDistance=!1,this._preventTouchDragProcess=!1,this._touchMoveStartCoordinate=this._getCoordinate(r),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);{var i=this._touchMoveHandler.bind(this),o=this._touchEndHandler.bind(this);this._unsubscribeRootTouchEvents=function(){n.removeEventListener("touchmove",i),n.removeEventListener("touchend",o)},n.addEventListener("touchmove",i,{passive:!1}),n.addEventListener("touchend",o,{passive:!1}),this._clearLongTapTimeout(),this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,t),500)}this._processEvent(this._makeCompatEvent(t,r),this._handler.touchStartEvent),this._tapTimeoutId===null&&(this._tapCount=0,this._tapTimeoutId=setTimeout(this._resetTapTimeout.bind(this),500),this._tapCoordinate=this._getCoordinate(r))}},e.prototype._mouseDownHandler=function(t){if(t.button===2){this._preventDefault(t),this._processEvent(this._makeCompatEvent(t),this._handler.mouseRightClickEvent);return}if(t.button===0){var r=this._target.ownerDocument.documentElement;xa()&&r.addEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._cancelClick=!1,this._mouseMoveStartCoordinate=this._getCoordinate(t),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null);{var n=this._mouseMoveWithDownHandler.bind(this),i=this._mouseUpHandler.bind(this);this._unsubscribeRootMouseEvents=function(){r.removeEventListener("mousemove",n),r.removeEventListener("mouseup",i)},r.addEventListener("mousemove",n),r.addEventListener("mouseup",i)}this._mousePressed=!0,!this._firesTouchEvents(t)&&(this._processEvent(this._makeCompatEvent(t),this._handler.mouseDownEvent),this._clickTimeoutId===null&&(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500),this._clickCoordinate=this._getCoordinate(t)))}},e.prototype._init=function(){var t=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));{var r=this._target.ownerDocument,n=function(i){t._handler.mouseDownOutsideEvent!=null&&(i.composed&&t._target.contains(i.composedPath()[0])||i.target!==null&&t._target.contains(i.target)||t._handler.mouseDownOutsideEvent({x:0,y:0,pageX:0,pageY:0}))};this._unsubscribeOutsideTouchEvents=function(){r.removeEventListener("touchstart",n)},this._unsubscribeOutsideMouseEvents=function(){r.removeEventListener("mousedown",n)},r.addEventListener("mousedown",n),r.addEventListener("touchstart",n,{passive:!0})}ui()&&(this._unsubscribeMobileSafariEvents=function(){t._target.removeEventListener("dblclick",t._onMobileSafariDoubleClick)},this._target.addEventListener("dblclick",this._onMobileSafariDoubleClick)),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._touchStartHandler.bind(this),{passive:!0}),this._target.addEventListener("mousedown",function(i){if(i.button===1)return i.preventDefault(),!1}),this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",function(){},{passive:!1})},e.prototype._initPinch=function(){var t=this;!X(this._handler.pinchStartEvent)&&!X(this._handler.pinchEvent)&&!X(this._handler.pinchEndEvent)||(this._target.addEventListener("touchstart",function(r){t._checkPinchState(r.touches)},{passive:!0}),this._target.addEventListener("touchmove",function(r){if(!(r.touches.length!==2||t._startPinchMiddleCoordinate===null)&&X(t._handler.pinchEvent)){var n=t._getTouchDistance(r.touches[0],r.touches[1]),i=n/t._startPinchDistance;t._handler.pinchEvent(J(J({},t._startPinchMiddleCoordinate),{pageX:0,pageY:0}),i),t._preventDefault(r)}},{passive:!1}),this._target.addEventListener("touchend",function(r){t._checkPinchState(r.touches)}))},e.prototype._checkPinchState=function(t){t.length===1&&(this._pinchPrevented=!1),t.length!==2||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(t)},e.prototype._startPinch=function(t){var r,n=(r=this._target.getBoundingClientRect())!==null&&r!==void 0?r:{left:0,top:0};this._startPinchMiddleCoordinate={x:(t[0].clientX-n.left+(t[1].clientX-n.left))/2,y:(t[0].clientY-n.top+(t[1].clientY-n.top))/2},this._startPinchDistance=this._getTouchDistance(t[0],t[1]),X(this._handler.pinchStartEvent)&&this._handler.pinchStartEvent({x:0,y:0,pageX:0,pageY:0}),this._clearLongTapTimeout()},e.prototype._stopPinch=function(){this._startPinchMiddleCoordinate!==null&&(this._startPinchMiddleCoordinate=null,X(this._handler.pinchEndEvent)&&this._handler.pinchEndEvent({x:0,y:0,pageX:0,pageY:0}))},e.prototype._mouseLeaveHandler=function(t){var r,n,i;(r=this._unsubscribeMousemove)===null||r===void 0||r.call(this),(n=this._unsubscribeMouseWheel)===null||n===void 0||n.call(this),(i=this._unsubscribeContextMenu)===null||i===void 0||i.call(this),!this._firesTouchEvents(t)&&this._acceptMouseLeave&&(this._processEvent(this._makeCompatEvent(t),this._handler.mouseLeaveEvent),this._acceptMouseLeave=!ui())},e.prototype._longTapHandler=function(t){var r=this._touchWithId(t.touches,this._activeTouchId);r!==null&&(this._processEvent(this._makeCompatEvent(t,r),this._handler.longTapEvent),this._cancelTap=!0,this._longTapActive=!0)},e.prototype._firesTouchEvents=function(t){var r;return X((r=t.sourceCapabilities)===null||r===void 0?void 0:r.firesTouchEvents)?t.sourceCapabilities.firesTouchEvents:this._eventTimeStamp(t)<this._lastTouchEventTimeStamp+500},e.prototype._processEvent=function(t,r){r==null||r.call(this._handler,t)},e.prototype._makeCompatEvent=function(t,r){var n=this,i,o=r??t,a=(i=this._target.getBoundingClientRect())!==null&&i!==void 0?i:{left:0,top:0};return{x:o.clientX-a.left,y:o.clientY-a.top,pageX:o.pageX,pageY:o.pageY,isTouch:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",preventDefault:function(){t.type!=="touchstart"&&n._preventDefault(t)}}},e.prototype._getTouchDistance=function(t,r){var n=t.clientX-r.clientX,i=t.clientY-r.clientY;return Math.sqrt(n*n+i*i)},e.prototype._preventDefault=function(t){t.cancelable&&t.preventDefault()},e.prototype._getCoordinate=function(t){return{x:t.pageX,y:t.pageY}},e.prototype._eventTimeStamp=function(t){var r;return(r=t.timeStamp)!==null&&r!==void 0?r:performance.now()},e.prototype._touchWithId=function(t,r){for(var n=0;n<t.length;++n)if(t[n].identifier===r)return t[n];return null},e}(),$v=function(){function e(t,r){var n=this;this._flingStartTime=new Date().getTime(),this._flingScrollRequestId=null,this._startScrollCoordinate=null,this._touchCoordinate=null,this._touchCancelCrosshair=!1,this._touchZoomed=!1,this._pinchScale=1,this._mouseDownWidget=null,this._prevYAxisExtremum=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,this._mouseMoveTriggerWidgetInfo={pane:null,widget:null},this._boundKeyBoardDownEvent=function(i){if(i.shiftKey)switch(i.code){case"Equal":{n._chart.getChartStore().getTimeScaleStore().zoom(.5);break}case"Minus":{n._chart.getChartStore().getTimeScaleStore().zoom(-.5);break}case"ArrowLeft":{var o=n._chart.getChartStore().getTimeScaleStore();o.startScroll(),o.scroll(-3*o.getBarSpace().bar);break}case"ArrowRight":{var o=n._chart.getChartStore().getTimeScaleStore();o.startScroll(),o.scroll(3*o.getBarSpace().bar);break}}},this._container=t,this._chart=r,this._event=new Uv(t,this,{treatVertDragAsPageScroll:function(){return!1},treatHorzDragAsPageScroll:function(){return!1}}),t.addEventListener("keydown",this._boundKeyBoardDownEvent)}return e.prototype.pinchStartEvent=function(){return this._touchZoomed=!0,this._pinchScale=1,!0},e.prototype.pinchEvent=function(t,r){var n=this._findWidgetByEvent(t),i=n.pane,o=n.widget;if((i==null?void 0:i.getId())!==be.X_AXIS&&(o==null?void 0:o.getName())===ce.MAIN){var a=this._makeWidgetEvent(t,o),s=(r-this._pinchScale)*5;return this._pinchScale=r,this._chart.getChartStore().getTimeScaleStore().zoom(s,{x:a.x,y:a.y}),!0}return!1},e.prototype.mouseWheelHortEvent=function(t,r){var n=this._chart.getChartStore().getTimeScaleStore();return n.startScroll(),n.scroll(r),!0},e.prototype.mouseWheelVertEvent=function(t,r){var n,i=this._findWidgetByEvent(t).widget,o=(n=t.isTouch)!==null&&n!==void 0?n:!1,a=this._makeWidgetEvent(t,i),s=null,l=i==null?void 0:i.getName();if(o)if(l===ce.MAIN||l===ce.X_AXIS)s={x:a.x,y:a.y};else{var u=this._chart.getCandlePane().getBounding();s={x:u.width/2,y:u.height/2}}else l===ce.MAIN&&(s={x:a.x,y:a.y});return s!==null?(this._chart.getChartStore().getTimeScaleStore().zoom(r,{x:a.x,y:a.y}),!0):!1},e.prototype.mouseDownEvent=function(t){var r,n,i=this._findWidgetByEvent(t),o=i.pane,a=i.widget;if(this._mouseDownWidget=a,a!==null){var s=this._makeWidgetEvent(t,a),l=a.getName();switch(l){case ce.SEPARATOR:return a.dispatchEvent("mouseDownEvent",s);case ce.MAIN:{var u=(r=o.getAxisComponent().getExtremum())!==null&&r!==void 0?r:null;return this._prevYAxisExtremum=u===null?u:J({},u),this._startScrollCoordinate={x:s.x,y:s.y},this._chart.getChartStore().getTimeScaleStore().startScroll(),a.dispatchEvent("mouseDownEvent",s)}case ce.X_AXIS:{var c=a.dispatchEvent("mouseDownEvent",s);return c&&this._chart.updatePane(1),this._xAxisStartScaleCoordinate={x:s.x,y:s.y},this._xAxisStartScaleDistance=s.pageX,c}case ce.Y_AXIS:{var c=a.dispatchEvent("mouseDownEvent",s);c&&this._chart.updatePane(1);var u=(n=o.getAxisComponent().getExtremum())!==null&&n!==void 0?n:null;return this._prevYAxisExtremum=u===null?u:J({},u),this._yAxisStartScaleDistance=s.pageY,c}}}return!1},e.prototype.mouseMoveEvent=function(t){var r,n,i,o=this._findWidgetByEvent(t),a=o.pane,s=o.widget,l=this._makeWidgetEvent(t,s);if((((r=this._mouseMoveTriggerWidgetInfo.pane)===null||r===void 0?void 0:r.getId())!==(a==null?void 0:a.getId())||((n=this._mouseMoveTriggerWidgetInfo.widget)===null||n===void 0?void 0:n.getName())!==(s==null?void 0:s.getName()))&&(s==null||s.dispatchEvent("mouseEnterEvent",l),(i=this._mouseMoveTriggerWidgetInfo.widget)===null||i===void 0||i.dispatchEvent("mouseLeaveEvent",l),this._mouseMoveTriggerWidgetInfo={pane:a,widget:s}),s!==null){var u=s.getName();switch(u){case ce.MAIN:{var c=s.dispatchEvent("mouseMoveEvent",l),f=this._chart.getChartStore(),h={x:l.x,y:l.y,paneId:a==null?void 0:a.getId()};return c&&f.getTooltipStore().getActiveIcon()!==null&&(h=void 0,s!==null&&(s.getContainer().style.cursor="pointer")),this._chart.getChartStore().getTooltipStore().setCrosshair(h),c}case ce.SEPARATOR:case ce.X_AXIS:case ce.Y_AXIS:{var c=s.dispatchEvent("mouseMoveEvent",l);return this._chart.getChartStore().getTooltipStore().setCrosshair(),c}}}return!1},e.prototype.pressedMouseMoveEvent=function(t){var r,n,i,o,a;if(this._mouseDownWidget!==null&&this._mouseDownWidget.getName()===ce.SEPARATOR)return this._mouseDownWidget.dispatchEvent("pressedMouseMoveEvent",t);var s=this._findWidgetByEvent(t),l=s.pane,u=s.widget;if(u!==null&&((r=this._mouseDownWidget)===null||r===void 0?void 0:r.getPane().getId())===(l==null?void 0:l.getId())&&((n=this._mouseDownWidget)===null||n===void 0?void 0:n.getName())===u.getName()){var c=this._makeWidgetEvent(t,u),f=u.getName();switch(f){case ce.MAIN:{var h=u.getBounding(),d=u.dispatchEvent("pressedMouseMoveEvent",c);if(!d&&this._startScrollCoordinate!==null){var v=l.getAxisComponent();if(this._prevYAxisExtremum!==null&&!v.getAutoCalcTickFlag()&&v.getScrollZoomEnabled()){var g=this._prevYAxisExtremum,p=g.min,m=g.max,y=g.range,x;(i=v==null?void 0:v.isReverse())!==null&&i!==void 0&&i?x=this._startScrollCoordinate.y-c.y:x=c.y-this._startScrollCoordinate.y;var b=x/h.height,C=y*b,E=p+C,I=m+C,P=v.convertToRealValue(E),A=v.convertToRealValue(I);v.setExtremum({min:E,max:I,range:I-E,realMin:P,realMax:A,realRange:A-P})}var O=c.x-this._startScrollCoordinate.x;this._chart.getChartStore().getTimeScaleStore().scroll(O)}return this._chart.getChartStore().getTooltipStore().setCrosshair({x:c.x,y:c.y,paneId:l==null?void 0:l.getId()}),d}case ce.X_AXIS:{var d=u.dispatchEvent("pressedMouseMoveEvent",c);if(d)this._chart.updatePane(1);else{var R=l.getAxisComponent();if(!((o=R==null?void 0:R.getScrollZoomEnabled())!==null&&o!==void 0)||o){var b=this._xAxisStartScaleDistance/c.pageX,j=(b-this._xAxisScale)*10;this._xAxisScale=b,this._chart.getChartStore().getTimeScaleStore().zoom(j,(a=this._xAxisStartScaleCoordinate)!==null&&a!==void 0?a:void 0)}}return d}case ce.Y_AXIS:{var d=u.dispatchEvent("pressedMouseMoveEvent",c);if(d)this._chart.updatePane(1);else{var v=l.getAxisComponent();if(this._prevYAxisExtremum!==null&&v.getScrollZoomEnabled()){var V=this._prevYAxisExtremum,p=V.min,m=V.max,y=V.range,b=c.pageY/this._yAxisStartScaleDistance,$=y*b,C=($-y)/2,E=p-C,I=m+C,P=v.convertToRealValue(E),A=v.convertToRealValue(I);v.setExtremum({min:E,max:I,range:$,realMin:P,realMax:A,realRange:A-P}),this._chart.adjustPaneViewport(!1,!0,!0,!0)}}return d}}}return!1},e.prototype.mouseUpEvent=function(t){var r=this._findWidgetByEvent(t).widget,n=!1;if(r!==null){var i=this._makeWidgetEvent(t,r),o=r.getName();switch(o){case ce.MAIN:case ce.SEPARATOR:case ce.X_AXIS:case ce.Y_AXIS:{n=r.dispatchEvent("mouseUpEvent",i);break}}n&&this._chart.updatePane(1)}return this._mouseDownWidget=null,this._startScrollCoordinate=null,this._prevYAxisExtremum=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,n},e.prototype.mouseClickEvent=function(t){var r=this._findWidgetByEvent(t).widget;if(r!==null){var n=this._makeWidgetEvent(t,r);return r.dispatchEvent("mouseClickEvent",n)}return!1},e.prototype.mouseRightClickEvent=function(t){var r=this._findWidgetByEvent(t).widget,n=!1;if(r!==null){var i=this._makeWidgetEvent(t,r),o=r.getName();switch(o){case ce.MAIN:case ce.X_AXIS:case ce.Y_AXIS:{n=r.dispatchEvent("mouseRightClickEvent",i);break}}n&&this._chart.updatePane(1)}return!1},e.prototype.mouseDoubleClickEvent=function(t){var r=this._findWidgetByEvent(t),n=r.pane,i=r.widget;if(i!==null){var o=i.getName();switch(o){case ce.MAIN:{var a=this._makeWidgetEvent(t,i);return i.dispatchEvent("mouseDoubleClickEvent",a)}case ce.Y_AXIS:{var s=n.getAxisComponent();if(!s.getAutoCalcTickFlag())return s.setAutoCalcTickFlag(!0),this._chart.adjustPaneViewport(!1,!0,!0,!0),!0;break}}}return!1},e.prototype.mouseLeaveEvent=function(){return this._chart.getChartStore().getTooltipStore().setCrosshair(),!0},e.prototype.touchStartEvent=function(t){var r=this._findWidgetByEvent(t),n=r.pane,i=r.widget;if(i!==null){var o=this._makeWidgetEvent(t,i),a=i.getName();switch(a){case ce.MAIN:{var s=this._chart.getChartStore(),l=s.getTooltipStore();if(i.dispatchEvent("mouseDownEvent",o))return this._touchCancelCrosshair=!0,this._touchCoordinate=null,l.setCrosshair(void 0,!0),this._chart.updatePane(1),!0;if(this._flingScrollRequestId!==null&&(Di(this._flingScrollRequestId),this._flingScrollRequestId=null),this._flingStartTime=new Date().getTime(),this._startScrollCoordinate={x:o.x,y:o.y},s.getTimeScaleStore().startScroll(),this._touchZoomed=!1,this._touchCoordinate!==null){var u=o.x-this._touchCoordinate.x,c=o.y-this._touchCoordinate.y,f=Math.sqrt(u*u+c*c);f<Yv?(this._touchCoordinate={x:o.x,y:o.y},l.setCrosshair({x:o.x,y:o.y,paneId:n==null?void 0:n.getId()})):(this._touchCoordinate=null,this._touchCancelCrosshair=!0,l.setCrosshair())}return!0}case ce.X_AXIS:case ce.Y_AXIS:{var h=i.dispatchEvent("mouseDownEvent",o);return h&&this._chart.updatePane(1),h}}}return!1},e.prototype.touchMoveEvent=function(t){var r,n,i,o=this._findWidgetByEvent(t),a=o.pane,s=o.widget;if(s!==null){var l=this._makeWidgetEvent(t,s),u=s.getName(),c=this._chart.getChartStore(),f=c.getTooltipStore();switch(u){case ce.MAIN:{if(s.dispatchEvent("pressedMouseMoveEvent",l))return(r=l.preventDefault)===null||r===void 0||r.call(l),f.setCrosshair(void 0,!0),this._chart.updatePane(1),!0;if(this._touchCoordinate!==null)(n=l.preventDefault)===null||n===void 0||n.call(l),f.setCrosshair({x:l.x,y:l.y,paneId:a==null?void 0:a.getId()});else if(this._startScrollCoordinate!==null&&Math.abs(this._startScrollCoordinate.x-l.x)>this._startScrollCoordinate.y-l.y){var h=l.x-this._startScrollCoordinate.x;c.getTimeScaleStore().scroll(h)}return!0}case ce.X_AXIS:case ce.Y_AXIS:{var d=s.dispatchEvent("pressedMouseMoveEvent",l);return d&&((i=l.preventDefault)===null||i===void 0||i.call(l),this._chart.updatePane(1)),d}}}return!1},e.prototype.touchEndEvent=function(t){var r=this,n=this._findWidgetByEvent(t).widget;if(n!==null){var i=this._makeWidgetEvent(t,n),o=n.getName();switch(o){case ce.MAIN:{if(n.dispatchEvent("mouseUpEvent",i),this._startScrollCoordinate!==null){var a=new Date().getTime()-this._flingStartTime,s=i.x-this._startScrollCoordinate.x,l=s/(a>0?a:1)*20;if(a<200&&Math.abs(l)>0){var u=this._chart.getChartStore().getTimeScaleStore(),c=function(){r._flingScrollRequestId=Ys(function(){u.startScroll(),u.scroll(l),l=l*(1-.025),Math.abs(l)<1?r._flingScrollRequestId!==null&&(Di(r._flingScrollRequestId),r._flingScrollRequestId=null):c()})};c()}}return!0}case ce.X_AXIS:case ce.Y_AXIS:{var f=n.dispatchEvent("mouseUpEvent",i);f&&this._chart.updatePane(1)}}}return!1},e.prototype.tapEvent=function(t){var r=this._findWidgetByEvent(t),n=r.pane,i=r.widget,o=!1;if(i!==null){var a=this._makeWidgetEvent(t,i),s=i.dispatchEvent("mouseClickEvent",a);if(i.getName()===ce.MAIN){var l=this._makeWidgetEvent(t,i),u=this._chart.getChartStore(),c=u.getTooltipStore();s?(this._touchCancelCrosshair=!0,this._touchCoordinate=null,c.setCrosshair(void 0,!0),o=!0):(!this._touchCancelCrosshair&&!this._touchZoomed&&(this._touchCoordinate={x:l.x,y:l.y},c.setCrosshair({x:l.x,y:l.y,paneId:n==null?void 0:n.getId()},!0),o=!0),this._touchCancelCrosshair=!1)}(o||s)&&this._chart.updatePane(1)}return o},e.prototype.doubleTapEvent=function(t){return this.mouseDoubleClickEvent(t)},e.prototype.longTapEvent=function(t){var r=this._findWidgetByEvent(t),n=r.pane,i=r.widget;if(i!==null&&i.getName()===ce.MAIN){var o=this._makeWidgetEvent(t,i);return this._touchCoordinate={x:o.x,y:o.y},this._chart.getChartStore().getTooltipStore().setCrosshair({x:o.x,y:o.y,paneId:n==null?void 0:n.getId()}),!0}return!1},e.prototype._findWidgetByEvent=function(t){var r,n,i,o,a=t.x,s=t.y,l=this._chart.getAllSeparatorPanes(),u=this._chart.getChartStore().getStyles().separator.size;try{for(var c=ir(l),f=c.next();!f.done;f=c.next()){var h=Xe(f.value,2),d=h[1],v=d.getBounding(),g=v.top-Math.round((Hr-u)/2);if(a>=v.left&&a<=v.left+v.width&&s>=g&&s<=g+Hr)return{pane:d,widget:d.getWidget()}}}catch(O){r={error:O}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}var p=this._chart.getAllDrawPanes(),m=null;try{for(var y=ir(p),x=y.next();!x.done;x=y.next()){var b=x.value,v=b.getBounding();if(a>=v.left&&a<=v.left+v.width&&s>=v.top&&s<=v.top+v.height){m=b;break}}}catch(O){i={error:O}}finally{try{x&&!x.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}var C=null;if(m!==null){if(C===null){var E=m.getMainWidget(),I=E.getBounding();a>=I.left&&a<=I.left+I.width&&s>=I.top&&s<=I.top+I.height&&(C=E)}if(C===null){var P=m.getYAxisWidget();if(P!==null){var A=P.getBounding();a>=A.left&&a<=A.left+A.width&&s>=A.top&&s<=A.top+A.height&&(C=P)}}}return{pane:m,widget:C}},e.prototype._makeWidgetEvent=function(t,r){var n,i,o,a=(n=r==null?void 0:r.getBounding())!==null&&n!==void 0?n:null;return J(J({},t),{x:t.x-((i=a==null?void 0:a.left)!==null&&i!==void 0?i:0),y:t.y-((o=a==null?void 0:a.top)!==null&&o!==void 0?o:0)})},e.prototype.destroy=function(){this._container.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._event.destroy()},e}(),pt;(function(e){e.Root="root",e.Main="main",e.YAxis="yAxis"})(pt||(pt={}));var ul=function(){function e(t,r){this._drawPanes=[],this._separatorPanes=new Map,this._initContainer(t),this._chartEvent=new $v(this._chartContainer,this),this._chartStore=new ev(this,r),this._initPanes(r),this.adjustPaneViewport(!0,!0,!0)}return e.prototype._initContainer=function(t){this._container=t,this._chartContainer=kt("div",{position:"relative",width:"100%",outline:"none",borderStyle:"none",cursor:"crosshair",boxSizing:"border-box",userSelect:"none",webkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent"}),this._chartContainer.tabIndex=1,t.appendChild(this._chartContainer)},e.prototype._initPanes=function(t){var r=this,n,i=(n=t==null?void 0:t.layout)!==null&&n!==void 0?n:[{type:"candle"}],o=!1,a=!1,s=function(l){if(!a){var u=r._createPane(Xv,be.X_AXIS,l??{});r._xAxisPane=u,a=!0}};i.forEach(function(l){var u,c,f;switch(l.type){case"candle":{if(!o){var h=(u=l.options)!==null&&u!==void 0?u:{};nt(h,{id:be.CANDLE});var d=r._createPane(Bv,be.CANDLE,h);r._candlePane=d;var v=(c=l.content)!==null&&c!==void 0?c:[];v.forEach(function(p){r.createIndicator(p,!0,h)}),o=!0}break}case"indicator":{var v=(f=l.content)!==null&&f!==void 0?f:[];if(v.length>0){var g;v.forEach(function(m){X(g)?r.createIndicator(m,!0,{id:g}):g=r.createIndicator(m,!0,l.options)})}break}case"xAxis":s(l.options)}}),s({position:"bottom"})},e.prototype._createPane=function(t,r,n){var i=null,o=null,a=n==null?void 0:n.position;switch(a){case"top":{var s=this._drawPanes[0];X(s)&&(o=new t(this._chartContainer,s.getContainer(),this,r),i=0);break}case"bottom":break;default:for(var l=this._drawPanes.length-1;l>-1;l--){var u=this._drawPanes[l],c=this._drawPanes[l-1];(u==null?void 0:u.getOptions().position)==="bottom"&&(c==null?void 0:c.getOptions().position)!=="bottom"&&(o=new t(this._chartContainer,u.getContainer(),this,r),i=l)}}X(o)||(o=new t(this._chartContainer,null,this,r)),o.setOptions(n??{});var f;if(X(i)?(this._drawPanes.splice(i,0,o),f=i):(this._drawPanes.push(o),f=this._drawPanes.length-1),o.getId()!==be.X_AXIS){var h=this._drawPanes[f+1];if(X(h)&&h.getId()===be.X_AXIS&&(h=this._drawPanes[f+2]),X(h)){var d=this._separatorPanes.get(h);X(d)?d.setTopPane(o):(d=new ya(this._chartContainer,h.getContainer(),this,"",o,h),this._separatorPanes.set(h,d))}var v=this._drawPanes[f-1];if(X(v)&&v.getId()===be.X_AXIS&&(v=this._drawPanes[f-2]),X(v)){var d=new ya(this._chartContainer,o.getContainer(),this,"",v,o);this._separatorPanes.set(o,d)}}return o},e.prototype._measurePaneHeight=function(){var t=this,r,n=this._container.getBoundingClientRect().height,i=Math.floor(n),o=this._chartStore.getStyles().separator.size,a=this._xAxisPane.getAxisComponent().getAutoSize(),s=i-a-this._separatorPanes.size*o;s<0&&(s=0);var l=0;this._drawPanes.forEach(function(f){if(f.getId()!==be.CANDLE&&f.getId()!==be.X_AXIS){var h=f.getBounding().height,d=f.getOptions().minHeight;h<d&&(h=d),l+h>s?(l=s,h=Math.max(s-l,0)):l+=h,f.setBounding({height:h})}});var u=s-l;(r=this._candlePane)===null||r===void 0||r.setBounding({height:u}),this._xAxisPane.setBounding({height:a});var c=0;this._drawPanes.forEach(function(f){var h=t._separatorPanes.get(f);X(h)&&(h.setBounding({height:o,top:c}),c+=o),f.setBounding({top:c}),c+=f.getBounding().height})},e.prototype._measurePaneWidth=function(){var t=this,r=this._container.getBoundingClientRect().width,n=Math.floor(r),i=this._chartStore.getStyles(),o=i.yAxis,a=o.position===Yt.Left,s=!o.inside,l=0,u=Number.MIN_SAFE_INTEGER,c=0,f=0;this._drawPanes.forEach(function(m){m.getId()!==be.X_AXIS&&(u=Math.max(u,m.getAxisComponent().getAutoSize()))}),u>n&&(u=n),s?(l=n-u,a?(c=0,f=u):(c=n-u,f=0)):(l=n,f=0,a?c=0:c=n-u),this._chartStore.getTimeScaleStore().setTotalBarSpace(l);var h={width:n},d={width:l,left:f},v={width:u,left:c},g=i.separator.fill,p;s&&!g?p=d:p=h,this._drawPanes.forEach(function(m){var y;(y=t._separatorPanes.get(m))===null||y===void 0||y.setBounding(p),m.setBounding(h,d,v)})},e.prototype._setPaneOptions=function(t,r){var n;if(se(t.id)){var i=this.getDrawPaneById(t.id),o=!1;if(i!==null){var a=r;if(t.id!==be.CANDLE&&q(t.height)&&t.height>0){var s=Math.max((n=t.minHeight)!==null&&n!==void 0?n:i.getOptions().minHeight,0),l=Math.max(s,t.height);i.setBounding({height:l}),a=!0,o=!0}i.setOptions(t),a&&this.adjustPaneViewport(o,!0,!0,!0,!0)}}},e.prototype.getDrawPaneById=function(t){if(t===be.CANDLE)return this._candlePane;if(t===be.X_AXIS)return this._xAxisPane;var r=this._drawPanes.find(function(n){return n.getId()===t});return r??null},e.prototype.getContainer=function(){return this._container},e.prototype.getChartStore=function(){return this._chartStore},e.prototype.getCandlePane=function(){return this._candlePane},e.prototype.getXAxisPane=function(){return this._xAxisPane},e.prototype.getAllDrawPanes=function(){return this._drawPanes},e.prototype.getAllSeparatorPanes=function(){return this._separatorPanes},e.prototype.adjustPaneViewport=function(t,r,n,i,o){t&&this._measurePaneHeight();var a=r,s=i??!1,l=o??!1;(s||l)&&this._drawPanes.forEach(function(u){var c=u.getAxisComponent().buildTicks(l);a||(a=c)}),a&&this._measurePaneWidth(),(n??!1)&&(this._xAxisPane.getAxisComponent().buildTicks(!0),this.updatePane(4))},e.prototype.updatePane=function(t,r){if(X(r)){var n=this.getDrawPaneById(r);n==null||n.update(t)}else this._separatorPanes.forEach(function(i){i.update(t)}),this._drawPanes.forEach(function(i){i.update(t)})},e.prototype.crosshairChange=function(t){var r=this,n=this._chartStore.getActionStore();if(n.has(ft.OnCrosshairChange)){var i={};this._drawPanes.forEach(function(o){var a=o.getId(),s={},l=r._chartStore.getIndicatorStore().getInstances(a);l.forEach(function(u){var c,f=u.result;s[u.name]=f[(c=t.dataIndex)!==null&&c!==void 0?c:f.length-1]}),i[a]=s}),se(t.paneId)&&n.execute(ft.OnCrosshairChange,J(J({},t),{indicatorData:i}))}},e.prototype.getDom=function(t,r){var n,i;if(se(t)){var o=this.getDrawPaneById(t);if(o!==null){var a=r??pt.Root;switch(a){case pt.Root:return o.getContainer();case pt.Main:return o.getMainWidget().getContainer();case pt.YAxis:return(i=(n=o.getYAxisWidget())===null||n===void 0?void 0:n.getContainer())!==null&&i!==void 0?i:null}}}else return this._chartContainer;return null},e.prototype.getSize=function(t,r){var n,i;if(X(t)){var o=this.getDrawPaneById(t);if(o!==null){var a=r??pt.Root;switch(a){case pt.Root:return o.getBounding();case pt.Main:return o.getMainWidget().getBounding();case pt.YAxis:return(i=(n=o.getYAxisWidget())===null||n===void 0?void 0:n.getBounding())!==null&&i!==void 0?i:null}}}else{var s=this._chartContainer.getBoundingClientRect(),l=s.width,u=s.height;return{width:Math.floor(l),height:Math.floor(u),left:0,top:0,right:0,bottom:0}}return null},e.prototype.setStyles=function(t){var r,n;this._chartStore.setOptions({styles:t});var i;se(t)?i=Hs(t):i=t,X((r=i==null?void 0:i.yAxis)===null||r===void 0?void 0:r.type)&&((n=this._candlePane)===null||n===void 0||n.getAxisComponent().setAutoCalcTickFlag(!0)),this.adjustPaneViewport(!0,!0,!0,!0,!0)},e.prototype.getStyles=function(){return this._chartStore.getStyles()},e.prototype.setLocale=function(t){this._chartStore.setOptions({locale:t}),this.adjustPaneViewport(!0,!0,!0,!0,!0)},e.prototype.getLocale=function(){return this._chartStore.getLocale()},e.prototype.setCustomApi=function(t){this._chartStore.setOptions({customApi:t}),this.adjustPaneViewport(!0,!0,!0,!0,!0)},e.prototype.setPriceVolumePrecision=function(t,r){this._chartStore.setPrecision({price:t,volume:r})},e.prototype.getPriceVolumePrecision=function(){return this._chartStore.getPrecision()},e.prototype.setTimezone=function(t){this._chartStore.setOptions({timezone:t}),this._xAxisPane.getAxisComponent().buildTicks(!0),this._xAxisPane.update(3)},e.prototype.getTimezone=function(){return this._chartStore.getTimeScaleStore().getTimezone()},e.prototype.setOffsetRightDistance=function(t){this._chartStore.getTimeScaleStore().setOffsetRightDistance(t,!0)},e.prototype.getOffsetRightDistance=function(){return this._chartStore.getTimeScaleStore().getOffsetRightDistance()},e.prototype.setMaxOffsetLeftDistance=function(t){t<0||this._chartStore.getTimeScaleStore().setMaxOffsetLeftDistance(t)},e.prototype.setMaxOffsetRightDistance=function(t){t<0||this._chartStore.getTimeScaleStore().setMaxOffsetRightDistance(t)},e.prototype.setLeftMinVisibleBarCount=function(t){t<0||this._chartStore.getTimeScaleStore().setLeftMinVisibleBarCount(Math.ceil(t))},e.prototype.setRightMinVisibleBarCount=function(t){t<0||this._chartStore.getTimeScaleStore().setRightMinVisibleBarCount(Math.ceil(t))},e.prototype.setBarSpace=function(t){this._chartStore.getTimeScaleStore().setBarSpace(t)},e.prototype.getBarSpace=function(){return this._chartStore.getTimeScaleStore().getBarSpace().bar},e.prototype.getVisibleRange=function(){return this._chartStore.getTimeScaleStore().getVisibleRange()},e.prototype.clearData=function(){this._chartStore.clear()},e.prototype.getDataList=function(){return this._chartStore.getDataList()},e.prototype.applyNewData=function(t,r,n){this._chartStore.clear(),t.length===0?this.adjustPaneViewport(!1,!0,!0,!0):this.applyMoreData(t,r,n)},e.prototype.applyMoreData=function(t,r,n){var i=this;this._chartStore.addData(t,0,r),t.length>0&&this._chartStore.getIndicatorStore().calcInstance().then(function(o){i.adjustPaneViewport(!1,!0,!0,!0),n==null||n()}).catch(function(o){})},e.prototype.updateData=function(t,r){var n=this,i=this._chartStore.getDataList(),o=i.length,a=t.timestamp,s=De(i[o-1],"timestamp",0);if(a>=s){var l=o;a===s&&(l=o-1),this._chartStore.addData(t,l),this._chartStore.getIndicatorStore().calcInstance().then(function(u){n.adjustPaneViewport(!1,!0,!0,!0),r==null||r()}).catch(function(u){})}},e.prototype.loadMore=function(t){this._chartStore.getTimeScaleStore().setLoadMoreCallback(t)},e.prototype.createIndicator=function(t,r,n,i){var o=this,a,s=se(t)?{name:t}:t;if(Ws(s.name)===null)return null;var l=n==null?void 0:n.id,u=this.getDrawPaneById(l??"");if(u!==null)this._chartStore.getIndicatorStore().addInstance(s,l??"",r??!1).then(function(h){var d;o._setPaneOptions(n??{},(d=u.getAxisComponent().buildTicks(!0))!==null&&d!==void 0?d:!1)}).catch(function(h){});else{l??(l=Ls(be.INDICATOR));var c=this._createPane(ll,l,n??{}),f=(a=n==null?void 0:n.height)!==null&&a!==void 0?a:Kd;c.setBounding({height:f}),this._chartStore.getIndicatorStore().addInstance(s,l,r??!1).finally(function(){o.adjustPaneViewport(!0,!0,!0,!0,!0),i==null||i()})}return l??null},e.prototype.overrideIndicator=function(t,r,n){var i=this;this._chartStore.getIndicatorStore().override(t,r??null).then(function(o){var a=Xe(o,2),s=a[0],l=a[1];(s||l)&&(i.adjustPaneViewport(!1,l,!0,l),n==null||n())}).catch(function(){})},e.prototype.getIndicatorByPaneId=function(t,r){return this._chartStore.getIndicatorStore().getInstanceByPaneId(t,r)},e.prototype.removeIndicator=function(t,r){var n,i,o,a=this._chartStore.getIndicatorStore(),s=a.removeInstance(t,r);if(s){var l=!1;if(t!==be.CANDLE&&!a.hasInstances(t)){var u=this.getDrawPaneById(t),c=this._drawPanes.findIndex(function(m){return m.getId()===t});if(u!==null){l=!0;var f=this._separatorPanes.get(u);if(X(f)){var h=f==null?void 0:f.getTopPane();try{for(var d=ir(this._separatorPanes),v=d.next();!v.done;v=d.next()){var g=v.value;if(g[1].getTopPane().getId()===u.getId()){g[1].setTopPane(h);break}}}catch(m){n={error:m}}finally{try{v&&!v.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}f.destroy(),this._separatorPanes.delete(u)}this._drawPanes.splice(c,1),u.destroy();var p=this._drawPanes[0];X(p)&&p.getId()===be.X_AXIS&&(p=this._drawPanes[1]),(o=this._separatorPanes.get(p))===null||o===void 0||o.destroy(),this._separatorPanes.delete(p)}}this.adjustPaneViewport(l,!0,!0,!0,!0)}},e.prototype.createOverlay=function(t,r){var n=[];if(se(t))n=[{name:t}];else if(yt(t))n=t.map(function(s){return se(s)?{name:s}:s});else{var i=t;n=[i]}var o=!0;(!X(r)||this.getDrawPaneById(r)===null)&&(r=be.CANDLE,o=!1);var a=this._chartStore.getOverlayStore().addInstances(n,r,o);return yt(t)?a:a[0]},e.prototype.getOverlayById=function(t){return this._chartStore.getOverlayStore().getInstanceById(t)},e.prototype.overrideOverlay=function(t){this._chartStore.getOverlayStore().override(t)},e.prototype.removeOverlay=function(t){var r;X(t)&&(se(t)?r={id:t}:r=t),this._chartStore.getOverlayStore().removeInstance(r)},e.prototype.setPaneOptions=function(t){this._setPaneOptions(t,!1)},e.prototype.setZoomEnabled=function(t){this._chartStore.getTimeScaleStore().setZoomEnabled(t)},e.prototype.isZoomEnabled=function(){return this._chartStore.getTimeScaleStore().getZoomEnabled()},e.prototype.setScrollEnabled=function(t){this._chartStore.getTimeScaleStore().setScrollEnabled(t)},e.prototype.isScrollEnabled=function(){return this._chartStore.getTimeScaleStore().getScrollEnabled()},e.prototype.scrollByDistance=function(t,r){var n=q(r)&&r>0?r:0,i=this._chartStore.getTimeScaleStore();if(n>0){i.startScroll();var o=new Date().getTime(),a=function(){var s=(new Date().getTime()-o)/n,l=s>=1,u=l?t:t*s;i.scroll(u),l||requestAnimationFrame(a)};a()}else i.startScroll(),i.scroll(t)},e.prototype.scrollToRealTime=function(t){var r=this._chartStore.getTimeScaleStore(),n=r.getBarSpace().bar,i=r.getLastBarRightSideDiffBarCount()-r.getInitialOffsetRightDistance()/n,o=i*n;this.scrollByDistance(o,t)},e.prototype.scrollToDataIndex=function(t,r){var n=this._chartStore.getTimeScaleStore(),i=(n.getLastBarRightSideDiffBarCount()+(this.getDataList().length-1-t))*n.getBarSpace().bar;this.scrollByDistance(i,r)},e.prototype.scrollToTimestamp=function(t,r){var n=Ai(this.getDataList(),"timestamp",t);this.scrollToDataIndex(n,r)},e.prototype.zoomAtCoordinate=function(t,r,n){var i=q(n)&&n>0?n:0,o=this._chartStore.getTimeScaleStore();if(i>0){var a=o.getBarSpace().bar,s=a*t,l=s-a,u=new Date().getTime(),c=function(){var f=(new Date().getTime()-u)/i,h=f>=1,d=h?l:l*f;o.zoom(d/a,r),h||requestAnimationFrame(c)};c()}else o.zoom(t,r)},e.prototype.zoomAtDataIndex=function(t,r,n){var i=this._chartStore.getTimeScaleStore().dataIndexToCoordinate(r);this.zoomAtCoordinate(t,{x:i,y:0},n)},e.prototype.zoomAtTimestamp=function(t,r,n){var i=Ai(this.getDataList(),"timestamp",r);this.zoomAtDataIndex(t,i,n)},e.prototype.convertToPixel=function(t,r){var n,i=r.paneId,o=i===void 0?be.CANDLE:i,a=r.absolute,s=a===void 0?!1:a,l=[];if(o!==be.X_AXIS){var u=this.getDrawPaneById(o);if(u!==null){var c=this._chartStore.getTimeScaleStore(),f=u.getBounding(),h=new Array().concat(t),d=this._xAxisPane.getAxisComponent(),v=u.getAxisComponent();l=h.map(function(g){var p={},m=g.dataIndex;if(q(g.timestamp)&&(m=c.timestampToDataIndex(g.timestamp)),q(m)&&(p.x=d==null?void 0:d.convertToPixel(m)),q(g.value)){var y=v==null?void 0:v.convertToPixel(g.value);p.y=s?f.top+y:y}return p})}}return yt(t)?l:(n=l[0])!==null&&n!==void 0?n:{}},e.prototype.convertFromPixel=function(t,r){var n,i=r.paneId,o=i===void 0?be.CANDLE:i,a=r.absolute,s=a===void 0?!1:a,l=[];if(o!==be.X_AXIS){var u=this.getDrawPaneById(o);if(u!==null){var c=this._chartStore.getTimeScaleStore(),f=u.getBounding(),h=new Array().concat(t),d=this._xAxisPane.getAxisComponent(),v=u.getAxisComponent();l=h.map(function(g){var p,m,y={};if(q(g.x)){var x=(p=d==null?void 0:d.convertFromPixel(g.x))!==null&&p!==void 0?p:-1;y.dataIndex=x,y.timestamp=(m=c.dataIndexToTimestamp(x))!==null&&m!==void 0?m:void 0}if(q(g.y)){var b=s?g.y-f.top:g.y;y.value=v.convertFromPixel(b)}return y})}}return yt(t)?l:(n=l[0])!==null&&n!==void 0?n:{}},e.prototype.executeAction=function(t,r){var n;switch(t){case ft.OnCrosshairChange:{var i=J({},r);i.paneId=(n=i.paneId)!==null&&n!==void 0?n:be.CANDLE,this._chartStore.getTooltipStore().setCrosshair(i);break}}},e.prototype.subscribeAction=function(t,r){this._chartStore.getActionStore().subscribe(t,r)},e.prototype.unsubscribeAction=function(t,r){this._chartStore.getActionStore().unsubscribe(t,r)},e.prototype.getConvertPictureUrl=function(t,r,n){var i=this,o=this._chartContainer.getBoundingClientRect(),a=o.width,s=o.height,l=kt("canvas",{width:"".concat(a,"px"),height:"".concat(s,"px"),boxSizing:"border-box"}),u=l.getContext("2d"),c=jt(l);l.width=a*c,l.height=s*c,u.scale(c,c),u.fillStyle=n??"#FFFFFF",u.fillRect(0,0,a,s);var f=t??!1;return this._drawPanes.forEach(function(h){var d=i._separatorPanes.get(h);if(X(d)){var v=d.getBounding();u.drawImage(d.getImage(f),v.left,v.top,v.width,v.height)}var g=h.getBounding();u.drawImage(h.getImage(f),0,g.top,a,g.height)}),l.toDataURL("image/".concat(r??"jpeg"))},e.prototype.resize=function(){this.adjustPaneViewport(!0,!0,!0,!0,!0)},e.prototype.destroy=function(){this._chartEvent.destroy(),this._drawPanes.forEach(function(t){t.destroy()}),this._drawPanes=[],this._separatorPanes.forEach(function(t){t.destroy()}),this._separatorPanes.clear(),this._container.removeChild(this._chartContainer)},e}(),Tn=new Map,Kv=1;function Gv(e,t){var r;if(se(e)?r=document.getElementById(e):r=e,r===null)return null;var n=Tn.get(r.id);if(X(n))return n;var i="k_line_chart_".concat(Kv++);return n=new ul(r,t),n.id=i,r.setAttribute("k-line-chart-id",i),Tn.set(i,n),n}function qv(e){var t,r,n;if(e instanceof ul)n=e.id;else{var i=void 0;se(e)?i=document.getElementById(e):i=e,n=(t=i==null?void 0:i.getAttribute("k-line-chart-id"))!==null&&t!==void 0?t:null}n!==null&&((r=Tn.get(n))===null||r===void 0||r.destroy(),Tn.delete(n))}const Zv={id:"k-line-chart"},Qv={__name:"TradingView",setup(e){const t=so(),{klineData:r}=bs(t),n=$e([]),i=$e(null),o=a=>({open:a.o,high:a.h,low:a.l,close:a.c,timestamp:a.t,volume:a.v});return bt(()=>r.value,a=>{if(a.length>1)n.value=[],a.forEach(s=>{n.value.push(o(s))}),i.value.applyNewData(n.value);else{const s=n.value;let u={...s[s.length-1]};u=o(a[0]),i.value.updateData(u)}},{deep:!0,immdeate:!0}),Qi(()=>{i.value=Gv("k-line-chart"),i.value.loadMore(async a=>{const s=`https://api.crypto.com/exchange/v1/public/get-candlestick?instrument_name=BTCUSD-PERP&timeframe=M1&end_ts=${a}`,{data:l}=await bh(s),c=JSON.parse(l.value).result.data.map(f=>o(f));i.value.applyMoreData(c,!0)})}),Ji(()=>{qv("chart")}),(a,s)=>(Vt(),Zt("div",Zv))}},Jv=jn(Qv,[["__scopeId","data-v-d08c599a"]]),ep=xs("websocketStore",()=>{const e=so();class t{constructor(i,o){sr(this,"connectSocket",()=>new Promise(i=>{this.socket=new WebSocket(this.wsUrl),this.socket.binaryType="arraybuffer",this.webSocketEvent(),this.websocketOnMessage(),this.socket.onopen=()=>{this.socketSend(),i(!0)}}));sr(this,"webSocketEvent",()=>{this.socket.onclose=()=>{console.error("websocket close!!"),this.reconnectTop()},this.socket.onerror=i=>{console.error("error",i)}});sr(this,"websocketOnMessage",()=>{this.socket.onmessage=i=>{const o=JSON.parse(i.data);e.setWebSockData(o),o.method==="public/heartbeat"&&(this.heartMessage={...this.heartMessage,id:o.id},this.socket.send(JSON.stringify(this.heartMessage)))}});sr(this,"reconnectTop",()=>{setTimeout(()=>{console.log(""),this.connectSocket()},3e3)});sr(this,"socketSend",()=>{this.socket.send(JSON.stringify(this.sendData))});this.wsUrl=i,this.sendData=o,this.socket=null,this.heartMessage={id:0,method:"public/respond-heartbeat"}}}return{connectSocket:new t("wss://stream.crypto.com/exchange/v1/market",{id:1,method:"subscribe",params:{channels:["book.BTCUSD-PERP.10","book.ETHUSD-PERP.10","book.SOL_USDT.10","book.XRP_USDT.10","book.ADA_USDT.10","book.MATIC_USDT.10","candlestick.M1.BTCUSD-PERP"]},nonce:1654784123465}).connectSocket}});const cl=e=>(mu("data-v-0ad78f84"),e=e(),_u(),e),tp={class:"order-list"},rp=cl(()=>Oe("div",{class:"title"}," : ",-1)),np={class:"orders"},ip={class:"orders"},op={class:"k-line-area"},ap=cl(()=>Oe("div",{class:"title"}," :k ",-1)),sp={__name:"HomeView",setup(e){const t=ep(),{connectSocket:r}=t;return Qi(async()=>{r()}),(n,i)=>(Vt(),Zt("main",null,[Oe("div",tp,[Oe("div",null,[rp,Oe("div",np,[ke(cr,{name:"BTCUSD-PERP"}),ke(cr,{name:"ETHUSD-PERP"}),ke(cr,{name:"SOL_USDT"})]),Oe("div",ip,[ke(cr,{name:"XRP_USDT"}),ke(cr,{name:"ADA_USDT"}),ke(cr,{name:"MATIC_USDT"})])]),Oe("div",op,[ap,ke(Jv)])])]))}},lp=jn(sp,[["__scopeId","data-v-0ad78f84"]]),up=rh({history:_f("/"),routes:[{path:"/",name:"home",component:lp}]}),vo=Xc(Jc);vo.use(Yc());vo.use(up);vo.mount("#app");
